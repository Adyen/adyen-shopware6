(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["adyen-payment-shopware6"],{

/***/ "CQEO":
/*!*****************************************************************************************************************!*\
  !*** /var/www/html/vendor/adyen/adyen-shopware6/src/Resources/app/storefront/src/finish/adyen-giving.plugin.js ***!
  \*****************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return AdyenGivingPlugin; });\n/* harmony import */ var src_plugin_system_plugin_class__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! src/plugin-system/plugin.class */ \"FGIj\");\n/* harmony import */ var src_helper_dom_access_helper__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! src/helper/dom-access.helper */ \"gHbT\");\n/* harmony import */ var src_service_store_api_client_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/service/store-api-client.service */ \"p4AR\");\n/* harmony import */ var src_utility_loading_indicator_element_loading_indicator_util__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/utility/loading-indicator/element-loading-indicator.util */ \"u0Tz\");\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\n/*\n *                       ######\n *                       ######\n * ############    ####( ######  #####. ######  ############   ############\n * #############  #####( ######  #####. ######  #############  #############\n *        ######  #####( ######  #####. ######  #####  ######  #####  ######\n * ###### ######  #####( ######  #####. ######  #####  #####   #####  ######\n * ###### ######  #####( ######  #####. ######  #####          #####  ######\n * #############  #############  #############  #############  #####  ######\n *  ############   ############  #############   ############  #####  ######\n *                                      ######\n *                               #############\n *                               ############\n *\n * Adyen Payment Module\n *\n * Copyright (c) 2022 Adyen N.V.\n * This file is open source and available under the MIT license.\n * See the LICENSE file for more info.\n *\n */\n\n\n\n\n\nvar AdyenGivingPlugin = /*#__PURE__*/function (_Plugin) {\n  _inherits(AdyenGivingPlugin, _Plugin);\n\n  function AdyenGivingPlugin() {\n    _classCallCheck(this, AdyenGivingPlugin);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(AdyenGivingPlugin).apply(this, arguments));\n  }\n\n  _createClass(AdyenGivingPlugin, [{\n    key: \"init\",\n    value: function init() {\n      this._client = new src_service_store_api_client_service__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\n      this.adyenCheckout = Promise;\n      this.initializeCheckoutComponent().bind(this);\n    }\n  }, {\n    key: \"initializeCheckoutComponent\",\n    value: function () {\n      var _initializeCheckoutComponent = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n        var _adyenCheckoutConfigu, locale, clientKey, environment, _adyenGivingConfigura, currency, values, backgroundUrl, logoUrl, name, description, url, ADYEN_CHECKOUT_CONFIG, ADYEN_GIVING_CONFIG;\n\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _adyenCheckoutConfigu = adyenCheckoutConfiguration, locale = _adyenCheckoutConfigu.locale, clientKey = _adyenCheckoutConfigu.clientKey, environment = _adyenCheckoutConfigu.environment;\n                _adyenGivingConfigura = adyenGivingConfiguration, currency = _adyenGivingConfigura.currency, values = _adyenGivingConfigura.values, backgroundUrl = _adyenGivingConfigura.backgroundUrl, logoUrl = _adyenGivingConfigura.logoUrl, name = _adyenGivingConfigura.name, description = _adyenGivingConfigura.description, url = _adyenGivingConfigura.url;\n                ADYEN_CHECKOUT_CONFIG = {\n                  locale: locale,\n                  clientKey: clientKey,\n                  environment: environment\n                };\n                ADYEN_GIVING_CONFIG = {\n                  amounts: {\n                    currency: currency,\n                    values: values.split(\",\").map(function (element) {\n                      return Number(element);\n                    })\n                  },\n                  backgroundUrl: backgroundUrl,\n                  logoUrl: logoUrl,\n                  description: description,\n                  name: name,\n                  url: url,\n                  showCancelButton: true,\n                  onDonate: this.handleOnDonate.bind(this),\n                  onCancel: this.handleOnCancel.bind(this)\n                };\n                _context.next = 6;\n                return AdyenCheckout(ADYEN_CHECKOUT_CONFIG);\n\n              case 6:\n                this.adyenCheckout = _context.sent;\n                this.adyenCheckout.create('donation', ADYEN_GIVING_CONFIG).mount('#donation-container');\n\n              case 8:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function initializeCheckoutComponent() {\n        return _initializeCheckoutComponent.apply(this, arguments);\n      }\n\n      return initializeCheckoutComponent;\n    }()\n  }, {\n    key: \"handleOnDonate\",\n    value: function handleOnDonate(state, component) {\n      var orderId = adyenGivingConfiguration.orderId;\n\n      var payload = _objectSpread({}, state.data, {\n        orderId: orderId\n      });\n\n      payload.returnUrl = window.location.href;\n\n      this._client.post(\"\".concat(adyenGivingConfiguration.donationEndpointUrl), JSON.stringify({\n        payload: payload\n      }), function (paymentResponse) {\n        if (this._client._request.status !== 200) {\n          component.setStatus(\"error\");\n        } else {\n          component.setStatus(\"success\");\n        }\n      }.bind(this));\n    }\n  }, {\n    key: \"handleOnCancel\",\n    value: function handleOnCancel() {\n      var continueActionUrl = adyenGivingConfiguration.continueActionUrl;\n      window.location = continueActionUrl;\n    }\n  }]);\n\n  return AdyenGivingPlugin;\n}(src_plugin_system_plugin_class__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQ1FFTy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8vdmFyL3d3dy9odG1sL3ZlbmRvci9hZHllbi9hZHllbi1zaG9wd2FyZTYvc3JjL1Jlc291cmNlcy9hcHAvc3RvcmVmcm9udC9zcmMvZmluaXNoL2FkeWVuLWdpdmluZy5wbHVnaW4uanM/NmUzMCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuICogICAgICAgICAgICAgICAgICAgICAgICMjIyMjI1xuICogICAgICAgICAgICAgICAgICAgICAgICMjIyMjI1xuICogIyMjIyMjIyMjIyMjICAgICMjIyMoICMjIyMjIyAgIyMjIyMuICMjIyMjIyAgIyMjIyMjIyMjIyMjICAgIyMjIyMjIyMjIyMjXG4gKiAjIyMjIyMjIyMjIyMjICAjIyMjIyggIyMjIyMjICAjIyMjIy4gIyMjIyMjICAjIyMjIyMjIyMjIyMjICAjIyMjIyMjIyMjIyMjXG4gKiAgICAgICAgIyMjIyMjICAjIyMjIyggIyMjIyMjICAjIyMjIy4gIyMjIyMjICAjIyMjIyAgIyMjIyMjICAjIyMjIyAgIyMjIyMjXG4gKiAjIyMjIyMgIyMjIyMjICAjIyMjIyggIyMjIyMjICAjIyMjIy4gIyMjIyMjICAjIyMjIyAgIyMjIyMgICAjIyMjIyAgIyMjIyMjXG4gKiAjIyMjIyMgIyMjIyMjICAjIyMjIyggIyMjIyMjICAjIyMjIy4gIyMjIyMjICAjIyMjIyAgICAgICAgICAjIyMjIyAgIyMjIyMjXG4gKiAjIyMjIyMjIyMjIyMjICAjIyMjIyMjIyMjIyMjICAjIyMjIyMjIyMjIyMjICAjIyMjIyMjIyMjIyMjICAjIyMjIyAgIyMjIyMjXG4gKiAgIyMjIyMjIyMjIyMjICAgIyMjIyMjIyMjIyMjICAjIyMjIyMjIyMjIyMjICAgIyMjIyMjIyMjIyMjICAjIyMjIyAgIyMjIyMjXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIyMjIyMjXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAjIyMjIyMjIyMjIyMjXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAjIyMjIyMjIyMjIyNcbiAqXG4gKiBBZHllbiBQYXltZW50IE1vZHVsZVxuICpcbiAqIENvcHlyaWdodCAoYykgMjAyMiBBZHllbiBOLlYuXG4gKiBUaGlzIGZpbGUgaXMgb3BlbiBzb3VyY2UgYW5kIGF2YWlsYWJsZSB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXG4gKiBTZWUgdGhlIExJQ0VOU0UgZmlsZSBmb3IgbW9yZSBpbmZvLlxuICpcbiAqL1xuXG5pbXBvcnQgUGx1Z2luIGZyb20gJ3NyYy9wbHVnaW4tc3lzdGVtL3BsdWdpbi5jbGFzcyc7XG5pbXBvcnQgRG9tQWNjZXNzIGZyb20gJ3NyYy9oZWxwZXIvZG9tLWFjY2Vzcy5oZWxwZXInO1xuaW1wb3J0IFN0b3JlQXBpQ2xpZW50IGZyb20gJ3NyYy9zZXJ2aWNlL3N0b3JlLWFwaS1jbGllbnQuc2VydmljZSc7XG5pbXBvcnQgRWxlbWVudExvYWRpbmdJbmRpY2F0b3JVdGlsIGZyb20gJ3NyYy91dGlsaXR5L2xvYWRpbmctaW5kaWNhdG9yL2VsZW1lbnQtbG9hZGluZy1pbmRpY2F0b3IudXRpbCc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEFkeWVuR2l2aW5nUGx1Z2luIGV4dGVuZHMgUGx1Z2luIHtcbiAgICBpbml0KCkge1xuICAgICAgICB0aGlzLl9jbGllbnQgPSBuZXcgU3RvcmVBcGlDbGllbnQoKTtcbiAgICAgICAgdGhpcy5hZHllbkNoZWNrb3V0ID0gUHJvbWlzZTtcbiAgICAgICAgdGhpcy5pbml0aWFsaXplQ2hlY2tvdXRDb21wb25lbnQoKS5iaW5kKHRoaXMpO1xuICAgIH1cblxuICAgIGFzeW5jIGluaXRpYWxpemVDaGVja291dENvbXBvbmVudCAoKSB7XG4gICAgICAgIGNvbnN0IHsgbG9jYWxlLCBjbGllbnRLZXksIGVudmlyb25tZW50IH0gPSBhZHllbkNoZWNrb3V0Q29uZmlndXJhdGlvbjtcbiAgICAgICAgY29uc3QgeyBjdXJyZW5jeSwgdmFsdWVzLCBiYWNrZ3JvdW5kVXJsLFxuICAgICAgICAgICAgbG9nb1VybCwgbmFtZSwgZGVzY3JpcHRpb24sIHVybH0gPSBhZHllbkdpdmluZ0NvbmZpZ3VyYXRpb247XG5cbiAgICAgICAgY29uc3QgQURZRU5fQ0hFQ0tPVVRfQ09ORklHID0ge1xuICAgICAgICAgICAgbG9jYWxlLFxuICAgICAgICAgICAgY2xpZW50S2V5LFxuICAgICAgICAgICAgZW52aXJvbm1lbnRcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCBBRFlFTl9HSVZJTkdfQ09ORklHID0ge1xuICAgICAgICAgICAgYW1vdW50czoge1xuICAgICAgICAgICAgICAgIGN1cnJlbmN5OiBjdXJyZW5jeSxcbiAgICAgICAgICAgICAgICB2YWx1ZXM6IHZhbHVlcy5zcGxpdChcIixcIikubWFwKGVsZW1lbnQgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTnVtYmVyKGVsZW1lbnQpO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgYmFja2dyb3VuZFVybDogYmFja2dyb3VuZFVybCxcbiAgICAgICAgICAgIGxvZ29Vcmw6IGxvZ29VcmwsXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogZGVzY3JpcHRpb24sXG4gICAgICAgICAgICBuYW1lOiBuYW1lLFxuICAgICAgICAgICAgdXJsOiB1cmwsXG4gICAgICAgICAgICBzaG93Q2FuY2VsQnV0dG9uOiB0cnVlLFxuICAgICAgICAgICAgb25Eb25hdGU6IHRoaXMuaGFuZGxlT25Eb25hdGUuYmluZCh0aGlzKSxcbiAgICAgICAgICAgIG9uQ2FuY2VsOiB0aGlzLmhhbmRsZU9uQ2FuY2VsLmJpbmQodGhpcylcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuYWR5ZW5DaGVja291dCA9IGF3YWl0IEFkeWVuQ2hlY2tvdXQoQURZRU5fQ0hFQ0tPVVRfQ09ORklHKTtcbiAgICAgICAgdGhpcy5hZHllbkNoZWNrb3V0LmNyZWF0ZSgnZG9uYXRpb24nLCBBRFlFTl9HSVZJTkdfQ09ORklHKS5tb3VudCgnI2RvbmF0aW9uLWNvbnRhaW5lcicpO1xuICAgIH1cblxuICAgIGhhbmRsZU9uRG9uYXRlKHN0YXRlLCBjb21wb25lbnQpIHtcbiAgICAgICAgY29uc3Qgb3JkZXJJZCA9IGFkeWVuR2l2aW5nQ29uZmlndXJhdGlvbi5vcmRlcklkO1xuICAgICAgICBsZXQgcGF5bG9hZCA9IHsuLi5zdGF0ZS5kYXRhLCBvcmRlcklkfTtcbiAgICAgICAgcGF5bG9hZC5yZXR1cm5VcmwgPSB3aW5kb3cubG9jYXRpb24uaHJlZjtcblxuICAgICAgICB0aGlzLl9jbGllbnQucG9zdChcbiAgICAgICAgICAgIGAke2FkeWVuR2l2aW5nQ29uZmlndXJhdGlvbi5kb25hdGlvbkVuZHBvaW50VXJsfWAsXG4gICAgICAgICAgICBKU09OLnN0cmluZ2lmeSh7cGF5bG9hZDogcGF5bG9hZH0pLFxuICAgICAgICAgICAgZnVuY3Rpb24gKHBheW1lbnRSZXNwb25zZSkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9jbGllbnQuX3JlcXVlc3Quc3RhdHVzICE9PSAyMDApIHtcbiAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50LnNldFN0YXR1cyhcImVycm9yXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50LnNldFN0YXR1cyhcInN1Y2Nlc3NcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfS5iaW5kKHRoaXMpXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgaGFuZGxlT25DYW5jZWwoKSB7XG4gICAgICAgIGxldCBjb250aW51ZUFjdGlvblVybCA9IGFkeWVuR2l2aW5nQ29uZmlndXJhdGlvbi5jb250aW51ZUFjdGlvblVybDtcbiAgICAgICAgd2luZG93LmxvY2F0aW9uID0gY29udGludWVBY3Rpb25Vcmw7XG4gICAgfVxufVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7OztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7O0FBR0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFKQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFkQTs7QUFpQkE7QUFDQTs7QUFEQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7OztBQUVBO0FBQ0E7QUFDQTtBQUNBOzs7O0FBN0RBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///CQEO\n");

/***/ }),

/***/ "CbCH":
/*!*************************************************************************************************************************!*\
  !*** /var/www/html/vendor/adyen/adyen-shopware6/src/Resources/app/storefront/src/finish/adyen-success-action.plugin.js ***!
  \*************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return AdyenSuccessActionPlugin; });\n/* harmony import */ var src_plugin_system_plugin_class__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! src/plugin-system/plugin.class */ \"FGIj\");\n/* harmony import */ var src_helper_dom_access_helper__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! src/helper/dom-access.helper */ \"gHbT\");\n/* harmony import */ var src_service_store_api_client_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/service/store-api-client.service */ \"p4AR\");\n/* harmony import */ var src_utility_loading_indicator_element_loading_indicator_util__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/utility/loading-indicator/element-loading-indicator.util */ \"u0Tz\");\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\n/*\n *                       ######\n *                       ######\n * ############    ####( ######  #####. ######  ############   ############\n * #############  #####( ######  #####. ######  #############  #############\n *        ######  #####( ######  #####. ######  #####  ######  #####  ######\n * ###### ######  #####( ######  #####. ######  #####  #####   #####  ######\n * ###### ######  #####( ######  #####. ######  #####          #####  ######\n * #############  #############  #############  #############  #####  ######\n *  ############   ############  #############   ############  #####  ######\n *                                      ######\n *                               #############\n *                               ############\n *\n * Adyen Payment Module\n *\n * Copyright (c) 2022 Adyen N.V.\n * This file is open source and available under the MIT license.\n * See the LICENSE file for more info.\n *\n */\n\n\n\n\n\nvar AdyenSuccessActionPlugin = /*#__PURE__*/function (_Plugin) {\n  _inherits(AdyenSuccessActionPlugin, _Plugin);\n\n  function AdyenSuccessActionPlugin() {\n    _classCallCheck(this, AdyenSuccessActionPlugin);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(AdyenSuccessActionPlugin).apply(this, arguments));\n  }\n\n  _createClass(AdyenSuccessActionPlugin, [{\n    key: \"init\",\n    value: function init() {\n      this._client = new src_service_store_api_client_service__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\n      this.adyenCheckout = Promise;\n      this.initializeCheckoutComponent().bind(this);\n    }\n  }, {\n    key: \"initializeCheckoutComponent\",\n    value: function () {\n      var _initializeCheckoutComponent = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n        var _adyenCheckoutConfigu, locale, clientKey, environment, _adyenSuccessActionCo, action, ADYEN_CHECKOUT_CONFIG;\n\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _adyenCheckoutConfigu = adyenCheckoutConfiguration, locale = _adyenCheckoutConfigu.locale, clientKey = _adyenCheckoutConfigu.clientKey, environment = _adyenCheckoutConfigu.environment;\n                _adyenSuccessActionCo = adyenSuccessActionConfiguration, action = _adyenSuccessActionCo.action;\n                ADYEN_CHECKOUT_CONFIG = {\n                  locale: locale,\n                  clientKey: clientKey,\n                  environment: environment\n                };\n                _context.next = 5;\n                return AdyenCheckout(ADYEN_CHECKOUT_CONFIG);\n\n              case 5:\n                this.adyenCheckout = _context.sent;\n                this.adyenCheckout.createFromAction(JSON.parse(action)).mount('#success-action-container');\n\n              case 7:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function initializeCheckoutComponent() {\n        return _initializeCheckoutComponent.apply(this, arguments);\n      }\n\n      return initializeCheckoutComponent;\n    }()\n  }]);\n\n  return AdyenSuccessActionPlugin;\n}(src_plugin_system_plugin_class__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQ2JDSC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8vdmFyL3d3dy9odG1sL3ZlbmRvci9hZHllbi9hZHllbi1zaG9wd2FyZTYvc3JjL1Jlc291cmNlcy9hcHAvc3RvcmVmcm9udC9zcmMvZmluaXNoL2FkeWVuLXN1Y2Nlc3MtYWN0aW9uLnBsdWdpbi5qcz9jZDk2Il0sInNvdXJjZXNDb250ZW50IjpbIi8qXG4gKiAgICAgICAgICAgICAgICAgICAgICAgIyMjIyMjXG4gKiAgICAgICAgICAgICAgICAgICAgICAgIyMjIyMjXG4gKiAjIyMjIyMjIyMjIyMgICAgIyMjIyggIyMjIyMjICAjIyMjIy4gIyMjIyMjICAjIyMjIyMjIyMjIyMgICAjIyMjIyMjIyMjIyNcbiAqICMjIyMjIyMjIyMjIyMgICMjIyMjKCAjIyMjIyMgICMjIyMjLiAjIyMjIyMgICMjIyMjIyMjIyMjIyMgICMjIyMjIyMjIyMjIyNcbiAqICAgICAgICAjIyMjIyMgICMjIyMjKCAjIyMjIyMgICMjIyMjLiAjIyMjIyMgICMjIyMjICAjIyMjIyMgICMjIyMjICAjIyMjIyNcbiAqICMjIyMjIyAjIyMjIyMgICMjIyMjKCAjIyMjIyMgICMjIyMjLiAjIyMjIyMgICMjIyMjICAjIyMjIyAgICMjIyMjICAjIyMjIyNcbiAqICMjIyMjIyAjIyMjIyMgICMjIyMjKCAjIyMjIyMgICMjIyMjLiAjIyMjIyMgICMjIyMjICAgICAgICAgICMjIyMjICAjIyMjIyNcbiAqICMjIyMjIyMjIyMjIyMgICMjIyMjIyMjIyMjIyMgICMjIyMjIyMjIyMjIyMgICMjIyMjIyMjIyMjIyMgICMjIyMjICAjIyMjIyNcbiAqICAjIyMjIyMjIyMjIyMgICAjIyMjIyMjIyMjIyMgICMjIyMjIyMjIyMjIyMgICAjIyMjIyMjIyMjIyMgICMjIyMjICAjIyMjIyNcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAjIyMjIyNcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICMjIyMjIyMjIyMjIyNcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICMjIyMjIyMjIyMjI1xuICpcbiAqIEFkeWVuIFBheW1lbnQgTW9kdWxlXG4gKlxuICogQ29weXJpZ2h0IChjKSAyMDIyIEFkeWVuIE4uVi5cbiAqIFRoaXMgZmlsZSBpcyBvcGVuIHNvdXJjZSBhbmQgYXZhaWxhYmxlIHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cbiAqIFNlZSB0aGUgTElDRU5TRSBmaWxlIGZvciBtb3JlIGluZm8uXG4gKlxuICovXG5cbmltcG9ydCBQbHVnaW4gZnJvbSAnc3JjL3BsdWdpbi1zeXN0ZW0vcGx1Z2luLmNsYXNzJztcbmltcG9ydCBEb21BY2Nlc3MgZnJvbSAnc3JjL2hlbHBlci9kb20tYWNjZXNzLmhlbHBlcic7XG5pbXBvcnQgU3RvcmVBcGlDbGllbnQgZnJvbSAnc3JjL3NlcnZpY2Uvc3RvcmUtYXBpLWNsaWVudC5zZXJ2aWNlJztcbmltcG9ydCBFbGVtZW50TG9hZGluZ0luZGljYXRvclV0aWwgZnJvbSAnc3JjL3V0aWxpdHkvbG9hZGluZy1pbmRpY2F0b3IvZWxlbWVudC1sb2FkaW5nLWluZGljYXRvci51dGlsJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQWR5ZW5TdWNjZXNzQWN0aW9uUGx1Z2luIGV4dGVuZHMgUGx1Z2luIHtcbiAgICBpbml0KCkge1xuICAgICAgICB0aGlzLl9jbGllbnQgPSBuZXcgU3RvcmVBcGlDbGllbnQoKTtcbiAgICAgICAgdGhpcy5hZHllbkNoZWNrb3V0ID0gUHJvbWlzZTtcbiAgICAgICAgdGhpcy5pbml0aWFsaXplQ2hlY2tvdXRDb21wb25lbnQoKS5iaW5kKHRoaXMpO1xuICAgIH1cblxuICAgIGFzeW5jIGluaXRpYWxpemVDaGVja291dENvbXBvbmVudCAoKSB7XG4gICAgICAgIGNvbnN0IHsgbG9jYWxlLCBjbGllbnRLZXksIGVudmlyb25tZW50IH0gPSBhZHllbkNoZWNrb3V0Q29uZmlndXJhdGlvbjtcbiAgICAgICAgY29uc3QgeyBhY3Rpb24gfSA9IGFkeWVuU3VjY2Vzc0FjdGlvbkNvbmZpZ3VyYXRpb247XG5cbiAgICAgICAgY29uc3QgQURZRU5fQ0hFQ0tPVVRfQ09ORklHID0ge1xuICAgICAgICAgICAgbG9jYWxlLFxuICAgICAgICAgICAgY2xpZW50S2V5LFxuICAgICAgICAgICAgZW52aXJvbm1lbnRcbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLmFkeWVuQ2hlY2tvdXQgPSBhd2FpdCBBZHllbkNoZWNrb3V0KEFEWUVOX0NIRUNLT1VUX0NPTkZJRyk7XG4gICAgICAgIHRoaXMuYWR5ZW5DaGVja291dC5jcmVhdGVGcm9tQWN0aW9uKEpTT04ucGFyc2UoYWN0aW9uKSkubW91bnQoJyNzdWNjZXNzLWFjdGlvbi1jb250YWluZXInKTtcbiAgICB9XG59XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7QUFHQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFIQTs7QUFNQTtBQUNBOztBQURBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBbkJBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///CbCH\n");

/***/ }),

/***/ "HNRU":
/*!**********************************************************************************************************!*\
  !*** /var/www/html/vendor/adyen/adyen-shopware6/src/Resources/app/storefront/src/configuration/adyen.js ***!
  \**********************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/*\n *                       ######\n *                       ######\n * ############    ####( ######  #####. ######  ############   ############\n * #############  #####( ######  #####. ######  #############  #############\n *        ######  #####( ######  #####. ######  #####  ######  #####  ######\n * ###### ######  #####( ######  #####. ######  #####  #####   #####  ######\n * ###### ######  #####( ######  #####. ######  #####          #####  ######\n * #############  #############  #############  #############  #####  ######\n *  ############   ############  #############   ############  #####  ######\n *                                      ######\n *                               #############\n *                               ############\n *\n * Adyen Payment Module\n *\n * Copyright (c) 2020 Adyen B.V.\n * This file is open source and available under the MIT license.\n * See the LICENSE file for more info.\n *\n */\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  updatablePaymentMethods: ['scheme', 'ideal', 'sepadirectdebit', 'oneclick', 'dotpay', 'bcmc', 'bcmc_mobile', 'blik', 'eps', 'facilypay_3x', 'facilypay_4x', 'facilypay_6x', 'facilypay_10x', 'facilypay_12x', 'afterpay_default', 'ratepay', 'ratepay_directdebit', 'giftcard', 'paybright', 'affirm', 'multibanco', 'mbway', 'vipps', 'mobilepay', 'wechatpayQR', 'wechatpayWeb'],\n  componentsWithPayButton: {\n    'applepay': {\n      extra: {},\n      onClick: function onClick(resolve, reject, self) {\n        if (!self.confirmOrderForm.checkValidity()) {\n          reject();\n          return false;\n        } else {\n          resolve();\n          return true;\n        }\n      }\n    },\n    'paywithgoogle': {\n      extra: {\n        buttonSizeMode: 'fill'\n      },\n      onClick: function onClick(resolve, reject, self) {\n        if (!self.confirmOrderForm.checkValidity()) {\n          reject();\n          return false;\n        } else {\n          resolve();\n          return true;\n        }\n      },\n      onError: function onError(error, component, self) {\n        if (error.statusCode !== 'CANCELED') {\n          if ('statusMessage' in error) {\n            console.log(error.statusMessage);\n          } else {\n            console.log(error.statusCode);\n          }\n        }\n      }\n    },\n    'paypal': {\n      extra: {},\n      onClick: function onClick(source, event, self) {\n        return self.confirmOrderForm.checkValidity();\n      },\n      onError: function onError(error, component, self) {\n        component.setStatus('ready');\n        window.location.href = self.errorUrl.toString();\n      },\n      onCancel: function onCancel(data, component, self) {\n        component.setStatus('ready');\n        window.location.href = self.errorUrl.toString();\n      },\n      responseHandler: function responseHandler(plugin, response) {\n        try {\n          response = JSON.parse(response);\n\n          if (response.isFinal) {\n            location.href = plugin.returnUrl;\n          } // Load Paypal popup window with component.handleAction\n\n\n          this.handleAction(response.action);\n        } catch (e) {\n          console.error(e);\n        }\n      }\n    },\n    'amazonpay': {\n      extra: {\n        productType: 'PayAndShip',\n        checkoutMode: 'ProcessOrder',\n        returnUrl: location.href\n      },\n      prePayRedirect: true,\n      sessionKey: 'amazonCheckoutSessionId',\n      onClick: function onClick(resolve, reject, self) {\n        if (!self.confirmOrderForm.checkValidity()) {\n          reject();\n          return false;\n        } else {\n          resolve();\n          return true;\n        }\n      },\n      onError: function onError(error, component) {\n        console.log(error);\n        component.setStatus('ready');\n      }\n    }\n  },\n  paymentMethodTypeHandlers: {\n    'scheme': 'handler_adyen_cardspaymentmethodhandler',\n    'ideal': 'handler_adyen_idealpaymentmethodhandler',\n    'klarna': 'handler_adyen_klarnapaylaterpaymentmethodhandler',\n    'klarna_account': 'handler_adyen_klarnaaccountpaymentmethodhandler',\n    'klarna_paynow': 'handler_adyen_klarnapaynowpaymentmethodhandler',\n    'ratepay': 'handler_adyen_ratepaypaymentmethodhandler',\n    'ratepay_directdebit': 'handler_adyen_ratepaydirectdebitpaymentmethodhandler',\n    'sepadirectdebit': 'handler_adyen_sepapaymentmethodhandler',\n    'sofort': 'handler_adyen_sofortpaymentmethodhandler',\n    'paypal': 'handler_adyen_paypalpaymentmethodhandler',\n    'oneclick': 'handler_adyen_oneclickpaymentmethodhandler',\n    'giropay': 'handler_adyen_giropaypaymentmethodhandler',\n    'applepay': 'handler_adyen_applepaypaymentmethodhandler',\n    'paywithgoogle': 'handler_adyen_googlepaypaymentmethodhandler',\n    'dotpay': 'handler_adyen_dotpaypaymentmethodhandler',\n    'bcmc': 'handler_adyen_bancontactcardpaymentmethodhandler',\n    'bcmc_mobile': 'handler_adyen_bancontactmobilepaymentmethodhandler',\n    'amazonpay': 'handler_adyen_amazonpaypaymentmethodhandler',\n    'twint': 'handler_adyen_twintpaymentmethodhandler',\n    'eps': 'handler_adyen_epspaymentmethodhandler',\n    'swish': 'handler_adyen_swishpaymentmethodhandler',\n    'alipay': 'handler_adyen_alipaypaymentmethodhandler',\n    'alipay_hk': 'handler_adyen_alipayhkpaymentmethodhandler',\n    'blik': 'handler_adyen_blikpaymentmethodhandler',\n    'clearpay': 'handler_adyen_clearpaypaymentmethodhandler',\n    'facilypay_3x': 'handler_adyen_facilypay3xpaymentmethodhandler',\n    'facilypay_4x': 'handler_adyen_facilypay4xpaymentmethodhandler',\n    'facilypay_6x': 'handler_adyen_facilypay6xpaymentmethodhandler',\n    'facilypay_10x': 'handler_adyen_facilypay10xpaymentmethodhandler',\n    'facilypay_12x': 'handler_adyen_facilypay12xpaymentmethodhandler',\n    'afterpay_default': 'handler_adyen_afterpaydefaultpaymentmethodhandler',\n    'trustly': 'handler_adyen_trustlypaymentmethodhandler',\n    'paysafecard': 'handler_adyen_paysafecardpaymentmethodhandler',\n    'givex': 'handler_adyen_givexgiftcardpaymentmethodhandler',\n    'webshopgiftcard': 'handler_adyen_webshopgiftcardpaymentmethodhandler',\n    'kadowereld': 'handler_adyen_kadowereldgiftcardpaymentmethodhandler',\n    'tcstestgiftcard': 'handler_adyen_tcstestgiftcardpaymentmethodhandler',\n    'albelligiftcard': 'handler_adyen_albelligiftcardpaymentmethodhandler',\n    'bijcadeaucard': 'handler_adyen_bijenkorfgiftcardpaymentmethodhandler',\n    'vvvgiftcard': 'handler_adyen_vvvgiftcardpaymentmethodhandler',\n    'genericgiftcard': 'handler_adyen_genericgiftcardpaymentmethodhandler',\n    'gallgall': 'handler_adyen_gallgallgiftcardpaymentmethodhandler',\n    'hmlingerie': 'handler_adyen_hunkemollerlingeriegiftcardpaymentmethodhandler',\n    'beautycadeaukaart': 'handler_adyen_beautygiftcardpaymentmethodhandler',\n    'svs': 'handler_adyen_svsgiftcardpaymentmethodhandler',\n    'fashioncheque': 'handler_adyen_fashionchequegiftcardpaymentmethodhandler',\n    'decadeaukaart': 'handler_adyen_decadeaukaartgiftcardpaymentmethodhandler',\n    'mbway': 'handler_adyen_mbwaypaymentmethodhandler',\n    'multibanco': 'handler_adyen_multibancopaymentmethodhandler',\n    'wechatpayQR': 'handler_adyen_wechatpayqrpaymentmethodhandler',\n    'wechatpayWeb': 'handler_adyen_wechatpaywebpaymentmethodhandler',\n    'mobilepay': 'handler_adyen_mobilepaypaymentmethodhandler',\n    'vipps': 'handler_adyen_vippspaymentmethodhandler',\n    'affirm': 'handler_adyen_affirmpaymentmethodhandler',\n    'paybright': 'handler_adyen_paybrightpaymentmethodhandler'\n  }\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiSE5SVS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8vdmFyL3d3dy9odG1sL3ZlbmRvci9hZHllbi9hZHllbi1zaG9wd2FyZTYvc3JjL1Jlc291cmNlcy9hcHAvc3RvcmVmcm9udC9zcmMvY29uZmlndXJhdGlvbi9hZHllbi5qcz80MzNkIl0sInNvdXJjZXNDb250ZW50IjpbIi8qXG4gKiAgICAgICAgICAgICAgICAgICAgICAgIyMjIyMjXG4gKiAgICAgICAgICAgICAgICAgICAgICAgIyMjIyMjXG4gKiAjIyMjIyMjIyMjIyMgICAgIyMjIyggIyMjIyMjICAjIyMjIy4gIyMjIyMjICAjIyMjIyMjIyMjIyMgICAjIyMjIyMjIyMjIyNcbiAqICMjIyMjIyMjIyMjIyMgICMjIyMjKCAjIyMjIyMgICMjIyMjLiAjIyMjIyMgICMjIyMjIyMjIyMjIyMgICMjIyMjIyMjIyMjIyNcbiAqICAgICAgICAjIyMjIyMgICMjIyMjKCAjIyMjIyMgICMjIyMjLiAjIyMjIyMgICMjIyMjICAjIyMjIyMgICMjIyMjICAjIyMjIyNcbiAqICMjIyMjIyAjIyMjIyMgICMjIyMjKCAjIyMjIyMgICMjIyMjLiAjIyMjIyMgICMjIyMjICAjIyMjIyAgICMjIyMjICAjIyMjIyNcbiAqICMjIyMjIyAjIyMjIyMgICMjIyMjKCAjIyMjIyMgICMjIyMjLiAjIyMjIyMgICMjIyMjICAgICAgICAgICMjIyMjICAjIyMjIyNcbiAqICMjIyMjIyMjIyMjIyMgICMjIyMjIyMjIyMjIyMgICMjIyMjIyMjIyMjIyMgICMjIyMjIyMjIyMjIyMgICMjIyMjICAjIyMjIyNcbiAqICAjIyMjIyMjIyMjIyMgICAjIyMjIyMjIyMjIyMgICMjIyMjIyMjIyMjIyMgICAjIyMjIyMjIyMjIyMgICMjIyMjICAjIyMjIyNcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAjIyMjIyNcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICMjIyMjIyMjIyMjIyNcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICMjIyMjIyMjIyMjI1xuICpcbiAqIEFkeWVuIFBheW1lbnQgTW9kdWxlXG4gKlxuICogQ29weXJpZ2h0IChjKSAyMDIwIEFkeWVuIEIuVi5cbiAqIFRoaXMgZmlsZSBpcyBvcGVuIHNvdXJjZSBhbmQgYXZhaWxhYmxlIHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cbiAqIFNlZSB0aGUgTElDRU5TRSBmaWxlIGZvciBtb3JlIGluZm8uXG4gKlxuICovXG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgICB1cGRhdGFibGVQYXltZW50TWV0aG9kczogW1xuICAgICAgICAnc2NoZW1lJywgJ2lkZWFsJywgJ3NlcGFkaXJlY3RkZWJpdCcsICdvbmVjbGljaycsICdkb3RwYXknLCAnYmNtYycsICdiY21jX21vYmlsZScsICdibGlrJywgJ2VwcycsICdmYWNpbHlwYXlfM3gnLFxuICAgICAgICAnZmFjaWx5cGF5XzR4JywgJ2ZhY2lseXBheV82eCcsICdmYWNpbHlwYXlfMTB4JywgJ2ZhY2lseXBheV8xMngnLCAnYWZ0ZXJwYXlfZGVmYXVsdCcsICdyYXRlcGF5JyxcbiAgICAgICAgJ3JhdGVwYXlfZGlyZWN0ZGViaXQnLCAnZ2lmdGNhcmQnLCAncGF5YnJpZ2h0JywgJ2FmZmlybScsICdtdWx0aWJhbmNvJywgJ21id2F5JywgJ3ZpcHBzJywgJ21vYmlsZXBheScsXG4gICAgICAgICd3ZWNoYXRwYXlRUicsICd3ZWNoYXRwYXlXZWInXG4gICAgXSxcbiAgICBjb21wb25lbnRzV2l0aFBheUJ1dHRvbjoge1xuICAgICAgICAnYXBwbGVwYXknOiB7XG4gICAgICAgICAgICBleHRyYToge30sXG4gICAgICAgICAgICBvbkNsaWNrKHJlc29sdmUsIHJlamVjdCwgc2VsZikge1xuICAgICAgICAgICAgICAgIGlmICghc2VsZi5jb25maXJtT3JkZXJGb3JtLmNoZWNrVmFsaWRpdHkoKSkge1xuICAgICAgICAgICAgICAgICAgICByZWplY3QoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICAncGF5d2l0aGdvb2dsZSc6IHtcbiAgICAgICAgICAgIGV4dHJhOiB7XG4gICAgICAgICAgICAgICAgYnV0dG9uU2l6ZU1vZGU6ICdmaWxsJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvbkNsaWNrOiBmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0LCBzZWxmKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFzZWxmLmNvbmZpcm1PcmRlckZvcm0uY2hlY2tWYWxpZGl0eSgpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdCgpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25FcnJvcjogZnVuY3Rpb24oZXJyb3IsIGNvbXBvbmVudCwgc2VsZikge1xuICAgICAgICAgICAgICAgIGlmIChlcnJvci5zdGF0dXNDb2RlICE9PSAnQ0FOQ0VMRUQnKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICgnc3RhdHVzTWVzc2FnZScgaW4gZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yLnN0YXR1c01lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3Iuc3RhdHVzQ29kZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgICdwYXlwYWwnOiB7XG4gICAgICAgICAgICBleHRyYToge30sXG4gICAgICAgICAgICBvbkNsaWNrOiBmdW5jdGlvbiAoc291cmNlLCBldmVudCwgc2VsZikge1xuICAgICAgICAgICAgICAgIHJldHVybiBzZWxmLmNvbmZpcm1PcmRlckZvcm0uY2hlY2tWYWxpZGl0eSgpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uRXJyb3I6IGZ1bmN0aW9uKGVycm9yLCBjb21wb25lbnQsIHNlbGYpIHtcbiAgICAgICAgICAgICAgICBjb21wb25lbnQuc2V0U3RhdHVzKCdyZWFkeScpO1xuICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gc2VsZi5lcnJvclVybC50b1N0cmluZygpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uQ2FuY2VsOiBmdW5jdGlvbiAoZGF0YSwgY29tcG9uZW50LCBzZWxmKSB7XG4gICAgICAgICAgICAgICAgY29tcG9uZW50LnNldFN0YXR1cygncmVhZHknKTtcbiAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IHNlbGYuZXJyb3JVcmwudG9TdHJpbmcoKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICByZXNwb25zZUhhbmRsZXI6IGZ1bmN0aW9uIChwbHVnaW4sIHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBKU09OLnBhcnNlKHJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmlzRmluYWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uLmhyZWYgPSBwbHVnaW4ucmV0dXJuVXJsO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIExvYWQgUGF5cGFsIHBvcHVwIHdpbmRvdyB3aXRoIGNvbXBvbmVudC5oYW5kbGVBY3Rpb25cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVBY3Rpb24ocmVzcG9uc2UuYWN0aW9uKTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICAnYW1hem9ucGF5Jzoge1xuICAgICAgICAgICAgZXh0cmE6IHtcbiAgICAgICAgICAgICAgICBwcm9kdWN0VHlwZTogJ1BheUFuZFNoaXAnLFxuICAgICAgICAgICAgICAgIGNoZWNrb3V0TW9kZTogJ1Byb2Nlc3NPcmRlcicsXG4gICAgICAgICAgICAgICAgcmV0dXJuVXJsOiBsb2NhdGlvbi5ocmVmXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcHJlUGF5UmVkaXJlY3Q6IHRydWUsXG4gICAgICAgICAgICBzZXNzaW9uS2V5OiAnYW1hem9uQ2hlY2tvdXRTZXNzaW9uSWQnLFxuICAgICAgICAgICAgb25DbGljazogZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCwgc2VsZikge1xuICAgICAgICAgICAgICAgIGlmICghc2VsZi5jb25maXJtT3JkZXJGb3JtLmNoZWNrVmFsaWRpdHkoKSkge1xuICAgICAgICAgICAgICAgICAgICByZWplY3QoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uRXJyb3I6IChlcnJvciwgY29tcG9uZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgICAgICAgICAgICAgIGNvbXBvbmVudC5zZXRTdGF0dXMoJ3JlYWR5Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgfSxcbiAgICBwYXltZW50TWV0aG9kVHlwZUhhbmRsZXJzOiB7XG4gICAgICAgICdzY2hlbWUnOiAnaGFuZGxlcl9hZHllbl9jYXJkc3BheW1lbnRtZXRob2RoYW5kbGVyJyxcbiAgICAgICAgJ2lkZWFsJzogJ2hhbmRsZXJfYWR5ZW5faWRlYWxwYXltZW50bWV0aG9kaGFuZGxlcicsXG4gICAgICAgICdrbGFybmEnOiAnaGFuZGxlcl9hZHllbl9rbGFybmFwYXlsYXRlcnBheW1lbnRtZXRob2RoYW5kbGVyJyxcbiAgICAgICAgJ2tsYXJuYV9hY2NvdW50JzogJ2hhbmRsZXJfYWR5ZW5fa2xhcm5hYWNjb3VudHBheW1lbnRtZXRob2RoYW5kbGVyJyxcbiAgICAgICAgJ2tsYXJuYV9wYXlub3cnOiAnaGFuZGxlcl9hZHllbl9rbGFybmFwYXlub3dwYXltZW50bWV0aG9kaGFuZGxlcicsXG4gICAgICAgICdyYXRlcGF5JzogJ2hhbmRsZXJfYWR5ZW5fcmF0ZXBheXBheW1lbnRtZXRob2RoYW5kbGVyJyxcbiAgICAgICAgJ3JhdGVwYXlfZGlyZWN0ZGViaXQnOiAnaGFuZGxlcl9hZHllbl9yYXRlcGF5ZGlyZWN0ZGViaXRwYXltZW50bWV0aG9kaGFuZGxlcicsXG4gICAgICAgICdzZXBhZGlyZWN0ZGViaXQnOiAnaGFuZGxlcl9hZHllbl9zZXBhcGF5bWVudG1ldGhvZGhhbmRsZXInLFxuICAgICAgICAnc29mb3J0JzogJ2hhbmRsZXJfYWR5ZW5fc29mb3J0cGF5bWVudG1ldGhvZGhhbmRsZXInLFxuICAgICAgICAncGF5cGFsJzogJ2hhbmRsZXJfYWR5ZW5fcGF5cGFscGF5bWVudG1ldGhvZGhhbmRsZXInLFxuICAgICAgICAnb25lY2xpY2snOiAnaGFuZGxlcl9hZHllbl9vbmVjbGlja3BheW1lbnRtZXRob2RoYW5kbGVyJyxcbiAgICAgICAgJ2dpcm9wYXknOiAnaGFuZGxlcl9hZHllbl9naXJvcGF5cGF5bWVudG1ldGhvZGhhbmRsZXInLFxuICAgICAgICAnYXBwbGVwYXknOiAnaGFuZGxlcl9hZHllbl9hcHBsZXBheXBheW1lbnRtZXRob2RoYW5kbGVyJyxcbiAgICAgICAgJ3BheXdpdGhnb29nbGUnOiAnaGFuZGxlcl9hZHllbl9nb29nbGVwYXlwYXltZW50bWV0aG9kaGFuZGxlcicsXG4gICAgICAgICdkb3RwYXknOiAnaGFuZGxlcl9hZHllbl9kb3RwYXlwYXltZW50bWV0aG9kaGFuZGxlcicsXG4gICAgICAgICdiY21jJzogJ2hhbmRsZXJfYWR5ZW5fYmFuY29udGFjdGNhcmRwYXltZW50bWV0aG9kaGFuZGxlcicsXG4gICAgICAgICdiY21jX21vYmlsZSc6ICdoYW5kbGVyX2FkeWVuX2JhbmNvbnRhY3Rtb2JpbGVwYXltZW50bWV0aG9kaGFuZGxlcicsXG4gICAgICAgICdhbWF6b25wYXknOiAnaGFuZGxlcl9hZHllbl9hbWF6b25wYXlwYXltZW50bWV0aG9kaGFuZGxlcicsXG4gICAgICAgICd0d2ludCc6ICdoYW5kbGVyX2FkeWVuX3R3aW50cGF5bWVudG1ldGhvZGhhbmRsZXInLFxuICAgICAgICAnZXBzJzogJ2hhbmRsZXJfYWR5ZW5fZXBzcGF5bWVudG1ldGhvZGhhbmRsZXInLFxuICAgICAgICAnc3dpc2gnOiAnaGFuZGxlcl9hZHllbl9zd2lzaHBheW1lbnRtZXRob2RoYW5kbGVyJyxcbiAgICAgICAgJ2FsaXBheSc6ICdoYW5kbGVyX2FkeWVuX2FsaXBheXBheW1lbnRtZXRob2RoYW5kbGVyJyxcbiAgICAgICAgJ2FsaXBheV9oayc6ICdoYW5kbGVyX2FkeWVuX2FsaXBheWhrcGF5bWVudG1ldGhvZGhhbmRsZXInLFxuICAgICAgICAnYmxpayc6ICdoYW5kbGVyX2FkeWVuX2JsaWtwYXltZW50bWV0aG9kaGFuZGxlcicsXG4gICAgICAgICdjbGVhcnBheSc6ICdoYW5kbGVyX2FkeWVuX2NsZWFycGF5cGF5bWVudG1ldGhvZGhhbmRsZXInLFxuICAgICAgICAnZmFjaWx5cGF5XzN4JzogJ2hhbmRsZXJfYWR5ZW5fZmFjaWx5cGF5M3hwYXltZW50bWV0aG9kaGFuZGxlcicsXG4gICAgICAgICdmYWNpbHlwYXlfNHgnOiAnaGFuZGxlcl9hZHllbl9mYWNpbHlwYXk0eHBheW1lbnRtZXRob2RoYW5kbGVyJyxcbiAgICAgICAgJ2ZhY2lseXBheV82eCc6ICdoYW5kbGVyX2FkeWVuX2ZhY2lseXBheTZ4cGF5bWVudG1ldGhvZGhhbmRsZXInLFxuICAgICAgICAnZmFjaWx5cGF5XzEweCc6ICdoYW5kbGVyX2FkeWVuX2ZhY2lseXBheTEweHBheW1lbnRtZXRob2RoYW5kbGVyJyxcbiAgICAgICAgJ2ZhY2lseXBheV8xMngnOiAnaGFuZGxlcl9hZHllbl9mYWNpbHlwYXkxMnhwYXltZW50bWV0aG9kaGFuZGxlcicsXG4gICAgICAgICdhZnRlcnBheV9kZWZhdWx0JzogJ2hhbmRsZXJfYWR5ZW5fYWZ0ZXJwYXlkZWZhdWx0cGF5bWVudG1ldGhvZGhhbmRsZXInLFxuICAgICAgICAndHJ1c3RseSc6ICdoYW5kbGVyX2FkeWVuX3RydXN0bHlwYXltZW50bWV0aG9kaGFuZGxlcicsXG4gICAgICAgICdwYXlzYWZlY2FyZCc6ICdoYW5kbGVyX2FkeWVuX3BheXNhZmVjYXJkcGF5bWVudG1ldGhvZGhhbmRsZXInLFxuICAgICAgICAnZ2l2ZXgnOiAnaGFuZGxlcl9hZHllbl9naXZleGdpZnRjYXJkcGF5bWVudG1ldGhvZGhhbmRsZXInLFxuICAgICAgICAnd2Vic2hvcGdpZnRjYXJkJzogJ2hhbmRsZXJfYWR5ZW5fd2Vic2hvcGdpZnRjYXJkcGF5bWVudG1ldGhvZGhhbmRsZXInLFxuICAgICAgICAna2Fkb3dlcmVsZCc6ICdoYW5kbGVyX2FkeWVuX2thZG93ZXJlbGRnaWZ0Y2FyZHBheW1lbnRtZXRob2RoYW5kbGVyJyxcbiAgICAgICAgJ3Rjc3Rlc3RnaWZ0Y2FyZCc6ICdoYW5kbGVyX2FkeWVuX3Rjc3Rlc3RnaWZ0Y2FyZHBheW1lbnRtZXRob2RoYW5kbGVyJyxcbiAgICAgICAgJ2FsYmVsbGlnaWZ0Y2FyZCc6ICdoYW5kbGVyX2FkeWVuX2FsYmVsbGlnaWZ0Y2FyZHBheW1lbnRtZXRob2RoYW5kbGVyJyxcbiAgICAgICAgJ2JpamNhZGVhdWNhcmQnOiAnaGFuZGxlcl9hZHllbl9iaWplbmtvcmZnaWZ0Y2FyZHBheW1lbnRtZXRob2RoYW5kbGVyJyxcbiAgICAgICAgJ3Z2dmdpZnRjYXJkJzogJ2hhbmRsZXJfYWR5ZW5fdnZ2Z2lmdGNhcmRwYXltZW50bWV0aG9kaGFuZGxlcicsXG4gICAgICAgICdnZW5lcmljZ2lmdGNhcmQnOiAnaGFuZGxlcl9hZHllbl9nZW5lcmljZ2lmdGNhcmRwYXltZW50bWV0aG9kaGFuZGxlcicsXG4gICAgICAgICdnYWxsZ2FsbCc6ICdoYW5kbGVyX2FkeWVuX2dhbGxnYWxsZ2lmdGNhcmRwYXltZW50bWV0aG9kaGFuZGxlcicsXG4gICAgICAgICdobWxpbmdlcmllJzogJ2hhbmRsZXJfYWR5ZW5faHVua2Vtb2xsZXJsaW5nZXJpZWdpZnRjYXJkcGF5bWVudG1ldGhvZGhhbmRsZXInLFxuICAgICAgICAnYmVhdXR5Y2FkZWF1a2FhcnQnOiAnaGFuZGxlcl9hZHllbl9iZWF1dHlnaWZ0Y2FyZHBheW1lbnRtZXRob2RoYW5kbGVyJyxcbiAgICAgICAgJ3N2cyc6ICdoYW5kbGVyX2FkeWVuX3N2c2dpZnRjYXJkcGF5bWVudG1ldGhvZGhhbmRsZXInLFxuICAgICAgICAnZmFzaGlvbmNoZXF1ZSc6ICdoYW5kbGVyX2FkeWVuX2Zhc2hpb25jaGVxdWVnaWZ0Y2FyZHBheW1lbnRtZXRob2RoYW5kbGVyJyxcbiAgICAgICAgJ2RlY2FkZWF1a2FhcnQnOiAnaGFuZGxlcl9hZHllbl9kZWNhZGVhdWthYXJ0Z2lmdGNhcmRwYXltZW50bWV0aG9kaGFuZGxlcicsXG4gICAgICAgICdtYndheSc6ICdoYW5kbGVyX2FkeWVuX21id2F5cGF5bWVudG1ldGhvZGhhbmRsZXInLFxuICAgICAgICAnbXVsdGliYW5jbyc6ICdoYW5kbGVyX2FkeWVuX211bHRpYmFuY29wYXltZW50bWV0aG9kaGFuZGxlcicsXG4gICAgICAgICd3ZWNoYXRwYXlRUic6ICdoYW5kbGVyX2FkeWVuX3dlY2hhdHBheXFycGF5bWVudG1ldGhvZGhhbmRsZXInLFxuICAgICAgICAnd2VjaGF0cGF5V2ViJzogJ2hhbmRsZXJfYWR5ZW5fd2VjaGF0cGF5d2VicGF5bWVudG1ldGhvZGhhbmRsZXInLFxuICAgICAgICAnbW9iaWxlcGF5JzogJ2hhbmRsZXJfYWR5ZW5fbW9iaWxlcGF5cGF5bWVudG1ldGhvZGhhbmRsZXInLFxuICAgICAgICAndmlwcHMnOiAnaGFuZGxlcl9hZHllbl92aXBwc3BheW1lbnRtZXRob2RoYW5kbGVyJyxcbiAgICAgICAgJ2FmZmlybSc6ICdoYW5kbGVyX2FkeWVuX2FmZmlybXBheW1lbnRtZXRob2RoYW5kbGVyJyxcbiAgICAgICAgJ3BheWJyaWdodCc6ICdoYW5kbGVyX2FkeWVuX3BheWJyaWdodHBheW1lbnRtZXRob2RoYW5kbGVyJ1xuICAgIH1cbn1cbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBVkE7QUFZQTtBQUNBO0FBQ0E7QUFEQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQXJCQTtBQXVCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUF4QkE7QUEwQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBcEJBO0FBOURBO0FBcUZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUF2REE7QUE1RkEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///HNRU\n");

/***/ }),

/***/ "TVZM":
/*!*******************************************************************************************!*\
  !*** /var/www/html/vendor/adyen/adyen-shopware6/src/Resources/app/storefront/src/main.js ***!
  \*******************************************************************************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _cart_cart_plugin__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./cart/cart.plugin */ \"n9eb\");\n/* harmony import */ var _checkout_confirm_order_plugin__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./checkout/confirm-order.plugin */ \"h8V8\");\n/* harmony import */ var _finish_adyen_giving_plugin__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./finish/adyen-giving.plugin */ \"CQEO\");\n/* harmony import */ var _finish_adyen_success_action_plugin__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./finish/adyen-success-action.plugin */ \"CbCH\");\n// Import all necessary Storefront plugins and scss files\n\n\n\n // Register them via the existing PluginManager\n\nvar PluginManager = window.PluginManager;\nPluginManager.register('CartPlugin', _cart_cart_plugin__WEBPACK_IMPORTED_MODULE_0__[\"default\"], '#adyen-giftcards-container');\nPluginManager.register('ConfirmOrderPlugin', _checkout_confirm_order_plugin__WEBPACK_IMPORTED_MODULE_1__[\"default\"], '#adyen-payment-checkout-mask');\nPluginManager.register('AdyenGivingPlugin', _finish_adyen_giving_plugin__WEBPACK_IMPORTED_MODULE_2__[\"default\"], '#adyen-giving-container');\nPluginManager.register('AdyenSuccessAction', _finish_adyen_success_action_plugin__WEBPACK_IMPORTED_MODULE_3__[\"default\"], '#adyen-success-action-container');//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiVFZaTS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8vdmFyL3d3dy9odG1sL3ZlbmRvci9hZHllbi9hZHllbi1zaG9wd2FyZTYvc3JjL1Jlc291cmNlcy9hcHAvc3RvcmVmcm9udC9zcmMvbWFpbi5qcz9kMGE5Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIEltcG9ydCBhbGwgbmVjZXNzYXJ5IFN0b3JlZnJvbnQgcGx1Z2lucyBhbmQgc2NzcyBmaWxlc1xuaW1wb3J0IENhcnRQbHVnaW4gZnJvbSAnLi9jYXJ0L2NhcnQucGx1Z2luJztcbmltcG9ydCBDb25maXJtT3JkZXJQbHVnaW4gZnJvbSAnLi9jaGVja291dC9jb25maXJtLW9yZGVyLnBsdWdpbic7XG5pbXBvcnQgQWR5ZW5HaXZpbmdQbHVnaW4gZnJvbSAnLi9maW5pc2gvYWR5ZW4tZ2l2aW5nLnBsdWdpbic7XG5pbXBvcnQgQWR5ZW5TdWNjZXNzQWN0aW9uIGZyb20gJy4vZmluaXNoL2FkeWVuLXN1Y2Nlc3MtYWN0aW9uLnBsdWdpbic7XG5cbi8vIFJlZ2lzdGVyIHRoZW0gdmlhIHRoZSBleGlzdGluZyBQbHVnaW5NYW5hZ2VyXG5jb25zdCBQbHVnaW5NYW5hZ2VyID0gd2luZG93LlBsdWdpbk1hbmFnZXI7XG5QbHVnaW5NYW5hZ2VyLnJlZ2lzdGVyKCdDYXJ0UGx1Z2luJywgQ2FydFBsdWdpbiwgJyNhZHllbi1naWZ0Y2FyZHMtY29udGFpbmVyJyk7XG5QbHVnaW5NYW5hZ2VyLnJlZ2lzdGVyKCdDb25maXJtT3JkZXJQbHVnaW4nLCBDb25maXJtT3JkZXJQbHVnaW4sICcjYWR5ZW4tcGF5bWVudC1jaGVja291dC1tYXNrJyk7XG5QbHVnaW5NYW5hZ2VyLnJlZ2lzdGVyKCdBZHllbkdpdmluZ1BsdWdpbicsIEFkeWVuR2l2aW5nUGx1Z2luLCAnI2FkeWVuLWdpdmluZy1jb250YWluZXInKTtcblBsdWdpbk1hbmFnZXIucmVnaXN0ZXIoJ0FkeWVuU3VjY2Vzc0FjdGlvbicsIEFkeWVuU3VjY2Vzc0FjdGlvbiwgJyNhZHllbi1zdWNjZXNzLWFjdGlvbi1jb250YWluZXInKTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///TVZM\n");

/***/ }),

/***/ "h8V8":
/*!********************************************************************************************************************!*\
  !*** /var/www/html/vendor/adyen/adyen-shopware6/src/Resources/app/storefront/src/checkout/confirm-order.plugin.js ***!
  \********************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function($) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return ConfirmOrderPlugin; });\n/* harmony import */ var src_plugin_system_plugin_class__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! src/plugin-system/plugin.class */ \"FGIj\");\n/* harmony import */ var src_helper_dom_access_helper__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! src/helper/dom-access.helper */ \"gHbT\");\n/* harmony import */ var src_service_store_api_client_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/service/store-api-client.service */ \"p4AR\");\n/* harmony import */ var src_utility_form_form_serialize_util__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/utility/form/form-serialize.util */ \"2Y4b\");\n/* harmony import */ var src_utility_loading_indicator_element_loading_indicator_util__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/utility/loading-indicator/element-loading-indicator.util */ \"u0Tz\");\n/* harmony import */ var _configuration_adyen__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../configuration/adyen */ \"HNRU\");\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\n/*\n *                       ######\n *                       ######\n * ############    ####( ######  #####. ######  ############   ############\n * #############  #####( ######  #####. ######  #############  #############\n *        ######  #####( ######  #####. ######  #####  ######  #####  ######\n * ###### ######  #####( ######  #####. ######  #####  #####   #####  ######\n * ###### ######  #####( ######  #####. ######  #####          #####  ######\n * #############  #############  #############  #############  #####  ######\n *  ############   ############  #############   ############  #####  ######\n *                                      ######\n *                               #############\n *                               ############\n *\n * Adyen Payment Module\n *\n * Copyright (c) 2020 Adyen B.V.\n * This file is open source and available under the MIT license.\n * See the LICENSE file for more info.\n *\n */\n\n\n\n\n\n\n/* global adyenCheckoutOptions, adyenCheckoutConfiguration, AdyenCheckout */\n\n/* eslint-disable no-unused-vars */\n\nvar ConfirmOrderPlugin = /*#__PURE__*/function (_Plugin) {\n  _inherits(ConfirmOrderPlugin, _Plugin);\n\n  function ConfirmOrderPlugin() {\n    _classCallCheck(this, ConfirmOrderPlugin);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(ConfirmOrderPlugin).apply(this, arguments));\n  }\n\n  _createClass(ConfirmOrderPlugin, [{\n    key: \"init\",\n    value: function init() {\n      this._client = new src_service_store_api_client_service__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\n      this.selectedAdyenPaymentMethod = this.getSelectedPaymentMethodKey();\n      this.confirmOrderForm = src_helper_dom_access_helper__WEBPACK_IMPORTED_MODULE_1__[\"default\"].querySelector(document, '#confirmOrderForm');\n      this.confirmFormSubmit = src_helper_dom_access_helper__WEBPACK_IMPORTED_MODULE_1__[\"default\"].querySelector(document, '#confirmOrderForm button[type=\"submit\"]');\n      this.shoppingCartSummaryBlock = $('.checkout-aside-summary-list');\n      this.shoppingCartSummaryDetails = null;\n      this.minorUnitsQuotient = adyenCheckoutOptions.amount / adyenCheckoutOptions.totalPrice;\n      this.giftcardDiscount = (adyenCheckoutOptions.giftcardDiscount / this.minorUnitsQuotient).toFixed(2);\n      this.remainingAmount = (adyenCheckoutOptions.totalPrice - this.giftcardDiscount).toFixed(2);\n      this.responseHandler = this.handlePaymentAction;\n      this.adyenCheckout = Promise;\n      this.initializeCheckoutComponent().then(function () {\n        // Non adyen payment method selected\n        // this can not happen, because this js plugin is registered only if adyen methods selected\n        // PluginManager.register('ConfirmOrderPlugin', ConfirmOrderPlugin, '#adyen-payment-checkout-mask');\n        if (adyenCheckoutOptions.selectedPaymentMethodPluginId !== adyenCheckoutOptions.adyenPluginId) {\n          return;\n        }\n\n        if (!adyenCheckoutOptions || !adyenCheckoutOptions.paymentStatusUrl || !adyenCheckoutOptions.checkoutOrderUrl || !adyenCheckoutOptions.paymentHandleUrl) {\n          console.error('Adyen payment configuration missing.');\n          return;\n        }\n\n        if (this.selectedAdyenPaymentMethod in _configuration_adyen__WEBPACK_IMPORTED_MODULE_5__[\"default\"].componentsWithPayButton) {\n          // replaces confirm button with adyen pay button for paywithgoogle, applepay etc.\n          this.initializeCustomPayButton();\n        }\n\n        if (_configuration_adyen__WEBPACK_IMPORTED_MODULE_5__[\"default\"].updatablePaymentMethods.includes(this.selectedAdyenPaymentMethod) && !this.stateData) {\n          // create inline component for cards etc. and set event listener for submit button to confirm payment component\n          this.renderPaymentComponent(this.selectedAdyenPaymentMethod);\n        } else {\n          this.confirmFormSubmit.addEventListener('click', this.onConfirmOrderSubmit.bind(this));\n        }\n      }.bind(this));\n\n      if (parseInt(adyenCheckoutOptions.giftcardDiscount)) {\n        this.appendGiftcardSummary();\n      }\n    }\n  }, {\n    key: \"initializeCheckoutComponent\",\n    value: function () {\n      var _initializeCheckoutComponent = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n        var _adyenCheckoutConfigu, locale, clientKey, environment, paymentMethodsResponse, ADYEN_CHECKOUT_CONFIG;\n\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _adyenCheckoutConfigu = adyenCheckoutConfiguration, locale = _adyenCheckoutConfigu.locale, clientKey = _adyenCheckoutConfigu.clientKey, environment = _adyenCheckoutConfigu.environment;\n                paymentMethodsResponse = adyenCheckoutOptions.paymentMethodsResponse;\n                ADYEN_CHECKOUT_CONFIG = {\n                  locale: locale,\n                  clientKey: clientKey,\n                  environment: environment,\n                  showPayButton: this.selectedAdyenPaymentMethod in _configuration_adyen__WEBPACK_IMPORTED_MODULE_5__[\"default\"].componentsWithPayButton,\n                  hasHolderName: true,\n                  paymentMethodsResponse: JSON.parse(paymentMethodsResponse),\n                  onAdditionalDetails: this.handleOnAdditionalDetails.bind(this),\n                  countryCode: activeShippingAddress.country,\n                  paymentMethodsConfiguration: {\n                    card: {\n                      hasHolderName: true\n                    }\n                  }\n                };\n                _context.next = 5;\n                return AdyenCheckout(ADYEN_CHECKOUT_CONFIG);\n\n              case 5:\n                this.adyenCheckout = _context.sent;\n\n              case 6:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function initializeCheckoutComponent() {\n        return _initializeCheckoutComponent.apply(this, arguments);\n      }\n\n      return initializeCheckoutComponent;\n    }()\n  }, {\n    key: \"handleOnAdditionalDetails\",\n    value: function handleOnAdditionalDetails(state) {\n      this._client.post(\"\".concat(adyenCheckoutOptions.paymentDetailsUrl), JSON.stringify({\n        orderId: this.orderId,\n        stateData: state.data\n      }), function (paymentResponse) {\n        if (this._client._request.status !== 200) {\n          location.href = this.errorUrl.toString();\n          return;\n        }\n\n        this.responseHandler(paymentResponse);\n      }.bind(this));\n    }\n  }, {\n    key: \"onConfirmOrderSubmit\",\n    value: function onConfirmOrderSubmit(event) {\n      var form = src_helper_dom_access_helper__WEBPACK_IMPORTED_MODULE_1__[\"default\"].querySelector(document, '#confirmOrderForm');\n\n      if (!form.checkValidity()) {\n        return;\n      }\n\n      event.preventDefault();\n      src_utility_loading_indicator_element_loading_indicator_util__WEBPACK_IMPORTED_MODULE_4__[\"default\"].create(document.body);\n      var formData = src_utility_form_form_serialize_util__WEBPACK_IMPORTED_MODULE_3__[\"default\"].serialize(form);\n      this.confirmOrder(formData);\n    }\n  }, {\n    key: \"renderPaymentComponent\",\n    value: function renderPaymentComponent(type) {\n      if (type === 'oneclick') {\n        this.renderStoredPaymentMethodComponents();\n        return;\n      } // Get the payment method object from paymentMethodsResponse\n\n\n      var paymentMethodConfigs = $.grep(this.adyenCheckout.paymentMethodsResponse.paymentMethods, function (paymentMethod) {\n        return paymentMethod['type'] === type;\n      });\n\n      if (paymentMethodConfigs.length === 0) {\n        if (this.adyenCheckout.options.environment === 'test') {\n          console.error('Payment method configuration not found. ', type);\n        }\n\n        return;\n      }\n\n      var paymentMethod = paymentMethodConfigs[0]; // Mount payment method instance\n\n      this.mountPaymentComponent(paymentMethod, false);\n    }\n  }, {\n    key: \"renderStoredPaymentMethodComponents\",\n    value: function renderStoredPaymentMethodComponents() {\n      var _this = this;\n\n      // Iterate through and render the stored payment methods\n      var storedPaymentMethods = this.adyenCheckout.paymentMethodsResponse.storedPaymentMethods; // Mount payment method instance\n\n      storedPaymentMethods.forEach(function (paymentMethod) {\n        var selector = \"[data-adyen-stored-payment-method-id=\\\"\".concat(paymentMethod.id, \"\\\"]\");\n\n        _this.mountPaymentComponent(paymentMethod, selector, true);\n      });\n      this.showSelectedStoredPaymentMethod();\n      $('[name=adyenStoredPaymentMethodId]').change(this.showSelectedStoredPaymentMethod);\n    }\n  }, {\n    key: \"showSelectedStoredPaymentMethod\",\n    value: function showSelectedStoredPaymentMethod() {\n      // Only show the component for the selected stored payment method\n      $('.stored-payment-component').hide();\n      var selected = $('[name=adyenStoredPaymentMethodId]:checked').val();\n      $(\"[data-adyen-stored-payment-method-id=\\\"\".concat(selected, \"\\\"]\")).show();\n    }\n  }, {\n    key: \"confirmOrder\",\n    value: function confirmOrder(formData) {\n      var extraParams = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var orderId = adyenCheckoutOptions.orderId;\n\n      if (!!orderId) {\n        //Only used if the order is being edited\n        this.updatePayment(formData, orderId, extraParams);\n      } else {\n        this.createOrder(formData, extraParams);\n      }\n    }\n  }, {\n    key: \"updatePayment\",\n    value: function updatePayment(formData, orderId, extraParams) {\n      formData.set('orderId', orderId);\n\n      this._client.post(adyenCheckoutOptions.updatePaymentUrl, formData, this.afterSetPayment.bind(this, extraParams));\n    }\n  }, {\n    key: \"createOrder\",\n    value: function createOrder(formData, extraParams) {\n      if (!adyenCheckoutOptions.payInFullWithGiftcard) {\n        this._client.post(adyenCheckoutOptions.createOrderUrl, JSON.stringify({\n          orderAmount: adyenCheckoutOptions.amount,\n          currency: adyenCheckoutOptions.currency\n        }), function (response) {\n          var adyenOrder = JSON.parse(response);\n\n          if (adyenOrder.resultCode === 'Success') {\n            extraParams = _extends(extraParams, {\n              order: adyenOrder\n            });\n          }\n\n          this._client.post(adyenCheckoutOptions.checkoutOrderUrl, formData, this.afterCreateOrder.bind(this, extraParams));\n        }.bind(this));\n      } else {\n        this._client.post(adyenCheckoutOptions.checkoutOrderUrl, formData, this.afterCreateOrder.bind(this, extraParams));\n      }\n    }\n  }, {\n    key: \"afterCreateOrder\",\n    value: function afterCreateOrder() {\n      var extraParams = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var response = arguments.length > 1 ? arguments[1] : undefined;\n      var order;\n\n      try {\n        order = JSON.parse(response);\n      } catch (error) {\n        src_utility_loading_indicator_element_loading_indicator_util__WEBPACK_IMPORTED_MODULE_4__[\"default\"].remove(document.body);\n        console.log('Error: invalid response from Shopware API', response);\n        return;\n      }\n\n      this.orderId = order.id;\n      this.finishUrl = new URL(location.origin + adyenCheckoutOptions.paymentFinishUrl);\n      this.finishUrl.searchParams.set('orderId', order.id);\n      this.errorUrl = new URL(location.origin + adyenCheckoutOptions.paymentErrorUrl);\n      this.errorUrl.searchParams.set('orderId', order.id);\n      var params = {\n        'orderId': this.orderId,\n        'finishUrl': this.finishUrl.toString(),\n        'errorUrl': this.errorUrl.toString()\n      }; // Append any extra parameters passed, e.g. stateData\n\n      for (var property in extraParams) {\n        params[property] = extraParams[property];\n      }\n\n      this._client.post(adyenCheckoutOptions.paymentHandleUrl, JSON.stringify(params), this.afterPayOrder.bind(this, this.orderId));\n    }\n  }, {\n    key: \"afterSetPayment\",\n    value: function afterSetPayment() {\n      var extraParams = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var response = arguments.length > 1 ? arguments[1] : undefined;\n\n      try {\n        var responseObject = JSON.parse(response);\n\n        if (responseObject.success) {\n          this.afterCreateOrder(extraParams, JSON.stringify({\n            id: adyenCheckoutOptions.orderId\n          }));\n        }\n      } catch (e) {\n        src_utility_loading_indicator_element_loading_indicator_util__WEBPACK_IMPORTED_MODULE_4__[\"default\"].remove(document.body);\n        console.log('Error: invalid response from Shopware API', response);\n        return;\n      }\n    }\n  }, {\n    key: \"afterPayOrder\",\n    value: function afterPayOrder(orderId, response) {\n      try {\n        response = JSON.parse(response);\n        this.returnUrl = response.redirectUrl;\n      } catch (e) {\n        src_utility_loading_indicator_element_loading_indicator_util__WEBPACK_IMPORTED_MODULE_4__[\"default\"].remove(document.body);\n        console.log('Error: invalid response from Shopware API', response);\n        return;\n      } // If payment call returns the errorUrl, then no need to proceed further.\n      // Redirect to error page.\n\n\n      if (this.returnUrl === this.errorUrl.toString()) {\n        location.href = this.returnUrl;\n      }\n\n      try {\n        this._client.post(\"\".concat(adyenCheckoutOptions.paymentStatusUrl), JSON.stringify({\n          'orderId': orderId\n        }), this.responseHandler.bind(this));\n      } catch (e) {\n        console.log(e);\n      }\n    }\n  }, {\n    key: \"handlePaymentAction\",\n    value: function handlePaymentAction(response) {\n      try {\n        var paymentResponse = JSON.parse(response);\n\n        if (paymentResponse.isFinal || paymentResponse.action.type === 'voucher') {\n          location.href = this.returnUrl;\n        }\n\n        if (!!paymentResponse.action) {\n          this.adyenCheckout.createFromAction(paymentResponse.action).mount('[data-adyen-payment-action-container]');\n          var modalActionTypes = ['threeDS2', 'qrCode'];\n\n          if (modalActionTypes.includes(paymentResponse.action.type)) {\n            $('[data-adyen-payment-action-modal]').modal({\n              show: true\n            });\n          }\n        }\n      } catch (e) {\n        console.log(e);\n      }\n    }\n  }, {\n    key: \"initializeCustomPayButton\",\n    value: function initializeCustomPayButton() {\n      var _this2 = this;\n\n      var componentConfig = _configuration_adyen__WEBPACK_IMPORTED_MODULE_5__[\"default\"].componentsWithPayButton[this.selectedAdyenPaymentMethod];\n      this.completePendingPayment(this.selectedAdyenPaymentMethod, componentConfig); // get selected payment method object\n\n      var selectedPaymentMethod = this.adyenCheckout.paymentMethodsResponse.paymentMethods.filter(function (item) {\n        return item.type === _this2.selectedAdyenPaymentMethod;\n      });\n\n      if (selectedPaymentMethod.length < 1) {\n        return;\n      }\n\n      var selectedPaymentMethodObject = selectedPaymentMethod[0];\n\n      if (!adyenCheckoutOptions.amount) {\n        console.error('Failed to fetch Cart/Order total amount.');\n        return;\n      }\n\n      if (!!componentConfig.prePayRedirect) {\n        this.renderPrePaymentButton(componentConfig, selectedPaymentMethodObject);\n        return;\n      }\n\n      var PAY_BUTTON_CONFIG = _extends(componentConfig.extra, selectedPaymentMethodObject, {\n        amount: {\n          value: adyenCheckoutOptions.amount,\n          currency: adyenCheckoutOptions.currency\n        },\n        data: {\n          personalDetails: shopperDetails,\n          billingAddress: activeBillingAddress,\n          deliveryAddress: activeShippingAddress\n        },\n        onClick: function onClick(resolve, reject) {\n          if (!componentConfig.onClick(resolve, reject, _this2)) {\n            return false;\n          }\n\n          src_utility_loading_indicator_element_loading_indicator_util__WEBPACK_IMPORTED_MODULE_4__[\"default\"].create(document.body);\n        },\n        onSubmit: function (state, component) {\n          if (state.isValid) {\n            var extraParams = {\n              stateData: JSON.stringify(state.data)\n            };\n            var formData = src_utility_form_form_serialize_util__WEBPACK_IMPORTED_MODULE_3__[\"default\"].serialize(this.confirmOrderForm); // Set a custom response action handler if available.\n\n            if ('responseHandler' in componentConfig) {\n              this.responseHandler = componentConfig.responseHandler.bind(component, this);\n            }\n\n            this.confirmOrder(formData, extraParams);\n          } else {\n            component.showValidation();\n\n            if (this.adyenCheckout.options.environment === 'test') {\n              console.log('Payment failed: ', state);\n            }\n          }\n        }.bind(this),\n        onCancel: function onCancel(data, component) {\n          src_utility_loading_indicator_element_loading_indicator_util__WEBPACK_IMPORTED_MODULE_4__[\"default\"].remove(document.body);\n          componentConfig.onCancel(data, component, _this2);\n        },\n        onError: function onError(error, component) {\n          if (component.props.name === 'PayPal' && error.name === 'CANCEL') {\n            _this2._client.post(\"\".concat(adyenCheckoutOptions.cancelOrderTransactionUrl), JSON.stringify({\n              orderId: _this2.orderId\n            }));\n          }\n\n          src_utility_loading_indicator_element_loading_indicator_util__WEBPACK_IMPORTED_MODULE_4__[\"default\"].remove(document.body);\n          componentConfig.onError(error, component, _this2);\n          console.log(error);\n        }\n      });\n\n      var paymentMethodInstance = this.adyenCheckout.create(selectedPaymentMethodObject.type, PAY_BUTTON_CONFIG);\n\n      try {\n        if ('isAvailable' in paymentMethodInstance) {\n          paymentMethodInstance.isAvailable().then(function () {\n            this.mountCustomPayButton(paymentMethodInstance);\n          }.bind(this)).catch(function (e) {\n            console.log(selectedPaymentMethodObject.type + ' is not available', e);\n          });\n        } else {\n          this.mountCustomPayButton(paymentMethodInstance);\n        }\n      } catch (e) {\n        console.log(e);\n      }\n    }\n  }, {\n    key: \"renderPrePaymentButton\",\n    value: function renderPrePaymentButton(componentConfig, selectedPaymentMethodObject) {\n      var _this3 = this;\n\n      if (selectedPaymentMethodObject.type === 'amazonpay') {\n        componentConfig.extra = this.setAddressDetails(componentConfig.extra);\n      }\n\n      var PRE_PAY_BUTTON = _extends(componentConfig.extra, selectedPaymentMethodObject, {\n        configuration: selectedPaymentMethodObject.configuration,\n        amount: {\n          value: adyenCheckoutOptions.amount,\n          currency: adyenCheckoutOptions.currency\n        },\n        onClick: function onClick(resolve, reject) {\n          if (!componentConfig.onClick(resolve, reject, _this3)) {\n            return false;\n          }\n\n          src_utility_loading_indicator_element_loading_indicator_util__WEBPACK_IMPORTED_MODULE_4__[\"default\"].create(document.body);\n        },\n        onError: function onError(error, component) {\n          src_utility_loading_indicator_element_loading_indicator_util__WEBPACK_IMPORTED_MODULE_4__[\"default\"].remove(document.body);\n          componentConfig.onError(error, component, _this3);\n          console.log(error);\n        }\n      });\n\n      var paymentMethodInstance = this.adyenCheckout.create(selectedPaymentMethodObject.type, PRE_PAY_BUTTON);\n      this.mountCustomPayButton(paymentMethodInstance);\n    }\n  }, {\n    key: \"completePendingPayment\",\n    value: function completePendingPayment(paymentMethodType, config) {\n      var url = new URL(location.href); // Check for pending payment session\n\n      if (url.searchParams.has(config.sessionKey)) {\n        var _this$adyenCheckout$c;\n\n        src_utility_loading_indicator_element_loading_indicator_util__WEBPACK_IMPORTED_MODULE_4__[\"default\"].create(document.body);\n        var paymentMethodInstance = this.adyenCheckout.create(paymentMethodType, (_this$adyenCheckout$c = {}, _defineProperty(_this$adyenCheckout$c, config.sessionKey, url.searchParams.get(config.sessionKey)), _defineProperty(_this$adyenCheckout$c, \"showOrderButton\", false), _defineProperty(_this$adyenCheckout$c, \"onSubmit\", function (state, component) {\n          if (state.isValid) {\n            var extraParams = {\n              stateData: JSON.stringify(state.data)\n            };\n            var formData = src_utility_form_form_serialize_util__WEBPACK_IMPORTED_MODULE_3__[\"default\"].serialize(this.confirmOrderForm);\n            this.confirmOrder(formData, extraParams);\n          }\n        }.bind(this)), _this$adyenCheckout$c));\n        this.mountCustomPayButton(paymentMethodInstance);\n        paymentMethodInstance.submit();\n      }\n    }\n  }, {\n    key: \"getSelectedPaymentMethodKey\",\n    value: function getSelectedPaymentMethodKey() {\n      return Object.keys(_configuration_adyen__WEBPACK_IMPORTED_MODULE_5__[\"default\"].paymentMethodTypeHandlers).find(function (key) {\n        return _configuration_adyen__WEBPACK_IMPORTED_MODULE_5__[\"default\"].paymentMethodTypeHandlers[key] === adyenCheckoutOptions.selectedPaymentMethodHandler;\n      });\n    }\n  }, {\n    key: \"mountCustomPayButton\",\n    value: function mountCustomPayButton(paymentMethodInstance) {\n      var form = document.querySelector('#confirmOrderForm');\n\n      if (form) {\n        var submitButton = form.querySelector('button[type=submit]');\n\n        if (submitButton && !submitButton.disabled) {\n          var confirmButtonContainer = document.createElement('div');\n          confirmButtonContainer.id = 'adyen-confirm-button';\n          confirmButtonContainer.setAttribute('data-adyen-confirm-button', '');\n          form.appendChild(confirmButtonContainer);\n          paymentMethodInstance.mount(confirmButtonContainer);\n          submitButton.remove();\n        }\n      }\n    }\n  }, {\n    key: \"mountPaymentComponent\",\n    value: function mountPaymentComponent(paymentMethod) {\n      var isOneClick = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n      var configuration = _extends({}, paymentMethod, {\n        data: {\n          personalDetails: shopperDetails,\n          billingAddress: activeBillingAddress,\n          deliveryAddress: activeShippingAddress\n        },\n        onSubmit: function (state, component) {\n          if (state.isValid) {\n            var extraParams = {\n              stateData: JSON.stringify(state.data)\n            };\n            var formData = src_utility_form_form_serialize_util__WEBPACK_IMPORTED_MODULE_3__[\"default\"].serialize(this.confirmOrderForm);\n            src_utility_loading_indicator_element_loading_indicator_util__WEBPACK_IMPORTED_MODULE_4__[\"default\"].create(document.body);\n            this.confirmOrder(formData, extraParams);\n          } else {\n            component.showValidation();\n\n            if (this.adyenCheckout.options.environment === 'test') {\n              console.log('Payment failed: ', state);\n            }\n          }\n        }.bind(this)\n      });\n\n      if (!isOneClick && paymentMethod.type === 'scheme' && adyenCheckoutOptions.displaySaveCreditCardOption) {\n        configuration.enableStoreDetails = true;\n      }\n\n      try {\n        var paymentMethodInstance = this.adyenCheckout.create(paymentMethod.type, configuration);\n        paymentMethodInstance.mount('#' + this.el.id);\n        this.confirmFormSubmit.addEventListener('click', function (event) {\n          var form = src_helper_dom_access_helper__WEBPACK_IMPORTED_MODULE_1__[\"default\"].querySelector(document, '#confirmOrderForm');\n\n          if (!form.checkValidity()) {\n            return;\n          }\n\n          event.preventDefault();\n          this.el.parentNode.scrollIntoView({\n            behavior: \"smooth\",\n            block: \"start\"\n          });\n          paymentMethodInstance.submit();\n        }.bind(this));\n      } catch (err) {\n        console.error(paymentMethod.type, err);\n        return false;\n      }\n    }\n  }, {\n    key: \"appendGiftcardSummary\",\n    value: function appendGiftcardSummary() {\n      if (this.shoppingCartSummaryBlock.length) {\n        this.shoppingCartSummaryDetails = $('<dt class=\"col-7 checkout-aside-summary-label checkout-aside-summary-total adyen-giftcard-summary\">Giftcard discount</dt>' + '<dd class=\"col-5 checkout-aside-summary-value checkout-aside-summary-total adyen-giftcard-summary\">' + adyenCheckoutOptions.currencySymbol + this.giftcardDiscount + '</dd>' + '<dt class=\"col-7 checkout-aside-summary-label checkout-aside-summary-total adyen-giftcard-summary\">Remaining amount</dt>' + '<dd class=\"col-5 checkout-aside-summary-value checkout-aside-summary-total adyen-giftcard-summary\">' + adyenCheckoutOptions.currencySymbol + this.remainingAmount + '</dd>');\n        this.shoppingCartSummaryDetails.appendTo(this.shoppingCartSummaryBlock[0]);\n      }\n    }\n    /**\n     * Set the address details based on the passed data in confirm-payment twig file\n     * If no phone number is linked to customer, do not set addressDetails and update Product Type\n     *\n     * @param extra\n     */\n\n  }, {\n    key: \"setAddressDetails\",\n    value: function setAddressDetails(extra) {\n      if (activeShippingAddress.phoneNumber !== '') {\n        extra.addressDetails = {\n          name: shopperDetails.firstName + ' ' + shopperDetails.lastName,\n          addressLine1: activeShippingAddress.street,\n          city: activeShippingAddress.city,\n          postalCode: activeShippingAddress.postalCode,\n          countryCode: activeShippingAddress.country,\n          phoneNumber: activeShippingAddress.phoneNumber\n        };\n      } else {\n        extra.productType = 'PayOnly';\n      }\n\n      return extra;\n    }\n  }]);\n\n  return ConfirmOrderPlugin;\n}(src_plugin_system_plugin_class__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ../node_modules/jquery/dist/jquery.slim.js */ \"UoTJ\")))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaDhWOC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8vdmFyL3d3dy9odG1sL3ZlbmRvci9hZHllbi9hZHllbi1zaG9wd2FyZTYvc3JjL1Jlc291cmNlcy9hcHAvc3RvcmVmcm9udC9zcmMvY2hlY2tvdXQvY29uZmlybS1vcmRlci5wbHVnaW4uanM/MTEyMyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuICogICAgICAgICAgICAgICAgICAgICAgICMjIyMjI1xuICogICAgICAgICAgICAgICAgICAgICAgICMjIyMjI1xuICogIyMjIyMjIyMjIyMjICAgICMjIyMoICMjIyMjIyAgIyMjIyMuICMjIyMjIyAgIyMjIyMjIyMjIyMjICAgIyMjIyMjIyMjIyMjXG4gKiAjIyMjIyMjIyMjIyMjICAjIyMjIyggIyMjIyMjICAjIyMjIy4gIyMjIyMjICAjIyMjIyMjIyMjIyMjICAjIyMjIyMjIyMjIyMjXG4gKiAgICAgICAgIyMjIyMjICAjIyMjIyggIyMjIyMjICAjIyMjIy4gIyMjIyMjICAjIyMjIyAgIyMjIyMjICAjIyMjIyAgIyMjIyMjXG4gKiAjIyMjIyMgIyMjIyMjICAjIyMjIyggIyMjIyMjICAjIyMjIy4gIyMjIyMjICAjIyMjIyAgIyMjIyMgICAjIyMjIyAgIyMjIyMjXG4gKiAjIyMjIyMgIyMjIyMjICAjIyMjIyggIyMjIyMjICAjIyMjIy4gIyMjIyMjICAjIyMjIyAgICAgICAgICAjIyMjIyAgIyMjIyMjXG4gKiAjIyMjIyMjIyMjIyMjICAjIyMjIyMjIyMjIyMjICAjIyMjIyMjIyMjIyMjICAjIyMjIyMjIyMjIyMjICAjIyMjIyAgIyMjIyMjXG4gKiAgIyMjIyMjIyMjIyMjICAgIyMjIyMjIyMjIyMjICAjIyMjIyMjIyMjIyMjICAgIyMjIyMjIyMjIyMjICAjIyMjIyAgIyMjIyMjXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIyMjIyMjXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAjIyMjIyMjIyMjIyMjXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAjIyMjIyMjIyMjIyNcbiAqXG4gKiBBZHllbiBQYXltZW50IE1vZHVsZVxuICpcbiAqIENvcHlyaWdodCAoYykgMjAyMCBBZHllbiBCLlYuXG4gKiBUaGlzIGZpbGUgaXMgb3BlbiBzb3VyY2UgYW5kIGF2YWlsYWJsZSB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXG4gKiBTZWUgdGhlIExJQ0VOU0UgZmlsZSBmb3IgbW9yZSBpbmZvLlxuICpcbiAqL1xuXG5pbXBvcnQgUGx1Z2luIGZyb20gJ3NyYy9wbHVnaW4tc3lzdGVtL3BsdWdpbi5jbGFzcyc7XG5pbXBvcnQgRG9tQWNjZXNzIGZyb20gJ3NyYy9oZWxwZXIvZG9tLWFjY2Vzcy5oZWxwZXInO1xuaW1wb3J0IFN0b3JlQXBpQ2xpZW50IGZyb20gJ3NyYy9zZXJ2aWNlL3N0b3JlLWFwaS1jbGllbnQuc2VydmljZSc7XG5pbXBvcnQgRm9ybVNlcmlhbGl6ZVV0aWwgZnJvbSAnc3JjL3V0aWxpdHkvZm9ybS9mb3JtLXNlcmlhbGl6ZS51dGlsJztcbmltcG9ydCBFbGVtZW50TG9hZGluZ0luZGljYXRvclV0aWwgZnJvbSAnc3JjL3V0aWxpdHkvbG9hZGluZy1pbmRpY2F0b3IvZWxlbWVudC1sb2FkaW5nLWluZGljYXRvci51dGlsJztcbmltcG9ydCBhZHllbkNvbmZpZ3VyYXRpb24gZnJvbSAnLi4vY29uZmlndXJhdGlvbi9hZHllbic7XG5cbi8qIGdsb2JhbCBhZHllbkNoZWNrb3V0T3B0aW9ucywgYWR5ZW5DaGVja291dENvbmZpZ3VyYXRpb24sIEFkeWVuQ2hlY2tvdXQgKi9cbi8qIGVzbGludC1kaXNhYmxlIG5vLXVudXNlZC12YXJzICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDb25maXJtT3JkZXJQbHVnaW4gZXh0ZW5kcyBQbHVnaW4ge1xuXG4gICAgaW5pdCgpIHtcbiAgICAgICAgdGhpcy5fY2xpZW50ID0gbmV3IFN0b3JlQXBpQ2xpZW50KCk7XG4gICAgICAgIHRoaXMuc2VsZWN0ZWRBZHllblBheW1lbnRNZXRob2QgPSB0aGlzLmdldFNlbGVjdGVkUGF5bWVudE1ldGhvZEtleSgpO1xuICAgICAgICB0aGlzLmNvbmZpcm1PcmRlckZvcm0gPSBEb21BY2Nlc3MucXVlcnlTZWxlY3Rvcihkb2N1bWVudCwgJyNjb25maXJtT3JkZXJGb3JtJyk7XG4gICAgICAgIHRoaXMuY29uZmlybUZvcm1TdWJtaXQgPSBEb21BY2Nlc3MucXVlcnlTZWxlY3Rvcihkb2N1bWVudCwgJyNjb25maXJtT3JkZXJGb3JtIGJ1dHRvblt0eXBlPVwic3VibWl0XCJdJyk7XG4gICAgICAgIHRoaXMuc2hvcHBpbmdDYXJ0U3VtbWFyeUJsb2NrID0gJCgnLmNoZWNrb3V0LWFzaWRlLXN1bW1hcnktbGlzdCcpO1xuICAgICAgICB0aGlzLnNob3BwaW5nQ2FydFN1bW1hcnlEZXRhaWxzID0gbnVsbDtcbiAgICAgICAgdGhpcy5taW5vclVuaXRzUXVvdGllbnQgPSBhZHllbkNoZWNrb3V0T3B0aW9ucy5hbW91bnQvYWR5ZW5DaGVja291dE9wdGlvbnMudG90YWxQcmljZTtcbiAgICAgICAgdGhpcy5naWZ0Y2FyZERpc2NvdW50ID0gKGFkeWVuQ2hlY2tvdXRPcHRpb25zLmdpZnRjYXJkRGlzY291bnQgLyB0aGlzLm1pbm9yVW5pdHNRdW90aWVudCkudG9GaXhlZCgyKTtcbiAgICAgICAgdGhpcy5yZW1haW5pbmdBbW91bnQgPSAoYWR5ZW5DaGVja291dE9wdGlvbnMudG90YWxQcmljZSAtIHRoaXMuZ2lmdGNhcmREaXNjb3VudCkudG9GaXhlZCgyKTtcbiAgICAgICAgdGhpcy5yZXNwb25zZUhhbmRsZXIgPSB0aGlzLmhhbmRsZVBheW1lbnRBY3Rpb247XG4gICAgICAgIHRoaXMuYWR5ZW5DaGVja291dCA9IFByb21pc2U7XG4gICAgICAgIHRoaXMuaW5pdGlhbGl6ZUNoZWNrb3V0Q29tcG9uZW50KCkudGhlbihmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIC8vIE5vbiBhZHllbiBwYXltZW50IG1ldGhvZCBzZWxlY3RlZFxuICAgICAgICAgICAgLy8gdGhpcyBjYW4gbm90IGhhcHBlbiwgYmVjYXVzZSB0aGlzIGpzIHBsdWdpbiBpcyByZWdpc3RlcmVkIG9ubHkgaWYgYWR5ZW4gbWV0aG9kcyBzZWxlY3RlZFxuICAgICAgICAgICAgLy8gUGx1Z2luTWFuYWdlci5yZWdpc3RlcignQ29uZmlybU9yZGVyUGx1Z2luJywgQ29uZmlybU9yZGVyUGx1Z2luLCAnI2FkeWVuLXBheW1lbnQtY2hlY2tvdXQtbWFzaycpO1xuICAgICAgICAgICAgaWYgKGFkeWVuQ2hlY2tvdXRPcHRpb25zLnNlbGVjdGVkUGF5bWVudE1ldGhvZFBsdWdpbklkICE9PVxuICAgICAgICAgICAgICAgIGFkeWVuQ2hlY2tvdXRPcHRpb25zLmFkeWVuUGx1Z2luSWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICghYWR5ZW5DaGVja291dE9wdGlvbnMgfHwgIWFkeWVuQ2hlY2tvdXRPcHRpb25zLnBheW1lbnRTdGF0dXNVcmwgfHxcbiAgICAgICAgICAgICAgICAhYWR5ZW5DaGVja291dE9wdGlvbnMuY2hlY2tvdXRPcmRlclVybCB8fCAhYWR5ZW5DaGVja291dE9wdGlvbnMucGF5bWVudEhhbmRsZVVybCkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0FkeWVuIHBheW1lbnQgY29uZmlndXJhdGlvbiBtaXNzaW5nLicpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRBZHllblBheW1lbnRNZXRob2QgaW4gYWR5ZW5Db25maWd1cmF0aW9uLmNvbXBvbmVudHNXaXRoUGF5QnV0dG9uKSB7XG4gICAgICAgICAgICAgICAgLy8gcmVwbGFjZXMgY29uZmlybSBidXR0b24gd2l0aCBhZHllbiBwYXkgYnV0dG9uIGZvciBwYXl3aXRoZ29vZ2xlLCBhcHBsZXBheSBldGMuXG4gICAgICAgICAgICAgICAgdGhpcy5pbml0aWFsaXplQ3VzdG9tUGF5QnV0dG9uKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChhZHllbkNvbmZpZ3VyYXRpb24udXBkYXRhYmxlUGF5bWVudE1ldGhvZHMuaW5jbHVkZXModGhpcy5zZWxlY3RlZEFkeWVuUGF5bWVudE1ldGhvZCkgJiYgIXRoaXMuc3RhdGVEYXRhKSB7XG4gICAgICAgICAgICAgICAgLy8gY3JlYXRlIGlubGluZSBjb21wb25lbnQgZm9yIGNhcmRzIGV0Yy4gYW5kIHNldCBldmVudCBsaXN0ZW5lciBmb3Igc3VibWl0IGJ1dHRvbiB0byBjb25maXJtIHBheW1lbnQgY29tcG9uZW50XG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJQYXltZW50Q29tcG9uZW50KHRoaXMuc2VsZWN0ZWRBZHllblBheW1lbnRNZXRob2QpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbmZpcm1Gb3JtU3VibWl0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5vbkNvbmZpcm1PcmRlclN1Ym1pdC5iaW5kKHRoaXMpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfS5iaW5kKHRoaXMpKTtcbiAgICAgICAgaWYgKHBhcnNlSW50KGFkeWVuQ2hlY2tvdXRPcHRpb25zLmdpZnRjYXJkRGlzY291bnQpKSB7XG4gICAgICAgICAgICB0aGlzLmFwcGVuZEdpZnRjYXJkU3VtbWFyeSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYXN5bmMgaW5pdGlhbGl6ZUNoZWNrb3V0Q29tcG9uZW50ICgpIHtcbiAgICAgICAgY29uc3QgeyBsb2NhbGUsIGNsaWVudEtleSwgZW52aXJvbm1lbnQgfSA9IGFkeWVuQ2hlY2tvdXRDb25maWd1cmF0aW9uO1xuICAgICAgICBjb25zdCBwYXltZW50TWV0aG9kc1Jlc3BvbnNlID0gYWR5ZW5DaGVja291dE9wdGlvbnMucGF5bWVudE1ldGhvZHNSZXNwb25zZTtcbiAgICAgICAgY29uc3QgQURZRU5fQ0hFQ0tPVVRfQ09ORklHID0ge1xuICAgICAgICAgICAgbG9jYWxlLFxuICAgICAgICAgICAgY2xpZW50S2V5LFxuICAgICAgICAgICAgZW52aXJvbm1lbnQsXG4gICAgICAgICAgICBzaG93UGF5QnV0dG9uOiB0aGlzLnNlbGVjdGVkQWR5ZW5QYXltZW50TWV0aG9kIGluIGFkeWVuQ29uZmlndXJhdGlvbi5jb21wb25lbnRzV2l0aFBheUJ1dHRvbixcbiAgICAgICAgICAgIGhhc0hvbGRlck5hbWU6IHRydWUsXG4gICAgICAgICAgICBwYXltZW50TWV0aG9kc1Jlc3BvbnNlOiBKU09OLnBhcnNlKHBheW1lbnRNZXRob2RzUmVzcG9uc2UpLFxuICAgICAgICAgICAgb25BZGRpdGlvbmFsRGV0YWlsczogdGhpcy5oYW5kbGVPbkFkZGl0aW9uYWxEZXRhaWxzLmJpbmQodGhpcyksXG4gICAgICAgICAgICBjb3VudHJ5Q29kZTogYWN0aXZlU2hpcHBpbmdBZGRyZXNzLmNvdW50cnksXG4gICAgICAgICAgICBwYXltZW50TWV0aG9kc0NvbmZpZ3VyYXRpb246IHtcbiAgICAgICAgICAgICAgICBjYXJkOiB7XG4gICAgICAgICAgICAgICAgICAgIGhhc0hvbGRlck5hbWU6IHRydWUsXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5hZHllbkNoZWNrb3V0ID0gYXdhaXQgQWR5ZW5DaGVja291dChBRFlFTl9DSEVDS09VVF9DT05GSUcpO1xuICAgIH1cblxuICAgIGhhbmRsZU9uQWRkaXRpb25hbERldGFpbHMgKHN0YXRlKSB7XG4gICAgICAgIHRoaXMuX2NsaWVudC5wb3N0KFxuICAgICAgICAgICAgYCR7YWR5ZW5DaGVja291dE9wdGlvbnMucGF5bWVudERldGFpbHNVcmx9YCxcbiAgICAgICAgICAgIEpTT04uc3RyaW5naWZ5KHtvcmRlcklkOiB0aGlzLm9yZGVySWQsIHN0YXRlRGF0YTogc3RhdGUuZGF0YX0pLFxuICAgICAgICAgICAgZnVuY3Rpb24gKHBheW1lbnRSZXNwb25zZSkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9jbGllbnQuX3JlcXVlc3Quc3RhdHVzICE9PSAyMDApIHtcbiAgICAgICAgICAgICAgICAgICAgbG9jYXRpb24uaHJlZiA9IHRoaXMuZXJyb3JVcmwudG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMucmVzcG9uc2VIYW5kbGVyKHBheW1lbnRSZXNwb25zZSk7XG4gICAgICAgICAgICB9LmJpbmQodGhpcylcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBvbkNvbmZpcm1PcmRlclN1Ym1pdChldmVudCkge1xuICAgICAgICBjb25zdCBmb3JtID0gIERvbUFjY2Vzcy5xdWVyeVNlbGVjdG9yKGRvY3VtZW50LCAnI2NvbmZpcm1PcmRlckZvcm0nKTtcbiAgICAgICAgaWYgKCFmb3JtLmNoZWNrVmFsaWRpdHkoKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIEVsZW1lbnRMb2FkaW5nSW5kaWNhdG9yVXRpbC5jcmVhdGUoZG9jdW1lbnQuYm9keSk7XG4gICAgICAgIGNvbnN0IGZvcm1EYXRhID0gRm9ybVNlcmlhbGl6ZVV0aWwuc2VyaWFsaXplKGZvcm0pO1xuICAgICAgICB0aGlzLmNvbmZpcm1PcmRlcihmb3JtRGF0YSk7XG4gICAgfVxuXG4gICAgcmVuZGVyUGF5bWVudENvbXBvbmVudCh0eXBlKSB7XG4gICAgICAgIGlmICh0eXBlID09PSAnb25lY2xpY2snKSB7XG4gICAgICAgICAgICB0aGlzLnJlbmRlclN0b3JlZFBheW1lbnRNZXRob2RDb21wb25lbnRzKCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBHZXQgdGhlIHBheW1lbnQgbWV0aG9kIG9iamVjdCBmcm9tIHBheW1lbnRNZXRob2RzUmVzcG9uc2VcbiAgICAgICAgbGV0IHBheW1lbnRNZXRob2RDb25maWdzID0gJC5ncmVwKHRoaXMuYWR5ZW5DaGVja291dC5wYXltZW50TWV0aG9kc1Jlc3BvbnNlLnBheW1lbnRNZXRob2RzLCBmdW5jdGlvbihwYXltZW50TWV0aG9kKSB7XG4gICAgICAgICAgICByZXR1cm4gcGF5bWVudE1ldGhvZFsndHlwZSddID09PSB0eXBlO1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKHBheW1lbnRNZXRob2RDb25maWdzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuYWR5ZW5DaGVja291dC5vcHRpb25zLmVudmlyb25tZW50ID09PSAndGVzdCcpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdQYXltZW50IG1ldGhvZCBjb25maWd1cmF0aW9uIG5vdCBmb3VuZC4gJywgdHlwZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHBheW1lbnRNZXRob2QgPSBwYXltZW50TWV0aG9kQ29uZmlnc1swXTtcblxuICAgICAgICAvLyBNb3VudCBwYXltZW50IG1ldGhvZCBpbnN0YW5jZVxuICAgICAgICB0aGlzLm1vdW50UGF5bWVudENvbXBvbmVudChwYXltZW50TWV0aG9kLCBmYWxzZSk7XG4gICAgfVxuXG4gICAgcmVuZGVyU3RvcmVkUGF5bWVudE1ldGhvZENvbXBvbmVudHMoKSB7XG4gICAgICAgIC8vIEl0ZXJhdGUgdGhyb3VnaCBhbmQgcmVuZGVyIHRoZSBzdG9yZWQgcGF5bWVudCBtZXRob2RzXG4gICAgICAgIGNvbnN0IHN0b3JlZFBheW1lbnRNZXRob2RzID0gdGhpcy5hZHllbkNoZWNrb3V0LnBheW1lbnRNZXRob2RzUmVzcG9uc2Uuc3RvcmVkUGF5bWVudE1ldGhvZHM7XG4gICAgICAgIC8vIE1vdW50IHBheW1lbnQgbWV0aG9kIGluc3RhbmNlXG4gICAgICAgIHN0b3JlZFBheW1lbnRNZXRob2RzLmZvckVhY2goKHBheW1lbnRNZXRob2QpID0+IHtcbiAgICAgICAgICAgIGxldCBzZWxlY3RvciA9IGBbZGF0YS1hZHllbi1zdG9yZWQtcGF5bWVudC1tZXRob2QtaWQ9XCIke3BheW1lbnRNZXRob2QuaWR9XCJdYDtcbiAgICAgICAgICAgIHRoaXMubW91bnRQYXltZW50Q29tcG9uZW50KHBheW1lbnRNZXRob2QsIHNlbGVjdG9yLCB0cnVlKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5zaG93U2VsZWN0ZWRTdG9yZWRQYXltZW50TWV0aG9kKCk7XG4gICAgICAgICQoJ1tuYW1lPWFkeWVuU3RvcmVkUGF5bWVudE1ldGhvZElkXScpLmNoYW5nZSh0aGlzLnNob3dTZWxlY3RlZFN0b3JlZFBheW1lbnRNZXRob2QpO1xuICAgIH1cblxuICAgIHNob3dTZWxlY3RlZFN0b3JlZFBheW1lbnRNZXRob2QoKSB7XG4gICAgICAgIC8vIE9ubHkgc2hvdyB0aGUgY29tcG9uZW50IGZvciB0aGUgc2VsZWN0ZWQgc3RvcmVkIHBheW1lbnQgbWV0aG9kXG4gICAgICAgICQoJy5zdG9yZWQtcGF5bWVudC1jb21wb25lbnQnKS5oaWRlKCk7XG4gICAgICAgIGxldCBzZWxlY3RlZCA9ICQoJ1tuYW1lPWFkeWVuU3RvcmVkUGF5bWVudE1ldGhvZElkXTpjaGVja2VkJykudmFsKCk7XG4gICAgICAgICQoYFtkYXRhLWFkeWVuLXN0b3JlZC1wYXltZW50LW1ldGhvZC1pZD1cIiR7c2VsZWN0ZWR9XCJdYCkuc2hvdygpO1xuICAgIH1cblxuICAgIGNvbmZpcm1PcmRlcihmb3JtRGF0YSwgZXh0cmFQYXJhbXM9IHt9KSB7XG4gICAgICAgIGNvbnN0IG9yZGVySWQgPSBhZHllbkNoZWNrb3V0T3B0aW9ucy5vcmRlcklkO1xuICAgICAgICBpZiAoISFvcmRlcklkKSB7IC8vT25seSB1c2VkIGlmIHRoZSBvcmRlciBpcyBiZWluZyBlZGl0ZWRcbiAgICAgICAgICAgIHRoaXMudXBkYXRlUGF5bWVudChmb3JtRGF0YSwgb3JkZXJJZCwgZXh0cmFQYXJhbXMpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmNyZWF0ZU9yZGVyKGZvcm1EYXRhLCBleHRyYVBhcmFtcyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB1cGRhdGVQYXltZW50KGZvcm1EYXRhLCBvcmRlcklkLCBleHRyYVBhcmFtcykge1xuICAgICAgICBmb3JtRGF0YS5zZXQoJ29yZGVySWQnLCBvcmRlcklkKTtcblxuICAgICAgICB0aGlzLl9jbGllbnQucG9zdChcbiAgICAgICAgICAgIGFkeWVuQ2hlY2tvdXRPcHRpb25zLnVwZGF0ZVBheW1lbnRVcmwsXG4gICAgICAgICAgICBmb3JtRGF0YSxcbiAgICAgICAgICAgIHRoaXMuYWZ0ZXJTZXRQYXltZW50LmJpbmQodGhpcywgZXh0cmFQYXJhbXMpXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgY3JlYXRlT3JkZXIoZm9ybURhdGEsIGV4dHJhUGFyYW1zKSB7XG4gICAgICAgIGlmICghYWR5ZW5DaGVja291dE9wdGlvbnMucGF5SW5GdWxsV2l0aEdpZnRjYXJkKSB7XG4gICAgICAgICAgICB0aGlzLl9jbGllbnQucG9zdChcbiAgICAgICAgICAgICAgICBhZHllbkNoZWNrb3V0T3B0aW9ucy5jcmVhdGVPcmRlclVybCxcbiAgICAgICAgICAgICAgICBKU09OLnN0cmluZ2lmeSh7b3JkZXJBbW91bnQ6IGFkeWVuQ2hlY2tvdXRPcHRpb25zLmFtb3VudCwgY3VycmVuY3k6IGFkeWVuQ2hlY2tvdXRPcHRpb25zLmN1cnJlbmN5fSksXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFkeWVuT3JkZXIgPSBKU09OLnBhcnNlKHJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFkeWVuT3JkZXIucmVzdWx0Q29kZSA9PT0gJ1N1Y2Nlc3MnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBleHRyYVBhcmFtcyA9IE9iamVjdC5hc3NpZ24oZXh0cmFQYXJhbXMsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcmRlcjogYWR5ZW5PcmRlclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9jbGllbnQucG9zdChcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkeWVuQ2hlY2tvdXRPcHRpb25zLmNoZWNrb3V0T3JkZXJVcmwsXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3JtRGF0YSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYWZ0ZXJDcmVhdGVPcmRlci5iaW5kKHRoaXMsIGV4dHJhUGFyYW1zKVxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH0uYmluZCh0aGlzKVxuICAgICAgICAgICAgKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fY2xpZW50LnBvc3QoXG4gICAgICAgICAgICAgICAgYWR5ZW5DaGVja291dE9wdGlvbnMuY2hlY2tvdXRPcmRlclVybCxcbiAgICAgICAgICAgICAgICBmb3JtRGF0YSxcbiAgICAgICAgICAgICAgICB0aGlzLmFmdGVyQ3JlYXRlT3JkZXIuYmluZCh0aGlzLCBleHRyYVBhcmFtcylcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhZnRlckNyZWF0ZU9yZGVyKGV4dHJhUGFyYW1zPXt9LCByZXNwb25zZSkge1xuICAgICAgICBsZXQgb3JkZXI7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBvcmRlciA9IEpTT04ucGFyc2UocmVzcG9uc2UpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgRWxlbWVudExvYWRpbmdJbmRpY2F0b3JVdGlsLnJlbW92ZShkb2N1bWVudC5ib2R5KTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdFcnJvcjogaW52YWxpZCByZXNwb25zZSBmcm9tIFNob3B3YXJlIEFQSScsIHJlc3BvbnNlKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMub3JkZXJJZCA9IG9yZGVyLmlkO1xuICAgICAgICB0aGlzLmZpbmlzaFVybCA9IG5ldyBVUkwoXG4gICAgICAgICAgICBsb2NhdGlvbi5vcmlnaW4gKyBhZHllbkNoZWNrb3V0T3B0aW9ucy5wYXltZW50RmluaXNoVXJsKTtcbiAgICAgICAgdGhpcy5maW5pc2hVcmwuc2VhcmNoUGFyYW1zLnNldCgnb3JkZXJJZCcsIG9yZGVyLmlkKTtcbiAgICAgICAgdGhpcy5lcnJvclVybCA9IG5ldyBVUkwoXG4gICAgICAgICAgICBsb2NhdGlvbi5vcmlnaW4gKyBhZHllbkNoZWNrb3V0T3B0aW9ucy5wYXltZW50RXJyb3JVcmwpO1xuICAgICAgICB0aGlzLmVycm9yVXJsLnNlYXJjaFBhcmFtcy5zZXQoJ29yZGVySWQnLCBvcmRlci5pZCk7XG4gICAgICAgIGxldCBwYXJhbXMgPSB7XG4gICAgICAgICAgICAnb3JkZXJJZCc6IHRoaXMub3JkZXJJZCxcbiAgICAgICAgICAgICdmaW5pc2hVcmwnOiB0aGlzLmZpbmlzaFVybC50b1N0cmluZygpLFxuICAgICAgICAgICAgJ2Vycm9yVXJsJzogdGhpcy5lcnJvclVybC50b1N0cmluZygpLFxuICAgICAgICB9O1xuICAgICAgICAvLyBBcHBlbmQgYW55IGV4dHJhIHBhcmFtZXRlcnMgcGFzc2VkLCBlLmcuIHN0YXRlRGF0YVxuICAgICAgICBmb3IgKGNvbnN0IHByb3BlcnR5IGluIGV4dHJhUGFyYW1zKSB7XG4gICAgICAgICAgICBwYXJhbXNbcHJvcGVydHldID0gZXh0cmFQYXJhbXNbcHJvcGVydHldO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fY2xpZW50LnBvc3QoXG4gICAgICAgICAgICBhZHllbkNoZWNrb3V0T3B0aW9ucy5wYXltZW50SGFuZGxlVXJsLFxuICAgICAgICAgICAgSlNPTi5zdHJpbmdpZnkocGFyYW1zKSxcbiAgICAgICAgICAgIHRoaXMuYWZ0ZXJQYXlPcmRlci5iaW5kKHRoaXMsIHRoaXMub3JkZXJJZCksXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgYWZ0ZXJTZXRQYXltZW50KGV4dHJhUGFyYW1zPXt9LCByZXNwb25zZSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2VPYmplY3QgPSBKU09OLnBhcnNlKHJlc3BvbnNlKTtcbiAgICAgICAgICAgIGlmIChyZXNwb25zZU9iamVjdC5zdWNjZXNzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hZnRlckNyZWF0ZU9yZGVyKGV4dHJhUGFyYW1zLFxuICAgICAgICAgICAgICAgICAgICBKU09OLnN0cmluZ2lmeSh7aWQ6IGFkeWVuQ2hlY2tvdXRPcHRpb25zLm9yZGVySWR9KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIEVsZW1lbnRMb2FkaW5nSW5kaWNhdG9yVXRpbC5yZW1vdmUoZG9jdW1lbnQuYm9keSk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnRXJyb3I6IGludmFsaWQgcmVzcG9uc2UgZnJvbSBTaG9wd2FyZSBBUEknLCByZXNwb25zZSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhZnRlclBheU9yZGVyKG9yZGVySWQsIHJlc3BvbnNlKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXNwb25zZSA9IEpTT04ucGFyc2UocmVzcG9uc2UpO1xuICAgICAgICAgICAgdGhpcy5yZXR1cm5VcmwgPSByZXNwb25zZS5yZWRpcmVjdFVybDtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgRWxlbWVudExvYWRpbmdJbmRpY2F0b3JVdGlsLnJlbW92ZShkb2N1bWVudC5ib2R5KTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdFcnJvcjogaW52YWxpZCByZXNwb25zZSBmcm9tIFNob3B3YXJlIEFQSScsIHJlc3BvbnNlKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIElmIHBheW1lbnQgY2FsbCByZXR1cm5zIHRoZSBlcnJvclVybCwgdGhlbiBubyBuZWVkIHRvIHByb2NlZWQgZnVydGhlci5cbiAgICAgICAgLy8gUmVkaXJlY3QgdG8gZXJyb3IgcGFnZS5cbiAgICAgICAgaWYgKHRoaXMucmV0dXJuVXJsID09PSB0aGlzLmVycm9yVXJsLnRvU3RyaW5nKCkpIHtcbiAgICAgICAgICAgIGxvY2F0aW9uLmhyZWYgPSB0aGlzLnJldHVyblVybDtcbiAgICAgICAgfVxuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0aGlzLl9jbGllbnQucG9zdChcbiAgICAgICAgICAgICAgICBgJHthZHllbkNoZWNrb3V0T3B0aW9ucy5wYXltZW50U3RhdHVzVXJsfWAsXG4gICAgICAgICAgICAgICAgSlNPTi5zdHJpbmdpZnkoeydvcmRlcklkJzogb3JkZXJJZH0pLFxuICAgICAgICAgICAgICAgIHRoaXMucmVzcG9uc2VIYW5kbGVyLmJpbmQodGhpcyksXG4gICAgICAgICAgICApO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGhhbmRsZVBheW1lbnRBY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHBheW1lbnRSZXNwb25zZSA9IEpTT04ucGFyc2UocmVzcG9uc2UpO1xuICAgICAgICAgICAgaWYgKHBheW1lbnRSZXNwb25zZS5pc0ZpbmFsIHx8IHBheW1lbnRSZXNwb25zZS5hY3Rpb24udHlwZSA9PT0gJ3ZvdWNoZXInKSB7XG4gICAgICAgICAgICAgICAgbG9jYXRpb24uaHJlZiA9IHRoaXMucmV0dXJuVXJsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCEhcGF5bWVudFJlc3BvbnNlLmFjdGlvbikge1xuICAgICAgICAgICAgICAgIHRoaXMuYWR5ZW5DaGVja291dFxuICAgICAgICAgICAgICAgICAgICAuY3JlYXRlRnJvbUFjdGlvbihwYXltZW50UmVzcG9uc2UuYWN0aW9uKVxuICAgICAgICAgICAgICAgICAgICAubW91bnQoJ1tkYXRhLWFkeWVuLXBheW1lbnQtYWN0aW9uLWNvbnRhaW5lcl0nKTtcbiAgICAgICAgICAgICAgICBjb25zdCBtb2RhbEFjdGlvblR5cGVzID0gWyd0aHJlZURTMicsICdxckNvZGUnXVxuICAgICAgICAgICAgICAgIGlmIChtb2RhbEFjdGlvblR5cGVzLmluY2x1ZGVzKHBheW1lbnRSZXNwb25zZS5hY3Rpb24udHlwZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgJCgnW2RhdGEtYWR5ZW4tcGF5bWVudC1hY3Rpb24tbW9kYWxdJykubW9kYWwoe3Nob3c6IHRydWV9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaW5pdGlhbGl6ZUN1c3RvbVBheUJ1dHRvbigpIHtcblxuICAgICAgICBjb25zdCBjb21wb25lbnRDb25maWcgPSBhZHllbkNvbmZpZ3VyYXRpb24uY29tcG9uZW50c1dpdGhQYXlCdXR0b25bdGhpcy5zZWxlY3RlZEFkeWVuUGF5bWVudE1ldGhvZF07XG5cbiAgICAgICAgdGhpcy5jb21wbGV0ZVBlbmRpbmdQYXltZW50KHRoaXMuc2VsZWN0ZWRBZHllblBheW1lbnRNZXRob2QsIGNvbXBvbmVudENvbmZpZyk7XG5cbiAgICAgICAgLy8gZ2V0IHNlbGVjdGVkIHBheW1lbnQgbWV0aG9kIG9iamVjdFxuICAgICAgICBsZXQgc2VsZWN0ZWRQYXltZW50TWV0aG9kID0gdGhpcy5hZHllbkNoZWNrb3V0LnBheW1lbnRNZXRob2RzUmVzcG9uc2UucGF5bWVudE1ldGhvZHNcbiAgICAgICAgICAgIC5maWx0ZXIoaXRlbSA9PiBpdGVtLnR5cGUgPT09IHRoaXMuc2VsZWN0ZWRBZHllblBheW1lbnRNZXRob2QpO1xuXG4gICAgICAgIGlmIChzZWxlY3RlZFBheW1lbnRNZXRob2QubGVuZ3RoIDwgMSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGxldCBzZWxlY3RlZFBheW1lbnRNZXRob2RPYmplY3QgPSBzZWxlY3RlZFBheW1lbnRNZXRob2RbMF07XG5cbiAgICAgICAgaWYgKCFhZHllbkNoZWNrb3V0T3B0aW9ucy5hbW91bnQpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBmZXRjaCBDYXJ0L09yZGVyIHRvdGFsIGFtb3VudC4nKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghIWNvbXBvbmVudENvbmZpZy5wcmVQYXlSZWRpcmVjdCkge1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJQcmVQYXltZW50QnV0dG9uKGNvbXBvbmVudENvbmZpZywgc2VsZWN0ZWRQYXltZW50TWV0aG9kT2JqZWN0KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IFBBWV9CVVRUT05fQ09ORklHID0gT2JqZWN0LmFzc2lnbihjb21wb25lbnRDb25maWcuZXh0cmEsIHNlbGVjdGVkUGF5bWVudE1ldGhvZE9iamVjdCwge1xuICAgICAgICAgICAgYW1vdW50OiB7XG4gICAgICAgICAgICAgICAgdmFsdWU6IGFkeWVuQ2hlY2tvdXRPcHRpb25zLmFtb3VudCxcbiAgICAgICAgICAgICAgICBjdXJyZW5jeTogYWR5ZW5DaGVja291dE9wdGlvbnMuY3VycmVuY3ksXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgIHBlcnNvbmFsRGV0YWlsczogc2hvcHBlckRldGFpbHMsXG4gICAgICAgICAgICAgICAgYmlsbGluZ0FkZHJlc3M6IGFjdGl2ZUJpbGxpbmdBZGRyZXNzLFxuICAgICAgICAgICAgICAgIGRlbGl2ZXJ5QWRkcmVzczogYWN0aXZlU2hpcHBpbmdBZGRyZXNzXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25DbGljazogKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICghY29tcG9uZW50Q29uZmlnLm9uQ2xpY2socmVzb2x2ZSwgcmVqZWN0LCB0aGlzKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIEVsZW1lbnRMb2FkaW5nSW5kaWNhdG9yVXRpbC5jcmVhdGUoZG9jdW1lbnQuYm9keSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25TdWJtaXQ6IGZ1bmN0aW9uIChzdGF0ZSwgY29tcG9uZW50KSB7XG4gICAgICAgICAgICAgICAgaWYgKHN0YXRlLmlzVmFsaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGV4dHJhUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGVEYXRhOiBKU09OLnN0cmluZ2lmeShzdGF0ZS5kYXRhKVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBsZXQgZm9ybURhdGEgPSBGb3JtU2VyaWFsaXplVXRpbC5zZXJpYWxpemUodGhpcy5jb25maXJtT3JkZXJGb3JtKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gU2V0IGEgY3VzdG9tIHJlc3BvbnNlIGFjdGlvbiBoYW5kbGVyIGlmIGF2YWlsYWJsZS5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCdyZXNwb25zZUhhbmRsZXInIGluIGNvbXBvbmVudENvbmZpZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXNwb25zZUhhbmRsZXIgPSBjb21wb25lbnRDb25maWcucmVzcG9uc2VIYW5kbGVyLmJpbmQoY29tcG9uZW50LCB0aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29uZmlybU9yZGVyKGZvcm1EYXRhLCBleHRyYVBhcmFtcyk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50LnNob3dWYWxpZGF0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmFkeWVuQ2hlY2tvdXQub3B0aW9ucy5lbnZpcm9ubWVudCA9PT0gJ3Rlc3QnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnUGF5bWVudCBmYWlsZWQ6ICcsIHN0YXRlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0uYmluZCh0aGlzKSxcbiAgICAgICAgICAgIG9uQ2FuY2VsOiAoZGF0YSwgY29tcG9uZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgRWxlbWVudExvYWRpbmdJbmRpY2F0b3JVdGlsLnJlbW92ZShkb2N1bWVudC5ib2R5KTtcbiAgICAgICAgICAgICAgICBjb21wb25lbnRDb25maWcub25DYW5jZWwoZGF0YSwgY29tcG9uZW50LCB0aGlzKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvbkVycm9yOiAoZXJyb3IsIGNvbXBvbmVudCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChjb21wb25lbnQucHJvcHMubmFtZSA9PT0gJ1BheVBhbCcgJiYgZXJyb3IubmFtZSA9PT0gJ0NBTkNFTCcpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fY2xpZW50LnBvc3QoXG4gICAgICAgICAgICAgICAgICAgICAgICBgJHthZHllbkNoZWNrb3V0T3B0aW9ucy5jYW5jZWxPcmRlclRyYW5zYWN0aW9uVXJsfWAsXG4gICAgICAgICAgICAgICAgICAgICAgICBKU09OLnN0cmluZ2lmeSh7b3JkZXJJZDogdGhpcy5vcmRlcklkfSlcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBFbGVtZW50TG9hZGluZ0luZGljYXRvclV0aWwucmVtb3ZlKGRvY3VtZW50LmJvZHkpO1xuICAgICAgICAgICAgICAgIGNvbXBvbmVudENvbmZpZy5vbkVycm9yKGVycm9yLCBjb21wb25lbnQsIHRoaXMpO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3QgcGF5bWVudE1ldGhvZEluc3RhbmNlID0gdGhpcy5hZHllbkNoZWNrb3V0LmNyZWF0ZShcbiAgICAgICAgICAgIHNlbGVjdGVkUGF5bWVudE1ldGhvZE9iamVjdC50eXBlLFxuICAgICAgICAgICAgUEFZX0JVVFRPTl9DT05GSUdcbiAgICAgICAgKTtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKCdpc0F2YWlsYWJsZScgaW4gcGF5bWVudE1ldGhvZEluc3RhbmNlKSB7XG4gICAgICAgICAgICAgICAgcGF5bWVudE1ldGhvZEluc3RhbmNlLmlzQXZhaWxhYmxlKCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubW91bnRDdXN0b21QYXlCdXR0b24ocGF5bWVudE1ldGhvZEluc3RhbmNlKTtcbiAgICAgICAgICAgICAgICB9LmJpbmQodGhpcykpLmNhdGNoKGUgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhzZWxlY3RlZFBheW1lbnRNZXRob2RPYmplY3QudHlwZSArICcgaXMgbm90IGF2YWlsYWJsZScsIGUpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLm1vdW50Q3VzdG9tUGF5QnV0dG9uKHBheW1lbnRNZXRob2RJbnN0YW5jZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmVuZGVyUHJlUGF5bWVudEJ1dHRvbihjb21wb25lbnRDb25maWcsIHNlbGVjdGVkUGF5bWVudE1ldGhvZE9iamVjdCkge1xuICAgICAgICBpZiAoc2VsZWN0ZWRQYXltZW50TWV0aG9kT2JqZWN0LnR5cGUgPT09ICdhbWF6b25wYXknKSB7XG4gICAgICAgICAgICBjb21wb25lbnRDb25maWcuZXh0cmEgPSB0aGlzLnNldEFkZHJlc3NEZXRhaWxzKGNvbXBvbmVudENvbmZpZy5leHRyYSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgUFJFX1BBWV9CVVRUT04gPSBPYmplY3QuYXNzaWduKGNvbXBvbmVudENvbmZpZy5leHRyYSwgc2VsZWN0ZWRQYXltZW50TWV0aG9kT2JqZWN0LCB7XG4gICAgICAgICAgICBjb25maWd1cmF0aW9uOiBzZWxlY3RlZFBheW1lbnRNZXRob2RPYmplY3QuY29uZmlndXJhdGlvbixcbiAgICAgICAgICAgIGFtb3VudDoge1xuICAgICAgICAgICAgICAgIHZhbHVlOiBhZHllbkNoZWNrb3V0T3B0aW9ucy5hbW91bnQsXG4gICAgICAgICAgICAgICAgY3VycmVuY3k6IGFkeWVuQ2hlY2tvdXRPcHRpb25zLmN1cnJlbmN5LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uQ2xpY2s6IChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIWNvbXBvbmVudENvbmZpZy5vbkNsaWNrKHJlc29sdmUsIHJlamVjdCwgdGhpcykpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBFbGVtZW50TG9hZGluZ0luZGljYXRvclV0aWwuY3JlYXRlKGRvY3VtZW50LmJvZHkpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uRXJyb3I6IChlcnJvciwgY29tcG9uZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgRWxlbWVudExvYWRpbmdJbmRpY2F0b3JVdGlsLnJlbW92ZShkb2N1bWVudC5ib2R5KTtcbiAgICAgICAgICAgICAgICBjb21wb25lbnRDb25maWcub25FcnJvcihlcnJvciwgY29tcG9uZW50LCB0aGlzKTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBsZXQgcGF5bWVudE1ldGhvZEluc3RhbmNlID0gdGhpcy5hZHllbkNoZWNrb3V0LmNyZWF0ZShcbiAgICAgICAgICAgIHNlbGVjdGVkUGF5bWVudE1ldGhvZE9iamVjdC50eXBlLFxuICAgICAgICAgICAgUFJFX1BBWV9CVVRUT05cbiAgICAgICAgKTtcbiAgICAgICAgdGhpcy5tb3VudEN1c3RvbVBheUJ1dHRvbihwYXltZW50TWV0aG9kSW5zdGFuY2UpO1xuICAgIH1cblxuICAgIGNvbXBsZXRlUGVuZGluZ1BheW1lbnQocGF5bWVudE1ldGhvZFR5cGUsIGNvbmZpZykge1xuICAgICAgICBjb25zdCB1cmwgPSBuZXcgVVJMKGxvY2F0aW9uLmhyZWYpO1xuICAgICAgICAvLyBDaGVjayBmb3IgcGVuZGluZyBwYXltZW50IHNlc3Npb25cbiAgICAgICAgaWYgKHVybC5zZWFyY2hQYXJhbXMuaGFzKGNvbmZpZy5zZXNzaW9uS2V5KSkge1xuICAgICAgICAgICAgRWxlbWVudExvYWRpbmdJbmRpY2F0b3JVdGlsLmNyZWF0ZShkb2N1bWVudC5ib2R5KTtcbiAgICAgICAgICAgIGNvbnN0IHBheW1lbnRNZXRob2RJbnN0YW5jZSA9IHRoaXMuYWR5ZW5DaGVja291dC5jcmVhdGUocGF5bWVudE1ldGhvZFR5cGUsIHtcbiAgICAgICAgICAgICAgICBbY29uZmlnLnNlc3Npb25LZXldOiB1cmwuc2VhcmNoUGFyYW1zLmdldChjb25maWcuc2Vzc2lvbktleSksXG4gICAgICAgICAgICAgICAgc2hvd09yZGVyQnV0dG9uOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBvblN1Ym1pdDogZnVuY3Rpb24gKHN0YXRlLCBjb21wb25lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXRlLmlzVmFsaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBleHRyYVBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZURhdGE6IEpTT04uc3RyaW5naWZ5KHN0YXRlLmRhdGEpXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGZvcm1EYXRhID0gRm9ybVNlcmlhbGl6ZVV0aWwuc2VyaWFsaXplKHRoaXMuY29uZmlybU9yZGVyRm9ybSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbmZpcm1PcmRlcihmb3JtRGF0YSwgZXh0cmFQYXJhbXMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfS5iaW5kKHRoaXMpLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLm1vdW50Q3VzdG9tUGF5QnV0dG9uKHBheW1lbnRNZXRob2RJbnN0YW5jZSk7XG4gICAgICAgICAgICBwYXltZW50TWV0aG9kSW5zdGFuY2Uuc3VibWl0KCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXRTZWxlY3RlZFBheW1lbnRNZXRob2RLZXkoKSB7XG4gICAgICAgIHJldHVybiBPYmplY3Qua2V5cyhcbiAgICAgICAgICAgIGFkeWVuQ29uZmlndXJhdGlvbi5wYXltZW50TWV0aG9kVHlwZUhhbmRsZXJzKS5maW5kKFxuICAgICAgICAgICAgICAgIGtleSA9PiBhZHllbkNvbmZpZ3VyYXRpb24ucGF5bWVudE1ldGhvZFR5cGVIYW5kbGVyc1trZXldID09PVxuICAgICAgICAgICAgICAgICAgICBhZHllbkNoZWNrb3V0T3B0aW9ucy5zZWxlY3RlZFBheW1lbnRNZXRob2RIYW5kbGVyKTtcbiAgICB9XG5cbiAgICBtb3VudEN1c3RvbVBheUJ1dHRvbihwYXltZW50TWV0aG9kSW5zdGFuY2UpIHtcbiAgICAgICAgbGV0IGZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjY29uZmlybU9yZGVyRm9ybScpO1xuICAgICAgICBpZiAoZm9ybSkge1xuICAgICAgICAgICAgbGV0IHN1Ym1pdEJ1dHRvbiA9IGZvcm0ucXVlcnlTZWxlY3RvcignYnV0dG9uW3R5cGU9c3VibWl0XScpO1xuICAgICAgICAgICAgaWYgKHN1Ym1pdEJ1dHRvbiAmJiAhc3VibWl0QnV0dG9uLmRpc2FibGVkKSB7XG4gICAgICAgICAgICAgICAgbGV0IGNvbmZpcm1CdXR0b25Db250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgICAgICBjb25maXJtQnV0dG9uQ29udGFpbmVyLmlkID0gJ2FkeWVuLWNvbmZpcm0tYnV0dG9uJztcbiAgICAgICAgICAgICAgICBjb25maXJtQnV0dG9uQ29udGFpbmVyLnNldEF0dHJpYnV0ZSgnZGF0YS1hZHllbi1jb25maXJtLWJ1dHRvbicsICcnKVxuICAgICAgICAgICAgICAgIGZvcm0uYXBwZW5kQ2hpbGQoY29uZmlybUJ1dHRvbkNvbnRhaW5lcik7XG4gICAgICAgICAgICAgICAgcGF5bWVudE1ldGhvZEluc3RhbmNlLm1vdW50KGNvbmZpcm1CdXR0b25Db250YWluZXIpO1xuICAgICAgICAgICAgICAgIHN1Ym1pdEJ1dHRvbi5yZW1vdmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIG1vdW50UGF5bWVudENvbXBvbmVudChwYXltZW50TWV0aG9kLCBpc09uZUNsaWNrID0gZmFsc2UpIHtcbiAgICAgICAgY29uc3QgY29uZmlndXJhdGlvbiA9IE9iamVjdC5hc3NpZ24oe30sIHBheW1lbnRNZXRob2QsIHtcbiAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICBwZXJzb25hbERldGFpbHM6IHNob3BwZXJEZXRhaWxzLFxuICAgICAgICAgICAgICAgIGJpbGxpbmdBZGRyZXNzOiBhY3RpdmVCaWxsaW5nQWRkcmVzcyxcbiAgICAgICAgICAgICAgICBkZWxpdmVyeUFkZHJlc3M6IGFjdGl2ZVNoaXBwaW5nQWRkcmVzc1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uU3VibWl0OiBmdW5jdGlvbihzdGF0ZSwgY29tcG9uZW50KSB7XG4gICAgICAgICAgICAgICAgaWYgKHN0YXRlLmlzVmFsaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGV4dHJhUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGVEYXRhOiBKU09OLnN0cmluZ2lmeShzdGF0ZS5kYXRhKVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBsZXQgZm9ybURhdGEgPSBGb3JtU2VyaWFsaXplVXRpbC5zZXJpYWxpemUodGhpcy5jb25maXJtT3JkZXJGb3JtKTtcbiAgICAgICAgICAgICAgICAgICAgRWxlbWVudExvYWRpbmdJbmRpY2F0b3JVdGlsLmNyZWF0ZShkb2N1bWVudC5ib2R5KTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb25maXJtT3JkZXIoZm9ybURhdGEsIGV4dHJhUGFyYW1zKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb21wb25lbnQuc2hvd1ZhbGlkYXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuYWR5ZW5DaGVja291dC5vcHRpb25zLmVudmlyb25tZW50ID09PSAndGVzdCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdQYXltZW50IGZhaWxlZDogJywgc3RhdGUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfS5iaW5kKHRoaXMpXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoIWlzT25lQ2xpY2sgJiYgcGF5bWVudE1ldGhvZC50eXBlID09PSAnc2NoZW1lJyAmJiBhZHllbkNoZWNrb3V0T3B0aW9ucy5kaXNwbGF5U2F2ZUNyZWRpdENhcmRPcHRpb24pIHtcbiAgICAgICAgICAgIGNvbmZpZ3VyYXRpb24uZW5hYmxlU3RvcmVEZXRhaWxzID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcGF5bWVudE1ldGhvZEluc3RhbmNlID0gdGhpcy5hZHllbkNoZWNrb3V0LmNyZWF0ZShwYXltZW50TWV0aG9kLnR5cGUsIGNvbmZpZ3VyYXRpb24pO1xuICAgICAgICAgICAgcGF5bWVudE1ldGhvZEluc3RhbmNlLm1vdW50KCcjJyArIHRoaXMuZWwuaWQpO1xuICAgICAgICAgICAgdGhpcy5jb25maXJtRm9ybVN1Ym1pdC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZm9ybSA9ICBEb21BY2Nlc3MucXVlcnlTZWxlY3Rvcihkb2N1bWVudCwgJyNjb25maXJtT3JkZXJGb3JtJyk7XG4gICAgICAgICAgICAgICAgaWYgKCFmb3JtLmNoZWNrVmFsaWRpdHkoKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgdGhpcy5lbC5wYXJlbnROb2RlLnNjcm9sbEludG9WaWV3KHtcbiAgICAgICAgICAgICAgICAgICAgYmVoYXZpb3I6IFwic21vb3RoXCIsXG4gICAgICAgICAgICAgICAgICAgIGJsb2NrOiAgICBcInN0YXJ0XCIsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcGF5bWVudE1ldGhvZEluc3RhbmNlLnN1Ym1pdCgpO1xuICAgICAgICAgICAgfS5iaW5kKHRoaXMpKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKHBheW1lbnRNZXRob2QudHlwZSwgZXJyKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFwcGVuZEdpZnRjYXJkU3VtbWFyeSgpIHtcbiAgICAgICAgaWYodGhpcy5zaG9wcGluZ0NhcnRTdW1tYXJ5QmxvY2subGVuZ3RoKSB7XG4gICAgICAgICAgICB0aGlzLnNob3BwaW5nQ2FydFN1bW1hcnlEZXRhaWxzID0gJCgnPGR0IGNsYXNzPVwiY29sLTcgY2hlY2tvdXQtYXNpZGUtc3VtbWFyeS1sYWJlbCBjaGVja291dC1hc2lkZS1zdW1tYXJ5LXRvdGFsIGFkeWVuLWdpZnRjYXJkLXN1bW1hcnlcIj5HaWZ0Y2FyZCBkaXNjb3VudDwvZHQ+JyArXG4gICAgICAgICAgICAgICAgJzxkZCBjbGFzcz1cImNvbC01IGNoZWNrb3V0LWFzaWRlLXN1bW1hcnktdmFsdWUgY2hlY2tvdXQtYXNpZGUtc3VtbWFyeS10b3RhbCBhZHllbi1naWZ0Y2FyZC1zdW1tYXJ5XCI+JyArIGFkeWVuQ2hlY2tvdXRPcHRpb25zLmN1cnJlbmN5U3ltYm9sICsgdGhpcy5naWZ0Y2FyZERpc2NvdW50ICsgJzwvZGQ+JyArXG4gICAgICAgICAgICAgICAgJzxkdCBjbGFzcz1cImNvbC03IGNoZWNrb3V0LWFzaWRlLXN1bW1hcnktbGFiZWwgY2hlY2tvdXQtYXNpZGUtc3VtbWFyeS10b3RhbCBhZHllbi1naWZ0Y2FyZC1zdW1tYXJ5XCI+UmVtYWluaW5nIGFtb3VudDwvZHQ+JyArXG4gICAgICAgICAgICAgICAgJzxkZCBjbGFzcz1cImNvbC01IGNoZWNrb3V0LWFzaWRlLXN1bW1hcnktdmFsdWUgY2hlY2tvdXQtYXNpZGUtc3VtbWFyeS10b3RhbCBhZHllbi1naWZ0Y2FyZC1zdW1tYXJ5XCI+JyArIGFkeWVuQ2hlY2tvdXRPcHRpb25zLmN1cnJlbmN5U3ltYm9sICsgdGhpcy5yZW1haW5pbmdBbW91bnQgKyAnPC9kZD4nKTtcbiAgICAgICAgICAgIHRoaXMuc2hvcHBpbmdDYXJ0U3VtbWFyeURldGFpbHMuYXBwZW5kVG8odGhpcy5zaG9wcGluZ0NhcnRTdW1tYXJ5QmxvY2tbMF0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBhZGRyZXNzIGRldGFpbHMgYmFzZWQgb24gdGhlIHBhc3NlZCBkYXRhIGluIGNvbmZpcm0tcGF5bWVudCB0d2lnIGZpbGVcbiAgICAgKiBJZiBubyBwaG9uZSBudW1iZXIgaXMgbGlua2VkIHRvIGN1c3RvbWVyLCBkbyBub3Qgc2V0IGFkZHJlc3NEZXRhaWxzIGFuZCB1cGRhdGUgUHJvZHVjdCBUeXBlXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZXh0cmFcbiAgICAgKi9cbiAgICBzZXRBZGRyZXNzRGV0YWlscyhleHRyYSkge1xuICAgICAgICBpZiAoYWN0aXZlU2hpcHBpbmdBZGRyZXNzLnBob25lTnVtYmVyICE9PSAnJykge1xuICAgICAgICAgICAgZXh0cmEuYWRkcmVzc0RldGFpbHMgPSB7XG4gICAgICAgICAgICAgICAgbmFtZTogc2hvcHBlckRldGFpbHMuZmlyc3ROYW1lICsgJyAnICsgc2hvcHBlckRldGFpbHMubGFzdE5hbWUsXG4gICAgICAgICAgICAgICAgYWRkcmVzc0xpbmUxOiBhY3RpdmVTaGlwcGluZ0FkZHJlc3Muc3RyZWV0LFxuICAgICAgICAgICAgICAgIGNpdHk6IGFjdGl2ZVNoaXBwaW5nQWRkcmVzcy5jaXR5LFxuICAgICAgICAgICAgICAgIHBvc3RhbENvZGU6IGFjdGl2ZVNoaXBwaW5nQWRkcmVzcy5wb3N0YWxDb2RlLFxuICAgICAgICAgICAgICAgIGNvdW50cnlDb2RlOiBhY3RpdmVTaGlwcGluZ0FkZHJlc3MuY291bnRyeSxcbiAgICAgICAgICAgICAgICBwaG9uZU51bWJlcjogYWN0aXZlU2hpcHBpbmdBZGRyZXNzLnBob25lTnVtYmVyXG4gICAgICAgICAgICB9O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZXh0cmEucHJvZHVjdFR5cGUgPSAnUGF5T25seSc7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZXh0cmE7XG4gICAgfVxufVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTs7Ozs7Ozs7Ozs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBREE7QUFUQTs7QUFlQTtBQUNBOztBQURBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRUE7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7OztBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBRUE7QUFDQTs7O0FBRUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUtBOzs7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBREE7QUFHQTtBQUNBO0FBQ0E7QUFLQTtBQUVBO0FBQ0E7QUFLQTtBQUNBOzs7QUFFQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7OztBQUVBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUdBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBbERBO0FBQ0E7QUFvREE7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUVBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBaEJBO0FBQ0E7QUFpQkE7QUFJQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBREE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBOzs7QUFFQTtBQUNBO0FBRUE7QUFBQTtBQUVBOzs7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFwQkE7QUFDQTtBQXFCQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTkE7QUFRQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUFqaEJBO0FBQ0E7O0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///h8V8\n");

/***/ }),

/***/ "n9eb":
/*!*******************************************************************************************************!*\
  !*** /var/www/html/vendor/adyen/adyen-shopware6/src/Resources/app/storefront/src/cart/cart.plugin.js ***!
  \*******************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function($) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return CartPlugin; });\n/* harmony import */ var src_plugin_system_plugin_class__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! src/plugin-system/plugin.class */ \"FGIj\");\n/* harmony import */ var src_helper_dom_access_helper__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! src/helper/dom-access.helper */ \"gHbT\");\n/* harmony import */ var src_service_store_api_client_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/service/store-api-client.service */ \"p4AR\");\n/* harmony import */ var src_utility_loading_indicator_element_loading_indicator_util__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/utility/loading-indicator/element-loading-indicator.util */ \"u0Tz\");\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\n/*\n *                       ######\n *                       ######\n * ############    ####( ######  #####. ######  ############   ############\n * #############  #####( ######  #####. ######  #############  #############\n *        ######  #####( ######  #####. ######  #####  ######  #####  ######\n * ###### ######  #####( ######  #####. ######  #####  #####   #####  ######\n * ###### ######  #####( ######  #####. ######  #####          #####  ######\n * #############  #############  #############  #############  #####  ######\n *  ############   ############  #############   ############  #####  ######\n *                                      ######\n *                               #############\n *                               ############\n *\n * Adyen Payment Module\n *\n * Copyright (c) 2022 Adyen N.V.\n * This file is open source and available under the MIT license.\n * See the LICENSE file for more info.\n *\n */\n\n\n\n\n\nvar CartPlugin = /*#__PURE__*/function (_Plugin) {\n  _inherits(CartPlugin, _Plugin);\n\n  function CartPlugin() {\n    _classCallCheck(this, CartPlugin);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(CartPlugin).apply(this, arguments));\n  }\n\n  _createClass(CartPlugin, [{\n    key: \"init\",\n    value: function init() {\n      this._client = new src_service_store_api_client_service__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\n      this.adyenCheckout = Promise;\n      this.paymentMethodInstance = null;\n      this.selectedGiftcard = null;\n      this.initializeCheckoutComponent().then(function () {\n        this.observeGiftcardSelection();\n      }.bind(this));\n      this.giftcardHeader = $('.adyen-giftcard-header');\n      this.giftcardComponentClose = $('.adyen-close-giftcard-component');\n      this.removeGiftcardButton = $('.adyen-remove-giftcard');\n      this.minorUnitsQuotient = adyenGiftcardsConfiguration.totalInMinorUnits / adyenGiftcardsConfiguration.totalPrice;\n      this.giftcardDiscount = (adyenGiftcardsConfiguration.giftcardDiscount / this.minorUnitsQuotient).toFixed(2);\n      this.remainingAmount = (adyenGiftcardsConfiguration.totalPrice - this.giftcardDiscount).toFixed(2);\n      this.offCanvasCartSummaryBlock = $('.offcanvas-summary-list');\n      this.shoppingCartSummaryBlock = $('.checkout-aside-summary-list');\n      this.offCanvasSummaryDetails = null;\n      this.shoppingCartSummaryDetails = null;\n      this.giftcardComponentClose.on('click', function (event) {\n        $(event.currentTarget).hide();\n        this.selectedGiftcard = null;\n        this.giftcardHeader.html(' ');\n\n        if (this.paymentMethodInstance) {\n          this.paymentMethodInstance.unmount();\n        }\n      }.bind(this));\n      this.removeGiftcardButton.on('click', function (event) {\n        this.removeGiftcard();\n      }.bind(this));\n\n      if (parseInt(adyenGiftcardsConfiguration.giftcardDiscount)) {\n        this.onGiftcardSelected();\n      }\n    }\n  }, {\n    key: \"initializeCheckoutComponent\",\n    value: function () {\n      var _initializeCheckoutComponent = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n        var _adyenCheckoutConfigu, locale, clientKey, environment, ADYEN_CHECKOUT_CONFIG;\n\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _adyenCheckoutConfigu = adyenCheckoutConfiguration, locale = _adyenCheckoutConfigu.locale, clientKey = _adyenCheckoutConfigu.clientKey, environment = _adyenCheckoutConfigu.environment;\n                ADYEN_CHECKOUT_CONFIG = {\n                  locale: locale,\n                  clientKey: clientKey,\n                  environment: environment,\n                  amount: {\n                    currency: adyenGiftcardsConfiguration.currency,\n                    value: adyenGiftcardsConfiguration.totalInMinorUnits\n                  }\n                };\n                _context.next = 4;\n                return AdyenCheckout(ADYEN_CHECKOUT_CONFIG);\n\n              case 4:\n                this.adyenCheckout = _context.sent;\n\n              case 5:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function initializeCheckoutComponent() {\n        return _initializeCheckoutComponent.apply(this, arguments);\n      }\n\n      return initializeCheckoutComponent;\n    }()\n  }, {\n    key: \"observeGiftcardSelection\",\n    value: function observeGiftcardSelection() {\n      $('.adyen-giftcard').on('click', function (event) {\n        this.selectedGiftcard = JSON.parse(event.currentTarget.dataset.giftcard);\n        this.mountGiftcardComponent(this.selectedGiftcard.extensions.adyenGiftcardData[0]);\n      }.bind(this));\n    }\n  }, {\n    key: \"mountGiftcardComponent\",\n    value: function mountGiftcardComponent(giftcard) {\n      if (this.giftcardDiscount > 0) {\n        return;\n      }\n\n      if (this.paymentMethodInstance) {\n        this.paymentMethodInstance.unmount();\n      }\n\n      src_utility_loading_indicator_element_loading_indicator_util__WEBPACK_IMPORTED_MODULE_3__[\"default\"].create(src_helper_dom_access_helper__WEBPACK_IMPORTED_MODULE_1__[\"default\"].querySelector(document, '#adyen-giftcard-component'));\n      this.giftcardHeader.html(giftcard.name);\n      this.giftcardComponentClose.show();\n\n      var giftcardConfiguration = _extends({}, giftcard, {\n        showPayButton: true,\n        onBalanceCheck: this.handleBalanceCheck.bind(this),\n        onSubmit: this.onGiftcardSubmit.bind(this)\n      });\n\n      try {\n        this.paymentMethodInstance = this.adyenCheckout.create('giftcard', giftcardConfiguration);\n        this.paymentMethodInstance.mount('#adyen-giftcard-component');\n      } catch (e) {\n        console.log('giftcard not available');\n      }\n\n      src_utility_loading_indicator_element_loading_indicator_util__WEBPACK_IMPORTED_MODULE_3__[\"default\"].remove(src_helper_dom_access_helper__WEBPACK_IMPORTED_MODULE_1__[\"default\"].querySelector(document, '#adyen-giftcard-component'));\n    }\n  }, {\n    key: \"handleBalanceCheck\",\n    value: function handleBalanceCheck(resolve, reject, data) {\n      this._client.post(\"\".concat(adyenGiftcardsConfiguration.checkBalanceUrl), JSON.stringify({\n        paymentMethod: data.paymentMethod\n      }), function (response) {\n        response = JSON.parse(response);\n\n        if ('Success' !== response.resultCode) {\n          console.error(response.resultCode);\n          reject(response.resultCode);\n        } else {\n          // 0. compare balance to total amount to be paid\n          var balance = parseFloat(response.balance.value);\n\n          if (balance >= adyenGiftcardsConfiguration.totalInMinorUnits) {\n            // Render pay button for giftcard\n            resolve(response);\n          } else {\n            this.remainingAmount = ((adyenGiftcardsConfiguration.totalInMinorUnits - balance) / this.minorUnitsQuotient).toFixed(2);\n            resolve(response);\n            this.saveGiftcardStateData(data, balance.toString());\n          }\n        }\n      }.bind(this));\n    }\n  }, {\n    key: \"onGiftcardSubmit\",\n    value: function onGiftcardSubmit(state) {\n      src_utility_loading_indicator_element_loading_indicator_util__WEBPACK_IMPORTED_MODULE_3__[\"default\"].create(document.body);\n\n      if (state.isValid) {\n        this.setGiftcardAsPaymentMethod(state.data);\n      }\n    }\n  }, {\n    key: \"saveGiftcardStateData\",\n    value: function saveGiftcardStateData(stateData, amountInMinorUnits) {\n      // save state data to database, set giftcard as payment method and proceed to checkout\n      this._client.post(adyenGiftcardsConfiguration.setGiftcardUrl, JSON.stringify({\n        stateData: stateData,\n        amount: amountInMinorUnits\n      }), function (response) {\n        if (JSON.parse(response).length === 0) {\n          this.giftcardDiscount = (amountInMinorUnits / this.minorUnitsQuotient).toFixed(2);\n          this.remainingAmount = (adyenGiftcardsConfiguration.totalPrice - this.giftcardDiscount).toFixed(2);\n          this.onGiftcardSelected();\n          src_utility_loading_indicator_element_loading_indicator_util__WEBPACK_IMPORTED_MODULE_3__[\"default\"].remove(document.body);\n        }\n      }.bind(this));\n    }\n  }, {\n    key: \"setGiftcardAsPaymentMethod\",\n    value: function setGiftcardAsPaymentMethod(stateData) {\n      this._client.patch(adyenGiftcardsConfiguration.switchContextUrl, JSON.stringify({\n        paymentMethodId: this.selectedGiftcard.id\n      }), function (response) {\n        this.saveGiftcardStateData(stateData, adyenGiftcardsConfiguration.totalInMinorUnits);\n      }.bind(this));\n    }\n  }, {\n    key: \"removeGiftcard\",\n    value: function removeGiftcard() {\n      src_utility_loading_indicator_element_loading_indicator_util__WEBPACK_IMPORTED_MODULE_3__[\"default\"].create(document.body);\n\n      this._client.post(adyenGiftcardsConfiguration.removeGiftcardUrl, new FormData(), function (response) {\n        if (JSON.parse(response).length === 0) {\n          this.giftcardDiscount = 0;\n          this.remainingAmount = (adyenGiftcardsConfiguration.totalPrice - this.giftcardDiscount).toFixed(2);\n\n          if (this.offCanvasCartSummaryBlock.length) {\n            this.offCanvasCartSummaryBlock.children('.adyen-giftcard-summary').remove();\n          }\n\n          if (this.shoppingCartSummaryBlock.length) {\n            this.shoppingCartSummaryBlock.children('.adyen-giftcard-summary').remove();\n          }\n\n          this.removeGiftcardButton.hide(); // Show giftcards\n\n          $('.adyen-giftcard').show();\n          src_utility_loading_indicator_element_loading_indicator_util__WEBPACK_IMPORTED_MODULE_3__[\"default\"].remove(document.body);\n        }\n      }.bind(this));\n    }\n  }, {\n    key: \"appendGiftcardSummary\",\n    value: function appendGiftcardSummary() {\n      if (this.offCanvasCartSummaryBlock.length) {\n        this.offCanvasSummaryDetails = $('<dt class=\"col-7 summary-label summary-total adyen-giftcard-summary\">Giftcard discount</dt>' + '<dd class=\"col-5 summary-value summary-total adyen-giftcard-summary\">' + adyenGiftcardsConfiguration.currencySymbol + this.giftcardDiscount + '</dd>' + '<dt class=\"col-7 summary-label summary-total adyen-giftcard-summary\">Remaining amount</dt>' + '<dd class=\"col-5 summary-value summary-total adyen-giftcard-summary\">' + adyenGiftcardsConfiguration.currencySymbol + this.remainingAmount + '</dd>');\n        this.offCanvasSummaryDetails.appendTo(this.offCanvasCartSummaryBlock[0]);\n      }\n\n      if (this.shoppingCartSummaryBlock.length) {\n        this.shoppingCartSummaryDetails = $('<dt class=\"col-7 checkout-aside-summary-label checkout-aside-summary-total adyen-giftcard-summary\">Giftcard discount</dt>' + '<dd class=\"col-5 checkout-aside-summary-value checkout-aside-summary-total adyen-giftcard-summary\">' + adyenGiftcardsConfiguration.currencySymbol + this.giftcardDiscount + '</dd>' + '<dt class=\"col-7 checkout-aside-summary-label checkout-aside-summary-total adyen-giftcard-summary\">Remaining amount</dt>' + '<dd class=\"col-5 checkout-aside-summary-value checkout-aside-summary-total adyen-giftcard-summary\">' + adyenGiftcardsConfiguration.currencySymbol + this.remainingAmount + '</dd>');\n        this.shoppingCartSummaryDetails.appendTo(this.shoppingCartSummaryBlock[0]);\n      }\n    }\n  }, {\n    key: \"onGiftcardSelected\",\n    value: function onGiftcardSelected() {\n      // Remove component\n      if (this.paymentMethodInstance) {\n        this.paymentMethodInstance.unmount();\n      }\n\n      this.giftcardComponentClose.hide(); // Hide giftcards\n\n      $('.adyen-giftcard').hide();\n      this.giftcardHeader.html(' ');\n      this.appendGiftcardSummary(); // Show Remove button\n\n      this.removeGiftcardButton.show();\n    }\n  }]);\n\n  return CartPlugin;\n}(src_plugin_system_plugin_class__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ../node_modules/jquery/dist/jquery.slim.js */ \"UoTJ\")))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibjllYi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8vdmFyL3d3dy9odG1sL3ZlbmRvci9hZHllbi9hZHllbi1zaG9wd2FyZTYvc3JjL1Jlc291cmNlcy9hcHAvc3RvcmVmcm9udC9zcmMvY2FydC9jYXJ0LnBsdWdpbi5qcz8wOTRmIl0sInNvdXJjZXNDb250ZW50IjpbIi8qXG4gKiAgICAgICAgICAgICAgICAgICAgICAgIyMjIyMjXG4gKiAgICAgICAgICAgICAgICAgICAgICAgIyMjIyMjXG4gKiAjIyMjIyMjIyMjIyMgICAgIyMjIyggIyMjIyMjICAjIyMjIy4gIyMjIyMjICAjIyMjIyMjIyMjIyMgICAjIyMjIyMjIyMjIyNcbiAqICMjIyMjIyMjIyMjIyMgICMjIyMjKCAjIyMjIyMgICMjIyMjLiAjIyMjIyMgICMjIyMjIyMjIyMjIyMgICMjIyMjIyMjIyMjIyNcbiAqICAgICAgICAjIyMjIyMgICMjIyMjKCAjIyMjIyMgICMjIyMjLiAjIyMjIyMgICMjIyMjICAjIyMjIyMgICMjIyMjICAjIyMjIyNcbiAqICMjIyMjIyAjIyMjIyMgICMjIyMjKCAjIyMjIyMgICMjIyMjLiAjIyMjIyMgICMjIyMjICAjIyMjIyAgICMjIyMjICAjIyMjIyNcbiAqICMjIyMjIyAjIyMjIyMgICMjIyMjKCAjIyMjIyMgICMjIyMjLiAjIyMjIyMgICMjIyMjICAgICAgICAgICMjIyMjICAjIyMjIyNcbiAqICMjIyMjIyMjIyMjIyMgICMjIyMjIyMjIyMjIyMgICMjIyMjIyMjIyMjIyMgICMjIyMjIyMjIyMjIyMgICMjIyMjICAjIyMjIyNcbiAqICAjIyMjIyMjIyMjIyMgICAjIyMjIyMjIyMjIyMgICMjIyMjIyMjIyMjIyMgICAjIyMjIyMjIyMjIyMgICMjIyMjICAjIyMjIyNcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAjIyMjIyNcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICMjIyMjIyMjIyMjIyNcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICMjIyMjIyMjIyMjI1xuICpcbiAqIEFkeWVuIFBheW1lbnQgTW9kdWxlXG4gKlxuICogQ29weXJpZ2h0IChjKSAyMDIyIEFkeWVuIE4uVi5cbiAqIFRoaXMgZmlsZSBpcyBvcGVuIHNvdXJjZSBhbmQgYXZhaWxhYmxlIHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cbiAqIFNlZSB0aGUgTElDRU5TRSBmaWxlIGZvciBtb3JlIGluZm8uXG4gKlxuICovXG5cbmltcG9ydCBQbHVnaW4gZnJvbSAnc3JjL3BsdWdpbi1zeXN0ZW0vcGx1Z2luLmNsYXNzJztcbmltcG9ydCBEb21BY2Nlc3MgZnJvbSAnc3JjL2hlbHBlci9kb20tYWNjZXNzLmhlbHBlcic7XG5pbXBvcnQgU3RvcmVBcGlDbGllbnQgZnJvbSAnc3JjL3NlcnZpY2Uvc3RvcmUtYXBpLWNsaWVudC5zZXJ2aWNlJztcbmltcG9ydCBFbGVtZW50TG9hZGluZ0luZGljYXRvclV0aWwgZnJvbSAnc3JjL3V0aWxpdHkvbG9hZGluZy1pbmRpY2F0b3IvZWxlbWVudC1sb2FkaW5nLWluZGljYXRvci51dGlsJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FydFBsdWdpbiBleHRlbmRzIFBsdWdpbiB7XG4gICAgaW5pdCgpIHtcbiAgICAgICAgdGhpcy5fY2xpZW50ID0gbmV3IFN0b3JlQXBpQ2xpZW50KCk7XG4gICAgICAgIHRoaXMuYWR5ZW5DaGVja291dCA9IFByb21pc2U7XG4gICAgICAgIHRoaXMucGF5bWVudE1ldGhvZEluc3RhbmNlID0gbnVsbDtcbiAgICAgICAgdGhpcy5zZWxlY3RlZEdpZnRjYXJkID0gbnVsbDtcbiAgICAgICAgdGhpcy5pbml0aWFsaXplQ2hlY2tvdXRDb21wb25lbnQoKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRoaXMub2JzZXJ2ZUdpZnRjYXJkU2VsZWN0aW9uKCk7XG4gICAgICAgIH0uYmluZCh0aGlzKSk7XG4gICAgICAgIHRoaXMuZ2lmdGNhcmRIZWFkZXIgPSAkKCcuYWR5ZW4tZ2lmdGNhcmQtaGVhZGVyJyk7XG4gICAgICAgIHRoaXMuZ2lmdGNhcmRDb21wb25lbnRDbG9zZSA9ICQoJy5hZHllbi1jbG9zZS1naWZ0Y2FyZC1jb21wb25lbnQnKTtcbiAgICAgICAgdGhpcy5yZW1vdmVHaWZ0Y2FyZEJ1dHRvbiA9ICQoJy5hZHllbi1yZW1vdmUtZ2lmdGNhcmQnKTtcbiAgICAgICAgdGhpcy5taW5vclVuaXRzUXVvdGllbnQgPSBhZHllbkdpZnRjYXJkc0NvbmZpZ3VyYXRpb24udG90YWxJbk1pbm9yVW5pdHMvYWR5ZW5HaWZ0Y2FyZHNDb25maWd1cmF0aW9uLnRvdGFsUHJpY2U7XG4gICAgICAgIHRoaXMuZ2lmdGNhcmREaXNjb3VudCA9IChhZHllbkdpZnRjYXJkc0NvbmZpZ3VyYXRpb24uZ2lmdGNhcmREaXNjb3VudCAvIHRoaXMubWlub3JVbml0c1F1b3RpZW50KS50b0ZpeGVkKDIpO1xuICAgICAgICB0aGlzLnJlbWFpbmluZ0Ftb3VudCA9IChhZHllbkdpZnRjYXJkc0NvbmZpZ3VyYXRpb24udG90YWxQcmljZSAtIHRoaXMuZ2lmdGNhcmREaXNjb3VudCkudG9GaXhlZCgyKTtcbiAgICAgICAgdGhpcy5vZmZDYW52YXNDYXJ0U3VtbWFyeUJsb2NrID0gJCgnLm9mZmNhbnZhcy1zdW1tYXJ5LWxpc3QnKTtcbiAgICAgICAgdGhpcy5zaG9wcGluZ0NhcnRTdW1tYXJ5QmxvY2sgPSAkKCcuY2hlY2tvdXQtYXNpZGUtc3VtbWFyeS1saXN0Jyk7XG4gICAgICAgIHRoaXMub2ZmQ2FudmFzU3VtbWFyeURldGFpbHMgPSBudWxsO1xuICAgICAgICB0aGlzLnNob3BwaW5nQ2FydFN1bW1hcnlEZXRhaWxzID0gbnVsbDtcblxuICAgICAgICB0aGlzLmdpZnRjYXJkQ29tcG9uZW50Q2xvc2Uub24oJ2NsaWNrJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICAkKGV2ZW50LmN1cnJlbnRUYXJnZXQpLmhpZGUoKTtcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRHaWZ0Y2FyZCA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLmdpZnRjYXJkSGVhZGVyLmh0bWwoJyAnKTtcbiAgICAgICAgICAgIGlmICh0aGlzLnBheW1lbnRNZXRob2RJbnN0YW5jZSkge1xuICAgICAgICAgICAgICAgIHRoaXMucGF5bWVudE1ldGhvZEluc3RhbmNlLnVubW91bnQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfS5iaW5kKHRoaXMpKTtcbiAgICAgICAgdGhpcy5yZW1vdmVHaWZ0Y2FyZEJ1dHRvbi5vbignY2xpY2snLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlR2lmdGNhcmQoKTtcbiAgICAgICAgfS5iaW5kKHRoaXMpKTtcblxuICAgICAgICBpZiAocGFyc2VJbnQoYWR5ZW5HaWZ0Y2FyZHNDb25maWd1cmF0aW9uLmdpZnRjYXJkRGlzY291bnQpKSB7XG4gICAgICAgICAgICB0aGlzLm9uR2lmdGNhcmRTZWxlY3RlZCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYXN5bmMgaW5pdGlhbGl6ZUNoZWNrb3V0Q29tcG9uZW50KCkge1xuICAgICAgICBjb25zdCB7IGxvY2FsZSwgY2xpZW50S2V5LCBlbnZpcm9ubWVudCB9ID0gYWR5ZW5DaGVja291dENvbmZpZ3VyYXRpb247XG5cbiAgICAgICAgY29uc3QgQURZRU5fQ0hFQ0tPVVRfQ09ORklHID0ge1xuICAgICAgICAgICAgbG9jYWxlLFxuICAgICAgICAgICAgY2xpZW50S2V5LFxuICAgICAgICAgICAgZW52aXJvbm1lbnQsXG4gICAgICAgICAgICBhbW91bnQ6IHtcbiAgICAgICAgICAgICAgICBjdXJyZW5jeTogYWR5ZW5HaWZ0Y2FyZHNDb25maWd1cmF0aW9uLmN1cnJlbmN5LFxuICAgICAgICAgICAgICAgIHZhbHVlOiBhZHllbkdpZnRjYXJkc0NvbmZpZ3VyYXRpb24udG90YWxJbk1pbm9yVW5pdHMsXG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy5hZHllbkNoZWNrb3V0ID0gYXdhaXQgQWR5ZW5DaGVja291dChBRFlFTl9DSEVDS09VVF9DT05GSUcpO1xuICAgIH1cblxuICAgIG9ic2VydmVHaWZ0Y2FyZFNlbGVjdGlvbigpIHtcbiAgICAgICAgJCgnLmFkeWVuLWdpZnRjYXJkJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkR2lmdGNhcmQgPSBKU09OLnBhcnNlKGV2ZW50LmN1cnJlbnRUYXJnZXQuZGF0YXNldC5naWZ0Y2FyZCk7XG4gICAgICAgICAgICB0aGlzLm1vdW50R2lmdGNhcmRDb21wb25lbnQodGhpcy5zZWxlY3RlZEdpZnRjYXJkLmV4dGVuc2lvbnMuYWR5ZW5HaWZ0Y2FyZERhdGFbMF0pO1xuICAgICAgICB9LmJpbmQodGhpcykpO1xuICAgIH1cblxuICAgIG1vdW50R2lmdGNhcmRDb21wb25lbnQoZ2lmdGNhcmQpIHtcbiAgICAgICAgaWYgKHRoaXMuZ2lmdGNhcmREaXNjb3VudCA+IDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5wYXltZW50TWV0aG9kSW5zdGFuY2UpIHtcbiAgICAgICAgICAgIHRoaXMucGF5bWVudE1ldGhvZEluc3RhbmNlLnVubW91bnQoKTtcbiAgICAgICAgfVxuICAgICAgICBFbGVtZW50TG9hZGluZ0luZGljYXRvclV0aWwuY3JlYXRlKERvbUFjY2Vzcy5xdWVyeVNlbGVjdG9yKGRvY3VtZW50LCAnI2FkeWVuLWdpZnRjYXJkLWNvbXBvbmVudCcpKTtcbiAgICAgICAgdGhpcy5naWZ0Y2FyZEhlYWRlci5odG1sKGdpZnRjYXJkLm5hbWUpO1xuICAgICAgICB0aGlzLmdpZnRjYXJkQ29tcG9uZW50Q2xvc2Uuc2hvdygpO1xuICAgICAgICBjb25zdCBnaWZ0Y2FyZENvbmZpZ3VyYXRpb24gPSBPYmplY3QuYXNzaWduKHt9LCBnaWZ0Y2FyZCwge1xuICAgICAgICAgICAgc2hvd1BheUJ1dHRvbjogdHJ1ZSxcbiAgICAgICAgICAgIG9uQmFsYW5jZUNoZWNrOiB0aGlzLmhhbmRsZUJhbGFuY2VDaGVjay5iaW5kKHRoaXMpLFxuICAgICAgICAgICAgb25TdWJtaXQ6IHRoaXMub25HaWZ0Y2FyZFN1Ym1pdC5iaW5kKHRoaXMpXG4gICAgICAgIH0pO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdGhpcy5wYXltZW50TWV0aG9kSW5zdGFuY2UgPSB0aGlzLmFkeWVuQ2hlY2tvdXQuY3JlYXRlKCdnaWZ0Y2FyZCcsIGdpZnRjYXJkQ29uZmlndXJhdGlvbik7XG4gICAgICAgICAgICB0aGlzLnBheW1lbnRNZXRob2RJbnN0YW5jZS5tb3VudCgnI2FkeWVuLWdpZnRjYXJkLWNvbXBvbmVudCcpO1xuXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdnaWZ0Y2FyZCBub3QgYXZhaWxhYmxlJyk7XG4gICAgICAgIH1cbiAgICAgICAgRWxlbWVudExvYWRpbmdJbmRpY2F0b3JVdGlsLnJlbW92ZShEb21BY2Nlc3MucXVlcnlTZWxlY3Rvcihkb2N1bWVudCwgJyNhZHllbi1naWZ0Y2FyZC1jb21wb25lbnQnKSk7XG4gICAgfVxuXG4gICAgaGFuZGxlQmFsYW5jZUNoZWNrKHJlc29sdmUsIHJlamVjdCwgZGF0YSkge1xuICAgICAgICB0aGlzLl9jbGllbnQucG9zdChcbiAgICAgICAgICAgIGAke2FkeWVuR2lmdGNhcmRzQ29uZmlndXJhdGlvbi5jaGVja0JhbGFuY2VVcmx9YCxcbiAgICAgICAgICAgIEpTT04uc3RyaW5naWZ5KHtwYXltZW50TWV0aG9kOiBkYXRhLnBheW1lbnRNZXRob2R9KSxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gSlNPTi5wYXJzZShyZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgaWYgKCdTdWNjZXNzJyAhPT0gcmVzcG9uc2UucmVzdWx0Q29kZSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKHJlc3BvbnNlLnJlc3VsdENvZGUpO1xuICAgICAgICAgICAgICAgICAgICByZWplY3QocmVzcG9uc2UucmVzdWx0Q29kZSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gMC4gY29tcGFyZSBiYWxhbmNlIHRvIHRvdGFsIGFtb3VudCB0byBiZSBwYWlkXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGJhbGFuY2UgPSBwYXJzZUZsb2F0KHJlc3BvbnNlLmJhbGFuY2UudmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoYmFsYW5jZSA+PSBhZHllbkdpZnRjYXJkc0NvbmZpZ3VyYXRpb24udG90YWxJbk1pbm9yVW5pdHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJlbmRlciBwYXkgYnV0dG9uIGZvciBnaWZ0Y2FyZFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShyZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbWFpbmluZ0Ftb3VudCA9ICgoYWR5ZW5HaWZ0Y2FyZHNDb25maWd1cmF0aW9uLnRvdGFsSW5NaW5vclVuaXRzIC0gYmFsYW5jZSkgLyB0aGlzLm1pbm9yVW5pdHNRdW90aWVudCkudG9GaXhlZCgyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUocmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zYXZlR2lmdGNhcmRTdGF0ZURhdGEoZGF0YSwgYmFsYW5jZS50b1N0cmluZygpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0uYmluZCh0aGlzKVxuICAgICAgICApO1xuICAgIH1cblxuICAgIG9uR2lmdGNhcmRTdWJtaXQoc3RhdGUpIHtcbiAgICAgICAgRWxlbWVudExvYWRpbmdJbmRpY2F0b3JVdGlsLmNyZWF0ZShkb2N1bWVudC5ib2R5KTtcbiAgICAgICAgaWYgKHN0YXRlLmlzVmFsaWQpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0R2lmdGNhcmRBc1BheW1lbnRNZXRob2Qoc3RhdGUuZGF0YSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzYXZlR2lmdGNhcmRTdGF0ZURhdGEoc3RhdGVEYXRhLCBhbW91bnRJbk1pbm9yVW5pdHMpIHtcbiAgICAgICAgLy8gc2F2ZSBzdGF0ZSBkYXRhIHRvIGRhdGFiYXNlLCBzZXQgZ2lmdGNhcmQgYXMgcGF5bWVudCBtZXRob2QgYW5kIHByb2NlZWQgdG8gY2hlY2tvdXRcbiAgICAgICAgdGhpcy5fY2xpZW50LnBvc3QoYWR5ZW5HaWZ0Y2FyZHNDb25maWd1cmF0aW9uLnNldEdpZnRjYXJkVXJsLCBKU09OLnN0cmluZ2lmeSh7IHN0YXRlRGF0YSwgYW1vdW50OiBhbW91bnRJbk1pbm9yVW5pdHMgfSksIGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgaWYgKEpTT04ucGFyc2UocmVzcG9uc2UpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuZ2lmdGNhcmREaXNjb3VudCA9IChhbW91bnRJbk1pbm9yVW5pdHMgLyB0aGlzLm1pbm9yVW5pdHNRdW90aWVudCkudG9GaXhlZCgyKTtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbWFpbmluZ0Ftb3VudCA9IChhZHllbkdpZnRjYXJkc0NvbmZpZ3VyYXRpb24udG90YWxQcmljZSAtIHRoaXMuZ2lmdGNhcmREaXNjb3VudCkudG9GaXhlZCgyKTtcbiAgICAgICAgICAgICAgICB0aGlzLm9uR2lmdGNhcmRTZWxlY3RlZCgpO1xuICAgICAgICAgICAgICAgIEVsZW1lbnRMb2FkaW5nSW5kaWNhdG9yVXRpbC5yZW1vdmUoZG9jdW1lbnQuYm9keSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0uYmluZCh0aGlzKSk7XG4gICAgfVxuXG4gICAgc2V0R2lmdGNhcmRBc1BheW1lbnRNZXRob2Qoc3RhdGVEYXRhKSB7XG4gICAgICAgIHRoaXMuX2NsaWVudC5wYXRjaChhZHllbkdpZnRjYXJkc0NvbmZpZ3VyYXRpb24uc3dpdGNoQ29udGV4dFVybCwgSlNPTi5zdHJpbmdpZnkoe3BheW1lbnRNZXRob2RJZDogdGhpcy5zZWxlY3RlZEdpZnRjYXJkLmlkfSksIGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgdGhpcy5zYXZlR2lmdGNhcmRTdGF0ZURhdGEoc3RhdGVEYXRhLCBhZHllbkdpZnRjYXJkc0NvbmZpZ3VyYXRpb24udG90YWxJbk1pbm9yVW5pdHMpXG4gICAgICAgIH0uYmluZCh0aGlzKSk7XG4gICAgfVxuXG4gICAgcmVtb3ZlR2lmdGNhcmQoKSB7XG4gICAgICAgIEVsZW1lbnRMb2FkaW5nSW5kaWNhdG9yVXRpbC5jcmVhdGUoZG9jdW1lbnQuYm9keSk7XG4gICAgICAgIHRoaXMuX2NsaWVudC5wb3N0KGFkeWVuR2lmdGNhcmRzQ29uZmlndXJhdGlvbi5yZW1vdmVHaWZ0Y2FyZFVybCwgbmV3IEZvcm1EYXRhLCBmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICAgICAgaWYgKEpTT04ucGFyc2UocmVzcG9uc2UpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuZ2lmdGNhcmREaXNjb3VudCA9IDA7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW1haW5pbmdBbW91bnQgPSAoYWR5ZW5HaWZ0Y2FyZHNDb25maWd1cmF0aW9uLnRvdGFsUHJpY2UgLSB0aGlzLmdpZnRjYXJkRGlzY291bnQpLnRvRml4ZWQoMik7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMub2ZmQ2FudmFzQ2FydFN1bW1hcnlCbG9jay5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vZmZDYW52YXNDYXJ0U3VtbWFyeUJsb2NrLmNoaWxkcmVuKCcuYWR5ZW4tZ2lmdGNhcmQtc3VtbWFyeScpLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zaG9wcGluZ0NhcnRTdW1tYXJ5QmxvY2subGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2hvcHBpbmdDYXJ0U3VtbWFyeUJsb2NrLmNoaWxkcmVuKCcuYWR5ZW4tZ2lmdGNhcmQtc3VtbWFyeScpLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZUdpZnRjYXJkQnV0dG9uLmhpZGUoKTtcbiAgICAgICAgICAgICAgICAvLyBTaG93IGdpZnRjYXJkc1xuICAgICAgICAgICAgICAgICQoJy5hZHllbi1naWZ0Y2FyZCcpLnNob3coKTtcbiAgICAgICAgICAgICAgICBFbGVtZW50TG9hZGluZ0luZGljYXRvclV0aWwucmVtb3ZlKGRvY3VtZW50LmJvZHkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LmJpbmQodGhpcykpO1xuICAgIH1cblxuICAgIGFwcGVuZEdpZnRjYXJkU3VtbWFyeSgpIHtcbiAgICAgICAgaWYgKHRoaXMub2ZmQ2FudmFzQ2FydFN1bW1hcnlCbG9jay5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRoaXMub2ZmQ2FudmFzU3VtbWFyeURldGFpbHMgPSAkKCc8ZHQgY2xhc3M9XCJjb2wtNyBzdW1tYXJ5LWxhYmVsIHN1bW1hcnktdG90YWwgYWR5ZW4tZ2lmdGNhcmQtc3VtbWFyeVwiPkdpZnRjYXJkIGRpc2NvdW50PC9kdD4nICtcbiAgICAgICAgICAgICAgICAnPGRkIGNsYXNzPVwiY29sLTUgc3VtbWFyeS12YWx1ZSBzdW1tYXJ5LXRvdGFsIGFkeWVuLWdpZnRjYXJkLXN1bW1hcnlcIj4nICsgYWR5ZW5HaWZ0Y2FyZHNDb25maWd1cmF0aW9uLmN1cnJlbmN5U3ltYm9sICsgdGhpcy5naWZ0Y2FyZERpc2NvdW50ICsgJzwvZGQ+JyArXG4gICAgICAgICAgICAgICAgJzxkdCBjbGFzcz1cImNvbC03IHN1bW1hcnktbGFiZWwgc3VtbWFyeS10b3RhbCBhZHllbi1naWZ0Y2FyZC1zdW1tYXJ5XCI+UmVtYWluaW5nIGFtb3VudDwvZHQ+JyArXG4gICAgICAgICAgICAgICAgJzxkZCBjbGFzcz1cImNvbC01IHN1bW1hcnktdmFsdWUgc3VtbWFyeS10b3RhbCBhZHllbi1naWZ0Y2FyZC1zdW1tYXJ5XCI+JyArIGFkeWVuR2lmdGNhcmRzQ29uZmlndXJhdGlvbi5jdXJyZW5jeVN5bWJvbCArIHRoaXMucmVtYWluaW5nQW1vdW50ICsgJzwvZGQ+Jyk7XG4gICAgICAgICAgICB0aGlzLm9mZkNhbnZhc1N1bW1hcnlEZXRhaWxzLmFwcGVuZFRvKHRoaXMub2ZmQ2FudmFzQ2FydFN1bW1hcnlCbG9ja1swXSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYodGhpcy5zaG9wcGluZ0NhcnRTdW1tYXJ5QmxvY2subGVuZ3RoKSB7XG4gICAgICAgICAgICB0aGlzLnNob3BwaW5nQ2FydFN1bW1hcnlEZXRhaWxzID0gJCgnPGR0IGNsYXNzPVwiY29sLTcgY2hlY2tvdXQtYXNpZGUtc3VtbWFyeS1sYWJlbCBjaGVja291dC1hc2lkZS1zdW1tYXJ5LXRvdGFsIGFkeWVuLWdpZnRjYXJkLXN1bW1hcnlcIj5HaWZ0Y2FyZCBkaXNjb3VudDwvZHQ+JyArXG4gICAgICAgICAgICAgICAgJzxkZCBjbGFzcz1cImNvbC01IGNoZWNrb3V0LWFzaWRlLXN1bW1hcnktdmFsdWUgY2hlY2tvdXQtYXNpZGUtc3VtbWFyeS10b3RhbCBhZHllbi1naWZ0Y2FyZC1zdW1tYXJ5XCI+JyArIGFkeWVuR2lmdGNhcmRzQ29uZmlndXJhdGlvbi5jdXJyZW5jeVN5bWJvbCArIHRoaXMuZ2lmdGNhcmREaXNjb3VudCArICc8L2RkPicgK1xuICAgICAgICAgICAgICAgICc8ZHQgY2xhc3M9XCJjb2wtNyBjaGVja291dC1hc2lkZS1zdW1tYXJ5LWxhYmVsIGNoZWNrb3V0LWFzaWRlLXN1bW1hcnktdG90YWwgYWR5ZW4tZ2lmdGNhcmQtc3VtbWFyeVwiPlJlbWFpbmluZyBhbW91bnQ8L2R0PicgK1xuICAgICAgICAgICAgICAgICc8ZGQgY2xhc3M9XCJjb2wtNSBjaGVja291dC1hc2lkZS1zdW1tYXJ5LXZhbHVlIGNoZWNrb3V0LWFzaWRlLXN1bW1hcnktdG90YWwgYWR5ZW4tZ2lmdGNhcmQtc3VtbWFyeVwiPicgKyBhZHllbkdpZnRjYXJkc0NvbmZpZ3VyYXRpb24uY3VycmVuY3lTeW1ib2wgKyB0aGlzLnJlbWFpbmluZ0Ftb3VudCArICc8L2RkPicpO1xuICAgICAgICAgICAgdGhpcy5zaG9wcGluZ0NhcnRTdW1tYXJ5RGV0YWlscy5hcHBlbmRUbyh0aGlzLnNob3BwaW5nQ2FydFN1bW1hcnlCbG9ja1swXSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBvbkdpZnRjYXJkU2VsZWN0ZWQoKSB7XG4gICAgICAgIC8vIFJlbW92ZSBjb21wb25lbnRcbiAgICAgICAgaWYgKHRoaXMucGF5bWVudE1ldGhvZEluc3RhbmNlKSB7XG4gICAgICAgICAgICB0aGlzLnBheW1lbnRNZXRob2RJbnN0YW5jZS51bm1vdW50KCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5naWZ0Y2FyZENvbXBvbmVudENsb3NlLmhpZGUoKTtcbiAgICAgICAgLy8gSGlkZSBnaWZ0Y2FyZHNcbiAgICAgICAgJCgnLmFkeWVuLWdpZnRjYXJkJykuaGlkZSgpO1xuICAgICAgICB0aGlzLmdpZnRjYXJkSGVhZGVyLmh0bWwoJyAnKTtcblxuICAgICAgICB0aGlzLmFwcGVuZEdpZnRjYXJkU3VtbWFyeSgpO1xuICAgICAgICAvLyBTaG93IFJlbW92ZSBidXR0b25cbiAgICAgICAgdGhpcy5yZW1vdmVHaWZ0Y2FyZEJ1dHRvbi5zaG93KCk7XG4gICAgfVxufVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7QUFHQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFKQTs7QUFVQTtBQUNBOztBQURBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTs7O0FBRUE7QUFDQTtBQUVBO0FBQUE7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7Ozs7QUF6TEE7QUFDQTs7QSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///n9eb\n");

/***/ })

},[["TVZM","runtime","vendor-node","vendor-shared"]]]);