(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["adyen-payment-shopware6"],{

/***/ "CQEO":
/*!*****************************************************************************************************************!*\
  !*** /var/www/html/vendor/adyen/adyen-shopware6/src/Resources/app/storefront/src/finish/adyen-giving.plugin.js ***!
  \*****************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return AdyenGivingPlugin; });\n/* harmony import */ var src_plugin_system_plugin_class__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! src/plugin-system/plugin.class */ \"FGIj\");\n/* harmony import */ var src_helper_dom_access_helper__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! src/helper/dom-access.helper */ \"gHbT\");\n/* harmony import */ var src_service_store_api_client_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/service/store-api-client.service */ \"p4AR\");\n/* harmony import */ var src_utility_loading_indicator_element_loading_indicator_util__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/utility/loading-indicator/element-loading-indicator.util */ \"u0Tz\");\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\n/*\n *                       ######\n *                       ######\n * ############    ####( ######  #####. ######  ############   ############\n * #############  #####( ######  #####. ######  #############  #############\n *        ######  #####( ######  #####. ######  #####  ######  #####  ######\n * ###### ######  #####( ######  #####. ######  #####  #####   #####  ######\n * ###### ######  #####( ######  #####. ######  #####          #####  ######\n * #############  #############  #############  #############  #####  ######\n *  ############   ############  #############   ############  #####  ######\n *                                      ######\n *                               #############\n *                               ############\n *\n * Adyen Payment Module\n *\n * Copyright (c) 2022 Adyen N.V.\n * This file is open source and available under the MIT license.\n * See the LICENSE file for more info.\n *\n */\n\n\n\n\n\nvar AdyenGivingPlugin = /*#__PURE__*/function (_Plugin) {\n  _inherits(AdyenGivingPlugin, _Plugin);\n\n  function AdyenGivingPlugin() {\n    _classCallCheck(this, AdyenGivingPlugin);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(AdyenGivingPlugin).apply(this, arguments));\n  }\n\n  _createClass(AdyenGivingPlugin, [{\n    key: \"init\",\n    value: function init() {\n      this._client = new src_service_store_api_client_service__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\n      this.adyenCheckout = Promise;\n      this.initializeCheckoutComponent().bind(this);\n    }\n  }, {\n    key: \"initializeCheckoutComponent\",\n    value: function () {\n      var _initializeCheckoutComponent = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n        var _adyenCheckoutConfigu, locale, clientKey, environment, _adyenGivingConfigura, currency, values, backgroundUrl, logoUrl, name, description, url, ADYEN_CHECKOUT_CONFIG, ADYEN_GIVING_CONFIG;\n\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _adyenCheckoutConfigu = adyenCheckoutConfiguration, locale = _adyenCheckoutConfigu.locale, clientKey = _adyenCheckoutConfigu.clientKey, environment = _adyenCheckoutConfigu.environment;\n                _adyenGivingConfigura = adyenGivingConfiguration, currency = _adyenGivingConfigura.currency, values = _adyenGivingConfigura.values, backgroundUrl = _adyenGivingConfigura.backgroundUrl, logoUrl = _adyenGivingConfigura.logoUrl, name = _adyenGivingConfigura.name, description = _adyenGivingConfigura.description, url = _adyenGivingConfigura.url;\n                ADYEN_CHECKOUT_CONFIG = {\n                  locale: locale,\n                  clientKey: clientKey,\n                  environment: environment\n                };\n                ADYEN_GIVING_CONFIG = {\n                  amounts: {\n                    currency: currency,\n                    values: values.split(\",\").map(function (element) {\n                      return Number(element);\n                    })\n                  },\n                  backgroundUrl: backgroundUrl,\n                  logoUrl: logoUrl,\n                  description: description,\n                  name: name,\n                  url: url,\n                  showCancelButton: true,\n                  onDonate: this.handleOnDonate.bind(this),\n                  onCancel: this.handleOnCancel.bind(this)\n                };\n                _context.next = 6;\n                return AdyenCheckout(ADYEN_CHECKOUT_CONFIG);\n\n              case 6:\n                this.adyenCheckout = _context.sent;\n                this.adyenCheckout.create('donation', ADYEN_GIVING_CONFIG).mount('#donation-container');\n\n              case 8:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function initializeCheckoutComponent() {\n        return _initializeCheckoutComponent.apply(this, arguments);\n      }\n\n      return initializeCheckoutComponent;\n    }()\n  }, {\n    key: \"handleOnDonate\",\n    value: function handleOnDonate(state, component) {\n      var orderId = adyenGivingConfiguration.orderId;\n\n      var payload = _objectSpread({}, state.data, {\n        orderId: orderId\n      });\n\n      payload.returnUrl = window.location.href;\n\n      this._client.post(\"\".concat(adyenGivingConfiguration.donationEndpointUrl), JSON.stringify({\n        payload: payload\n      }), function (paymentResponse) {\n        if (this._client._request.status !== 200) {\n          component.setStatus(\"error\");\n        } else {\n          component.setStatus(\"success\");\n        }\n      }.bind(this));\n    }\n  }, {\n    key: \"handleOnCancel\",\n    value: function handleOnCancel() {\n      var continueActionUrl = adyenGivingConfiguration.continueActionUrl;\n      window.location = continueActionUrl;\n    }\n  }]);\n\n  return AdyenGivingPlugin;\n}(src_plugin_system_plugin_class__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQ1FFTy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8vdmFyL3d3dy9odG1sL3ZlbmRvci9hZHllbi9hZHllbi1zaG9wd2FyZTYvc3JjL1Jlc291cmNlcy9hcHAvc3RvcmVmcm9udC9zcmMvZmluaXNoL2FkeWVuLWdpdmluZy5wbHVnaW4uanM/NmUzMCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuICogICAgICAgICAgICAgICAgICAgICAgICMjIyMjI1xuICogICAgICAgICAgICAgICAgICAgICAgICMjIyMjI1xuICogIyMjIyMjIyMjIyMjICAgICMjIyMoICMjIyMjIyAgIyMjIyMuICMjIyMjIyAgIyMjIyMjIyMjIyMjICAgIyMjIyMjIyMjIyMjXG4gKiAjIyMjIyMjIyMjIyMjICAjIyMjIyggIyMjIyMjICAjIyMjIy4gIyMjIyMjICAjIyMjIyMjIyMjIyMjICAjIyMjIyMjIyMjIyMjXG4gKiAgICAgICAgIyMjIyMjICAjIyMjIyggIyMjIyMjICAjIyMjIy4gIyMjIyMjICAjIyMjIyAgIyMjIyMjICAjIyMjIyAgIyMjIyMjXG4gKiAjIyMjIyMgIyMjIyMjICAjIyMjIyggIyMjIyMjICAjIyMjIy4gIyMjIyMjICAjIyMjIyAgIyMjIyMgICAjIyMjIyAgIyMjIyMjXG4gKiAjIyMjIyMgIyMjIyMjICAjIyMjIyggIyMjIyMjICAjIyMjIy4gIyMjIyMjICAjIyMjIyAgICAgICAgICAjIyMjIyAgIyMjIyMjXG4gKiAjIyMjIyMjIyMjIyMjICAjIyMjIyMjIyMjIyMjICAjIyMjIyMjIyMjIyMjICAjIyMjIyMjIyMjIyMjICAjIyMjIyAgIyMjIyMjXG4gKiAgIyMjIyMjIyMjIyMjICAgIyMjIyMjIyMjIyMjICAjIyMjIyMjIyMjIyMjICAgIyMjIyMjIyMjIyMjICAjIyMjIyAgIyMjIyMjXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIyMjIyMjXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAjIyMjIyMjIyMjIyMjXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAjIyMjIyMjIyMjIyNcbiAqXG4gKiBBZHllbiBQYXltZW50IE1vZHVsZVxuICpcbiAqIENvcHlyaWdodCAoYykgMjAyMiBBZHllbiBOLlYuXG4gKiBUaGlzIGZpbGUgaXMgb3BlbiBzb3VyY2UgYW5kIGF2YWlsYWJsZSB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXG4gKiBTZWUgdGhlIExJQ0VOU0UgZmlsZSBmb3IgbW9yZSBpbmZvLlxuICpcbiAqL1xuXG5pbXBvcnQgUGx1Z2luIGZyb20gJ3NyYy9wbHVnaW4tc3lzdGVtL3BsdWdpbi5jbGFzcyc7XG5pbXBvcnQgRG9tQWNjZXNzIGZyb20gJ3NyYy9oZWxwZXIvZG9tLWFjY2Vzcy5oZWxwZXInO1xuaW1wb3J0IFN0b3JlQXBpQ2xpZW50IGZyb20gJ3NyYy9zZXJ2aWNlL3N0b3JlLWFwaS1jbGllbnQuc2VydmljZSc7XG5pbXBvcnQgRWxlbWVudExvYWRpbmdJbmRpY2F0b3JVdGlsIGZyb20gJ3NyYy91dGlsaXR5L2xvYWRpbmctaW5kaWNhdG9yL2VsZW1lbnQtbG9hZGluZy1pbmRpY2F0b3IudXRpbCc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEFkeWVuR2l2aW5nUGx1Z2luIGV4dGVuZHMgUGx1Z2luIHtcbiAgICBpbml0KCkge1xuICAgICAgICB0aGlzLl9jbGllbnQgPSBuZXcgU3RvcmVBcGlDbGllbnQoKTtcbiAgICAgICAgdGhpcy5hZHllbkNoZWNrb3V0ID0gUHJvbWlzZTtcbiAgICAgICAgdGhpcy5pbml0aWFsaXplQ2hlY2tvdXRDb21wb25lbnQoKS5iaW5kKHRoaXMpO1xuICAgIH1cblxuICAgIGFzeW5jIGluaXRpYWxpemVDaGVja291dENvbXBvbmVudCAoKSB7XG4gICAgICAgIGNvbnN0IHsgbG9jYWxlLCBjbGllbnRLZXksIGVudmlyb25tZW50IH0gPSBhZHllbkNoZWNrb3V0Q29uZmlndXJhdGlvbjtcbiAgICAgICAgY29uc3QgeyBjdXJyZW5jeSwgdmFsdWVzLCBiYWNrZ3JvdW5kVXJsLFxuICAgICAgICAgICAgbG9nb1VybCwgbmFtZSwgZGVzY3JpcHRpb24sIHVybH0gPSBhZHllbkdpdmluZ0NvbmZpZ3VyYXRpb247XG5cbiAgICAgICAgY29uc3QgQURZRU5fQ0hFQ0tPVVRfQ09ORklHID0ge1xuICAgICAgICAgICAgbG9jYWxlLFxuICAgICAgICAgICAgY2xpZW50S2V5LFxuICAgICAgICAgICAgZW52aXJvbm1lbnRcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCBBRFlFTl9HSVZJTkdfQ09ORklHID0ge1xuICAgICAgICAgICAgYW1vdW50czoge1xuICAgICAgICAgICAgICAgIGN1cnJlbmN5OiBjdXJyZW5jeSxcbiAgICAgICAgICAgICAgICB2YWx1ZXM6IHZhbHVlcy5zcGxpdChcIixcIikubWFwKGVsZW1lbnQgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTnVtYmVyKGVsZW1lbnQpO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgYmFja2dyb3VuZFVybDogYmFja2dyb3VuZFVybCxcbiAgICAgICAgICAgIGxvZ29Vcmw6IGxvZ29VcmwsXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogZGVzY3JpcHRpb24sXG4gICAgICAgICAgICBuYW1lOiBuYW1lLFxuICAgICAgICAgICAgdXJsOiB1cmwsXG4gICAgICAgICAgICBzaG93Q2FuY2VsQnV0dG9uOiB0cnVlLFxuICAgICAgICAgICAgb25Eb25hdGU6IHRoaXMuaGFuZGxlT25Eb25hdGUuYmluZCh0aGlzKSxcbiAgICAgICAgICAgIG9uQ2FuY2VsOiB0aGlzLmhhbmRsZU9uQ2FuY2VsLmJpbmQodGhpcylcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuYWR5ZW5DaGVja291dCA9IGF3YWl0IEFkeWVuQ2hlY2tvdXQoQURZRU5fQ0hFQ0tPVVRfQ09ORklHKTtcbiAgICAgICAgdGhpcy5hZHllbkNoZWNrb3V0LmNyZWF0ZSgnZG9uYXRpb24nLCBBRFlFTl9HSVZJTkdfQ09ORklHKS5tb3VudCgnI2RvbmF0aW9uLWNvbnRhaW5lcicpO1xuICAgIH1cblxuICAgIGhhbmRsZU9uRG9uYXRlKHN0YXRlLCBjb21wb25lbnQpIHtcbiAgICAgICAgY29uc3Qgb3JkZXJJZCA9IGFkeWVuR2l2aW5nQ29uZmlndXJhdGlvbi5vcmRlcklkO1xuICAgICAgICBsZXQgcGF5bG9hZCA9IHsuLi5zdGF0ZS5kYXRhLCBvcmRlcklkfTtcbiAgICAgICAgcGF5bG9hZC5yZXR1cm5VcmwgPSB3aW5kb3cubG9jYXRpb24uaHJlZjtcblxuICAgICAgICB0aGlzLl9jbGllbnQucG9zdChcbiAgICAgICAgICAgIGAke2FkeWVuR2l2aW5nQ29uZmlndXJhdGlvbi5kb25hdGlvbkVuZHBvaW50VXJsfWAsXG4gICAgICAgICAgICBKU09OLnN0cmluZ2lmeSh7cGF5bG9hZDogcGF5bG9hZH0pLFxuICAgICAgICAgICAgZnVuY3Rpb24gKHBheW1lbnRSZXNwb25zZSkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9jbGllbnQuX3JlcXVlc3Quc3RhdHVzICE9PSAyMDApIHtcbiAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50LnNldFN0YXR1cyhcImVycm9yXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50LnNldFN0YXR1cyhcInN1Y2Nlc3NcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfS5iaW5kKHRoaXMpXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgaGFuZGxlT25DYW5jZWwoKSB7XG4gICAgICAgIGxldCBjb250aW51ZUFjdGlvblVybCA9IGFkeWVuR2l2aW5nQ29uZmlndXJhdGlvbi5jb250aW51ZUFjdGlvblVybDtcbiAgICAgICAgd2luZG93LmxvY2F0aW9uID0gY29udGludWVBY3Rpb25Vcmw7XG4gICAgfVxufVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7OztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7O0FBR0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFKQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFkQTs7QUFpQkE7QUFDQTs7QUFEQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7OztBQUVBO0FBQ0E7QUFDQTtBQUNBOzs7O0FBN0RBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///CQEO\n");

/***/ }),

/***/ "CbCH":
/*!*************************************************************************************************************************!*\
  !*** /var/www/html/vendor/adyen/adyen-shopware6/src/Resources/app/storefront/src/finish/adyen-success-action.plugin.js ***!
  \*************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return AdyenSuccessActionPlugin; });\n/* harmony import */ var src_plugin_system_plugin_class__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! src/plugin-system/plugin.class */ \"FGIj\");\n/* harmony import */ var src_helper_dom_access_helper__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! src/helper/dom-access.helper */ \"gHbT\");\n/* harmony import */ var src_service_store_api_client_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/service/store-api-client.service */ \"p4AR\");\n/* harmony import */ var src_utility_loading_indicator_element_loading_indicator_util__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/utility/loading-indicator/element-loading-indicator.util */ \"u0Tz\");\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\n/*\n *                       ######\n *                       ######\n * ############    ####( ######  #####. ######  ############   ############\n * #############  #####( ######  #####. ######  #############  #############\n *        ######  #####( ######  #####. ######  #####  ######  #####  ######\n * ###### ######  #####( ######  #####. ######  #####  #####   #####  ######\n * ###### ######  #####( ######  #####. ######  #####          #####  ######\n * #############  #############  #############  #############  #####  ######\n *  ############   ############  #############   ############  #####  ######\n *                                      ######\n *                               #############\n *                               ############\n *\n * Adyen Payment Module\n *\n * Copyright (c) 2022 Adyen N.V.\n * This file is open source and available under the MIT license.\n * See the LICENSE file for more info.\n *\n */\n\n\n\n\n\nvar AdyenSuccessActionPlugin = /*#__PURE__*/function (_Plugin) {\n  _inherits(AdyenSuccessActionPlugin, _Plugin);\n\n  function AdyenSuccessActionPlugin() {\n    _classCallCheck(this, AdyenSuccessActionPlugin);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(AdyenSuccessActionPlugin).apply(this, arguments));\n  }\n\n  _createClass(AdyenSuccessActionPlugin, [{\n    key: \"init\",\n    value: function init() {\n      this._client = new src_service_store_api_client_service__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\n      this.adyenCheckout = Promise;\n      this.initializeCheckoutComponent().bind(this);\n    }\n  }, {\n    key: \"initializeCheckoutComponent\",\n    value: function () {\n      var _initializeCheckoutComponent = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n        var _adyenCheckoutConfigu, locale, clientKey, environment, _adyenSuccessActionCo, action, ADYEN_CHECKOUT_CONFIG;\n\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _adyenCheckoutConfigu = adyenCheckoutConfiguration, locale = _adyenCheckoutConfigu.locale, clientKey = _adyenCheckoutConfigu.clientKey, environment = _adyenCheckoutConfigu.environment;\n                _adyenSuccessActionCo = adyenSuccessActionConfiguration, action = _adyenSuccessActionCo.action;\n                ADYEN_CHECKOUT_CONFIG = {\n                  locale: locale,\n                  clientKey: clientKey,\n                  environment: environment\n                };\n                _context.next = 5;\n                return AdyenCheckout(ADYEN_CHECKOUT_CONFIG);\n\n              case 5:\n                this.adyenCheckout = _context.sent;\n                this.adyenCheckout.createFromAction(JSON.parse(action)).mount('#success-action-container');\n\n              case 7:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function initializeCheckoutComponent() {\n        return _initializeCheckoutComponent.apply(this, arguments);\n      }\n\n      return initializeCheckoutComponent;\n    }()\n  }]);\n\n  return AdyenSuccessActionPlugin;\n}(src_plugin_system_plugin_class__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQ2JDSC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8vdmFyL3d3dy9odG1sL3ZlbmRvci9hZHllbi9hZHllbi1zaG9wd2FyZTYvc3JjL1Jlc291cmNlcy9hcHAvc3RvcmVmcm9udC9zcmMvZmluaXNoL2FkeWVuLXN1Y2Nlc3MtYWN0aW9uLnBsdWdpbi5qcz9jZDk2Il0sInNvdXJjZXNDb250ZW50IjpbIi8qXG4gKiAgICAgICAgICAgICAgICAgICAgICAgIyMjIyMjXG4gKiAgICAgICAgICAgICAgICAgICAgICAgIyMjIyMjXG4gKiAjIyMjIyMjIyMjIyMgICAgIyMjIyggIyMjIyMjICAjIyMjIy4gIyMjIyMjICAjIyMjIyMjIyMjIyMgICAjIyMjIyMjIyMjIyNcbiAqICMjIyMjIyMjIyMjIyMgICMjIyMjKCAjIyMjIyMgICMjIyMjLiAjIyMjIyMgICMjIyMjIyMjIyMjIyMgICMjIyMjIyMjIyMjIyNcbiAqICAgICAgICAjIyMjIyMgICMjIyMjKCAjIyMjIyMgICMjIyMjLiAjIyMjIyMgICMjIyMjICAjIyMjIyMgICMjIyMjICAjIyMjIyNcbiAqICMjIyMjIyAjIyMjIyMgICMjIyMjKCAjIyMjIyMgICMjIyMjLiAjIyMjIyMgICMjIyMjICAjIyMjIyAgICMjIyMjICAjIyMjIyNcbiAqICMjIyMjIyAjIyMjIyMgICMjIyMjKCAjIyMjIyMgICMjIyMjLiAjIyMjIyMgICMjIyMjICAgICAgICAgICMjIyMjICAjIyMjIyNcbiAqICMjIyMjIyMjIyMjIyMgICMjIyMjIyMjIyMjIyMgICMjIyMjIyMjIyMjIyMgICMjIyMjIyMjIyMjIyMgICMjIyMjICAjIyMjIyNcbiAqICAjIyMjIyMjIyMjIyMgICAjIyMjIyMjIyMjIyMgICMjIyMjIyMjIyMjIyMgICAjIyMjIyMjIyMjIyMgICMjIyMjICAjIyMjIyNcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAjIyMjIyNcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICMjIyMjIyMjIyMjIyNcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICMjIyMjIyMjIyMjI1xuICpcbiAqIEFkeWVuIFBheW1lbnQgTW9kdWxlXG4gKlxuICogQ29weXJpZ2h0IChjKSAyMDIyIEFkeWVuIE4uVi5cbiAqIFRoaXMgZmlsZSBpcyBvcGVuIHNvdXJjZSBhbmQgYXZhaWxhYmxlIHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cbiAqIFNlZSB0aGUgTElDRU5TRSBmaWxlIGZvciBtb3JlIGluZm8uXG4gKlxuICovXG5cbmltcG9ydCBQbHVnaW4gZnJvbSAnc3JjL3BsdWdpbi1zeXN0ZW0vcGx1Z2luLmNsYXNzJztcbmltcG9ydCBEb21BY2Nlc3MgZnJvbSAnc3JjL2hlbHBlci9kb20tYWNjZXNzLmhlbHBlcic7XG5pbXBvcnQgU3RvcmVBcGlDbGllbnQgZnJvbSAnc3JjL3NlcnZpY2Uvc3RvcmUtYXBpLWNsaWVudC5zZXJ2aWNlJztcbmltcG9ydCBFbGVtZW50TG9hZGluZ0luZGljYXRvclV0aWwgZnJvbSAnc3JjL3V0aWxpdHkvbG9hZGluZy1pbmRpY2F0b3IvZWxlbWVudC1sb2FkaW5nLWluZGljYXRvci51dGlsJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQWR5ZW5TdWNjZXNzQWN0aW9uUGx1Z2luIGV4dGVuZHMgUGx1Z2luIHtcbiAgICBpbml0KCkge1xuICAgICAgICB0aGlzLl9jbGllbnQgPSBuZXcgU3RvcmVBcGlDbGllbnQoKTtcbiAgICAgICAgdGhpcy5hZHllbkNoZWNrb3V0ID0gUHJvbWlzZTtcbiAgICAgICAgdGhpcy5pbml0aWFsaXplQ2hlY2tvdXRDb21wb25lbnQoKS5iaW5kKHRoaXMpO1xuICAgIH1cblxuICAgIGFzeW5jIGluaXRpYWxpemVDaGVja291dENvbXBvbmVudCAoKSB7XG4gICAgICAgIGNvbnN0IHsgbG9jYWxlLCBjbGllbnRLZXksIGVudmlyb25tZW50IH0gPSBhZHllbkNoZWNrb3V0Q29uZmlndXJhdGlvbjtcbiAgICAgICAgY29uc3QgeyBhY3Rpb24gfSA9IGFkeWVuU3VjY2Vzc0FjdGlvbkNvbmZpZ3VyYXRpb247XG5cbiAgICAgICAgY29uc3QgQURZRU5fQ0hFQ0tPVVRfQ09ORklHID0ge1xuICAgICAgICAgICAgbG9jYWxlLFxuICAgICAgICAgICAgY2xpZW50S2V5LFxuICAgICAgICAgICAgZW52aXJvbm1lbnRcbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLmFkeWVuQ2hlY2tvdXQgPSBhd2FpdCBBZHllbkNoZWNrb3V0KEFEWUVOX0NIRUNLT1VUX0NPTkZJRyk7XG4gICAgICAgIHRoaXMuYWR5ZW5DaGVja291dC5jcmVhdGVGcm9tQWN0aW9uKEpTT04ucGFyc2UoYWN0aW9uKSkubW91bnQoJyNzdWNjZXNzLWFjdGlvbi1jb250YWluZXInKTtcbiAgICB9XG59XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7QUFHQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFIQTs7QUFNQTtBQUNBOztBQURBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBbkJBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///CbCH\n");

/***/ }),

/***/ "HNRU":
/*!**********************************************************************************************************!*\
  !*** /var/www/html/vendor/adyen/adyen-shopware6/src/Resources/app/storefront/src/configuration/adyen.js ***!
  \**********************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/*\n *                       ######\n *                       ######\n * ############    ####( ######  #####. ######  ############   ############\n * #############  #####( ######  #####. ######  #############  #############\n *        ######  #####( ######  #####. ######  #####  ######  #####  ######\n * ###### ######  #####( ######  #####. ######  #####  #####   #####  ######\n * ###### ######  #####( ######  #####. ######  #####          #####  ######\n * #############  #############  #############  #############  #####  ######\n *  ############   ############  #############   ############  #####  ######\n *                                      ######\n *                               #############\n *                               ############\n *\n * Adyen Payment Module\n *\n * Copyright (c) 2020 Adyen B.V.\n * This file is open source and available under the MIT license.\n * See the LICENSE file for more info.\n *\n */\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  updatablePaymentMethods: ['scheme', 'ideal', 'sepadirectdebit', 'oneclick', 'dotpay', 'bcmc', 'bcmc_mobile', 'blik', 'eps', 'facilypay_3x', 'facilypay_4x', 'facilypay_6x', 'facilypay_10x', 'facilypay_12x', 'afterpay_default', 'ratepay', 'ratepay_directdebit', 'giftcard', 'paybright', 'affirm', 'multibanco', 'mbway', 'vipps', 'mobilepay', 'wechatpayQR', 'wechatpayWeb'],\n  componentsWithPayButton: {\n    'applepay': {\n      extra: {},\n      onClick: function onClick(resolve, reject, self) {\n        if (!self.confirmOrderForm.checkValidity()) {\n          reject();\n          return false;\n        } else {\n          resolve();\n          return true;\n        }\n      }\n    },\n    'paywithgoogle': {\n      extra: {\n        buttonSizeMode: 'fill'\n      },\n      onClick: function onClick(resolve, reject, self) {\n        if (!self.confirmOrderForm.checkValidity()) {\n          reject();\n          return false;\n        } else {\n          resolve();\n          return true;\n        }\n      },\n      onError: function onError(error, component, self) {\n        if (error.statusCode !== 'CANCELED') {\n          if ('statusMessage' in error) {\n            console.log(error.statusMessage);\n          } else {\n            console.log(error.statusCode);\n          }\n        }\n      }\n    },\n    'paypal': {\n      extra: {},\n      onClick: function onClick(source, event, self) {\n        return self.confirmOrderForm.checkValidity();\n      },\n      onError: function onError(error, component, self) {\n        component.setStatus('ready');\n        window.location.href = self.errorUrl.toString();\n      },\n      onCancel: function onCancel(data, component, self) {\n        component.setStatus('ready');\n        window.location.href = self.errorUrl.toString();\n      },\n      responseHandler: function responseHandler(plugin, response) {\n        try {\n          response = JSON.parse(response);\n\n          if (response.isFinal) {\n            location.href = plugin.returnUrl;\n          } // Load Paypal popup window with component.handleAction\n\n\n          this.handleAction(response.action);\n        } catch (e) {\n          console.error(e);\n        }\n      }\n    },\n    'amazonpay': {\n      extra: {\n        productType: 'PayAndShip',\n        checkoutMode: 'ProcessOrder',\n        returnUrl: location.href\n      },\n      prePayRedirect: true,\n      sessionKey: 'amazonCheckoutSessionId',\n      onClick: function onClick(resolve, reject, self) {\n        if (!self.confirmOrderForm.checkValidity()) {\n          reject();\n          return false;\n        } else {\n          resolve();\n          return true;\n        }\n      },\n      onError: function onError(error, component) {\n        console.log(error);\n        component.setStatus('ready');\n      }\n    }\n  },\n  paymentMethodTypeHandlers: {\n    'scheme': 'handler_adyen_cardspaymentmethodhandler',\n    'ideal': 'handler_adyen_idealpaymentmethodhandler',\n    'klarna': 'handler_adyen_klarnapaylaterpaymentmethodhandler',\n    'klarna_account': 'handler_adyen_klarnaaccountpaymentmethodhandler',\n    'klarna_paynow': 'handler_adyen_klarnapaynowpaymentmethodhandler',\n    'ratepay': 'handler_adyen_ratepaypaymentmethodhandler',\n    'ratepay_directdebit': 'handler_adyen_ratepaydirectdebitpaymentmethodhandler',\n    'sepadirectdebit': 'handler_adyen_sepapaymentmethodhandler',\n    'sofort': 'handler_adyen_sofortpaymentmethodhandler',\n    'paypal': 'handler_adyen_paypalpaymentmethodhandler',\n    'oneclick': 'handler_adyen_oneclickpaymentmethodhandler',\n    'giropay': 'handler_adyen_giropaypaymentmethodhandler',\n    'applepay': 'handler_adyen_applepaypaymentmethodhandler',\n    'paywithgoogle': 'handler_adyen_googlepaypaymentmethodhandler',\n    'dotpay': 'handler_adyen_dotpaypaymentmethodhandler',\n    'bcmc': 'handler_adyen_bancontactcardpaymentmethodhandler',\n    'bcmc_mobile': 'handler_adyen_bancontactmobilepaymentmethodhandler',\n    'amazonpay': 'handler_adyen_amazonpaypaymentmethodhandler',\n    'twint': 'handler_adyen_twintpaymentmethodhandler',\n    'eps': 'handler_adyen_epspaymentmethodhandler',\n    'swish': 'handler_adyen_swishpaymentmethodhandler',\n    'alipay': 'handler_adyen_alipaypaymentmethodhandler',\n    'alipay_hk': 'handler_adyen_alipayhkpaymentmethodhandler',\n    'blik': 'handler_adyen_blikpaymentmethodhandler',\n    'clearpay': 'handler_adyen_clearpaypaymentmethodhandler',\n    'facilypay_3x': 'handler_adyen_facilypay3xpaymentmethodhandler',\n    'facilypay_4x': 'handler_adyen_facilypay4xpaymentmethodhandler',\n    'facilypay_6x': 'handler_adyen_facilypay6xpaymentmethodhandler',\n    'facilypay_10x': 'handler_adyen_facilypay10xpaymentmethodhandler',\n    'facilypay_12x': 'handler_adyen_facilypay12xpaymentmethodhandler',\n    'afterpay_default': 'handler_adyen_afterpaydefaultpaymentmethodhandler',\n    'trustly': 'handler_adyen_trustlypaymentmethodhandler',\n    'paysafecard': 'handler_adyen_paysafecardpaymentmethodhandler',\n    'givex': 'handler_adyen_givexgiftcardpaymentmethodhandler',\n    'webshopgiftcard': 'handler_adyen_webshopgiftcardpaymentmethodhandler',\n    'kadowereld': 'handler_adyen_kadowereldgiftcardpaymentmethodhandler',\n    'tcstestgiftcard': 'handler_adyen_tcstestgiftcardpaymentmethodhandler',\n    'albelligiftcard': 'handler_adyen_albelligiftcardpaymentmethodhandler',\n    'bijcadeaucard': 'handler_adyen_bijenkorfgiftcardpaymentmethodhandler',\n    'vvvgiftcard': 'handler_adyen_vvvgiftcardpaymentmethodhandler',\n    'genericgiftcard': 'handler_adyen_genericgiftcardpaymentmethodhandler',\n    'gallgall': 'handler_adyen_gallgallgiftcardpaymentmethodhandler',\n    'hmlingerie': 'handler_adyen_hunkemollerlingeriegiftcardpaymentmethodhandler',\n    'beautycadeaukaart': 'handler_adyen_beautygiftcardpaymentmethodhandler',\n    'svs': 'handler_adyen_svsgiftcardpaymentmethodhandler',\n    'fashioncheque': 'handler_adyen_fashionchequegiftcardpaymentmethodhandler',\n    'decadeaukaart': 'handler_adyen_decadeaukaartgiftcardpaymentmethodhandler',\n    'mbway': 'handler_adyen_mbwaypaymentmethodhandler',\n    'multibanco': 'handler_adyen_multibancopaymentmethodhandler',\n    'wechatpayQR': 'handler_adyen_wechatpayqrpaymentmethodhandler',\n    'wechatpayWeb': 'handler_adyen_wechatpaywebpaymentmethodhandler',\n    'mobilepay': 'handler_adyen_mobilepaypaymentmethodhandler',\n    'vipps': 'handler_adyen_vippspaymentmethodhandler',\n    'affirm': 'handler_adyen_affirmpaymentmethodhandler',\n    'paybright': 'handler_adyen_paybrightpaymentmethodhandler'\n  }\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiSE5SVS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8vdmFyL3d3dy9odG1sL3ZlbmRvci9hZHllbi9hZHllbi1zaG9wd2FyZTYvc3JjL1Jlc291cmNlcy9hcHAvc3RvcmVmcm9udC9zcmMvY29uZmlndXJhdGlvbi9hZHllbi5qcz80MzNkIl0sInNvdXJjZXNDb250ZW50IjpbIi8qXG4gKiAgICAgICAgICAgICAgICAgICAgICAgIyMjIyMjXG4gKiAgICAgICAgICAgICAgICAgICAgICAgIyMjIyMjXG4gKiAjIyMjIyMjIyMjIyMgICAgIyMjIyggIyMjIyMjICAjIyMjIy4gIyMjIyMjICAjIyMjIyMjIyMjIyMgICAjIyMjIyMjIyMjIyNcbiAqICMjIyMjIyMjIyMjIyMgICMjIyMjKCAjIyMjIyMgICMjIyMjLiAjIyMjIyMgICMjIyMjIyMjIyMjIyMgICMjIyMjIyMjIyMjIyNcbiAqICAgICAgICAjIyMjIyMgICMjIyMjKCAjIyMjIyMgICMjIyMjLiAjIyMjIyMgICMjIyMjICAjIyMjIyMgICMjIyMjICAjIyMjIyNcbiAqICMjIyMjIyAjIyMjIyMgICMjIyMjKCAjIyMjIyMgICMjIyMjLiAjIyMjIyMgICMjIyMjICAjIyMjIyAgICMjIyMjICAjIyMjIyNcbiAqICMjIyMjIyAjIyMjIyMgICMjIyMjKCAjIyMjIyMgICMjIyMjLiAjIyMjIyMgICMjIyMjICAgICAgICAgICMjIyMjICAjIyMjIyNcbiAqICMjIyMjIyMjIyMjIyMgICMjIyMjIyMjIyMjIyMgICMjIyMjIyMjIyMjIyMgICMjIyMjIyMjIyMjIyMgICMjIyMjICAjIyMjIyNcbiAqICAjIyMjIyMjIyMjIyMgICAjIyMjIyMjIyMjIyMgICMjIyMjIyMjIyMjIyMgICAjIyMjIyMjIyMjIyMgICMjIyMjICAjIyMjIyNcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAjIyMjIyNcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICMjIyMjIyMjIyMjIyNcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICMjIyMjIyMjIyMjI1xuICpcbiAqIEFkeWVuIFBheW1lbnQgTW9kdWxlXG4gKlxuICogQ29weXJpZ2h0IChjKSAyMDIwIEFkeWVuIEIuVi5cbiAqIFRoaXMgZmlsZSBpcyBvcGVuIHNvdXJjZSBhbmQgYXZhaWxhYmxlIHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cbiAqIFNlZSB0aGUgTElDRU5TRSBmaWxlIGZvciBtb3JlIGluZm8uXG4gKlxuICovXG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgICB1cGRhdGFibGVQYXltZW50TWV0aG9kczogW1xuICAgICAgICAnc2NoZW1lJywgJ2lkZWFsJywgJ3NlcGFkaXJlY3RkZWJpdCcsICdvbmVjbGljaycsICdkb3RwYXknLCAnYmNtYycsICdiY21jX21vYmlsZScsICdibGlrJywgJ2VwcycsICdmYWNpbHlwYXlfM3gnLFxuICAgICAgICAnZmFjaWx5cGF5XzR4JywgJ2ZhY2lseXBheV82eCcsICdmYWNpbHlwYXlfMTB4JywgJ2ZhY2lseXBheV8xMngnLCAnYWZ0ZXJwYXlfZGVmYXVsdCcsICdyYXRlcGF5JyxcbiAgICAgICAgJ3JhdGVwYXlfZGlyZWN0ZGViaXQnLCAnZ2lmdGNhcmQnLCAncGF5YnJpZ2h0JywgJ2FmZmlybScsICdtdWx0aWJhbmNvJywgJ21id2F5JywgJ3ZpcHBzJywgJ21vYmlsZXBheScsXG4gICAgICAgICd3ZWNoYXRwYXlRUicsICd3ZWNoYXRwYXlXZWInXG4gICAgXSxcbiAgICBjb21wb25lbnRzV2l0aFBheUJ1dHRvbjoge1xuICAgICAgICAnYXBwbGVwYXknOiB7XG4gICAgICAgICAgICBleHRyYToge30sXG4gICAgICAgICAgICBvbkNsaWNrKHJlc29sdmUsIHJlamVjdCwgc2VsZikge1xuICAgICAgICAgICAgICAgIGlmICghc2VsZi5jb25maXJtT3JkZXJGb3JtLmNoZWNrVmFsaWRpdHkoKSkge1xuICAgICAgICAgICAgICAgICAgICByZWplY3QoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICAncGF5d2l0aGdvb2dsZSc6IHtcbiAgICAgICAgICAgIGV4dHJhOiB7XG4gICAgICAgICAgICAgICAgYnV0dG9uU2l6ZU1vZGU6ICdmaWxsJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvbkNsaWNrOiBmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0LCBzZWxmKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFzZWxmLmNvbmZpcm1PcmRlckZvcm0uY2hlY2tWYWxpZGl0eSgpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdCgpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25FcnJvcjogZnVuY3Rpb24oZXJyb3IsIGNvbXBvbmVudCwgc2VsZikge1xuICAgICAgICAgICAgICAgIGlmIChlcnJvci5zdGF0dXNDb2RlICE9PSAnQ0FOQ0VMRUQnKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICgnc3RhdHVzTWVzc2FnZScgaW4gZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yLnN0YXR1c01lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3Iuc3RhdHVzQ29kZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgICdwYXlwYWwnOiB7XG4gICAgICAgICAgICBleHRyYToge30sXG4gICAgICAgICAgICBvbkNsaWNrOiBmdW5jdGlvbiAoc291cmNlLCBldmVudCwgc2VsZikge1xuICAgICAgICAgICAgICAgIHJldHVybiBzZWxmLmNvbmZpcm1PcmRlckZvcm0uY2hlY2tWYWxpZGl0eSgpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uRXJyb3I6IGZ1bmN0aW9uKGVycm9yLCBjb21wb25lbnQsIHNlbGYpIHtcbiAgICAgICAgICAgICAgICBjb21wb25lbnQuc2V0U3RhdHVzKCdyZWFkeScpO1xuICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gc2VsZi5lcnJvclVybC50b1N0cmluZygpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uQ2FuY2VsOiBmdW5jdGlvbiAoZGF0YSwgY29tcG9uZW50LCBzZWxmKSB7XG4gICAgICAgICAgICAgICAgY29tcG9uZW50LnNldFN0YXR1cygncmVhZHknKTtcbiAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IHNlbGYuZXJyb3JVcmwudG9TdHJpbmcoKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICByZXNwb25zZUhhbmRsZXI6IGZ1bmN0aW9uIChwbHVnaW4sIHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBKU09OLnBhcnNlKHJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmlzRmluYWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uLmhyZWYgPSBwbHVnaW4ucmV0dXJuVXJsO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIExvYWQgUGF5cGFsIHBvcHVwIHdpbmRvdyB3aXRoIGNvbXBvbmVudC5oYW5kbGVBY3Rpb25cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVBY3Rpb24ocmVzcG9uc2UuYWN0aW9uKTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICAnYW1hem9ucGF5Jzoge1xuICAgICAgICAgICAgZXh0cmE6IHtcbiAgICAgICAgICAgICAgICBwcm9kdWN0VHlwZTogJ1BheUFuZFNoaXAnLFxuICAgICAgICAgICAgICAgIGNoZWNrb3V0TW9kZTogJ1Byb2Nlc3NPcmRlcicsXG4gICAgICAgICAgICAgICAgcmV0dXJuVXJsOiBsb2NhdGlvbi5ocmVmXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcHJlUGF5UmVkaXJlY3Q6IHRydWUsXG4gICAgICAgICAgICBzZXNzaW9uS2V5OiAnYW1hem9uQ2hlY2tvdXRTZXNzaW9uSWQnLFxuICAgICAgICAgICAgb25DbGljazogZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCwgc2VsZikge1xuICAgICAgICAgICAgICAgIGlmICghc2VsZi5jb25maXJtT3JkZXJGb3JtLmNoZWNrVmFsaWRpdHkoKSkge1xuICAgICAgICAgICAgICAgICAgICByZWplY3QoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uRXJyb3I6IChlcnJvciwgY29tcG9uZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgICAgICAgICAgICAgIGNvbXBvbmVudC5zZXRTdGF0dXMoJ3JlYWR5Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgfSxcbiAgICBwYXltZW50TWV0aG9kVHlwZUhhbmRsZXJzOiB7XG4gICAgICAgICdzY2hlbWUnOiAnaGFuZGxlcl9hZHllbl9jYXJkc3BheW1lbnRtZXRob2RoYW5kbGVyJyxcbiAgICAgICAgJ2lkZWFsJzogJ2hhbmRsZXJfYWR5ZW5faWRlYWxwYXltZW50bWV0aG9kaGFuZGxlcicsXG4gICAgICAgICdrbGFybmEnOiAnaGFuZGxlcl9hZHllbl9rbGFybmFwYXlsYXRlcnBheW1lbnRtZXRob2RoYW5kbGVyJyxcbiAgICAgICAgJ2tsYXJuYV9hY2NvdW50JzogJ2hhbmRsZXJfYWR5ZW5fa2xhcm5hYWNjb3VudHBheW1lbnRtZXRob2RoYW5kbGVyJyxcbiAgICAgICAgJ2tsYXJuYV9wYXlub3cnOiAnaGFuZGxlcl9hZHllbl9rbGFybmFwYXlub3dwYXltZW50bWV0aG9kaGFuZGxlcicsXG4gICAgICAgICdyYXRlcGF5JzogJ2hhbmRsZXJfYWR5ZW5fcmF0ZXBheXBheW1lbnRtZXRob2RoYW5kbGVyJyxcbiAgICAgICAgJ3JhdGVwYXlfZGlyZWN0ZGViaXQnOiAnaGFuZGxlcl9hZHllbl9yYXRlcGF5ZGlyZWN0ZGViaXRwYXltZW50bWV0aG9kaGFuZGxlcicsXG4gICAgICAgICdzZXBhZGlyZWN0ZGViaXQnOiAnaGFuZGxlcl9hZHllbl9zZXBhcGF5bWVudG1ldGhvZGhhbmRsZXInLFxuICAgICAgICAnc29mb3J0JzogJ2hhbmRsZXJfYWR5ZW5fc29mb3J0cGF5bWVudG1ldGhvZGhhbmRsZXInLFxuICAgICAgICAncGF5cGFsJzogJ2hhbmRsZXJfYWR5ZW5fcGF5cGFscGF5bWVudG1ldGhvZGhhbmRsZXInLFxuICAgICAgICAnb25lY2xpY2snOiAnaGFuZGxlcl9hZHllbl9vbmVjbGlja3BheW1lbnRtZXRob2RoYW5kbGVyJyxcbiAgICAgICAgJ2dpcm9wYXknOiAnaGFuZGxlcl9hZHllbl9naXJvcGF5cGF5bWVudG1ldGhvZGhhbmRsZXInLFxuICAgICAgICAnYXBwbGVwYXknOiAnaGFuZGxlcl9hZHllbl9hcHBsZXBheXBheW1lbnRtZXRob2RoYW5kbGVyJyxcbiAgICAgICAgJ3BheXdpdGhnb29nbGUnOiAnaGFuZGxlcl9hZHllbl9nb29nbGVwYXlwYXltZW50bWV0aG9kaGFuZGxlcicsXG4gICAgICAgICdkb3RwYXknOiAnaGFuZGxlcl9hZHllbl9kb3RwYXlwYXltZW50bWV0aG9kaGFuZGxlcicsXG4gICAgICAgICdiY21jJzogJ2hhbmRsZXJfYWR5ZW5fYmFuY29udGFjdGNhcmRwYXltZW50bWV0aG9kaGFuZGxlcicsXG4gICAgICAgICdiY21jX21vYmlsZSc6ICdoYW5kbGVyX2FkeWVuX2JhbmNvbnRhY3Rtb2JpbGVwYXltZW50bWV0aG9kaGFuZGxlcicsXG4gICAgICAgICdhbWF6b25wYXknOiAnaGFuZGxlcl9hZHllbl9hbWF6b25wYXlwYXltZW50bWV0aG9kaGFuZGxlcicsXG4gICAgICAgICd0d2ludCc6ICdoYW5kbGVyX2FkeWVuX3R3aW50cGF5bWVudG1ldGhvZGhhbmRsZXInLFxuICAgICAgICAnZXBzJzogJ2hhbmRsZXJfYWR5ZW5fZXBzcGF5bWVudG1ldGhvZGhhbmRsZXInLFxuICAgICAgICAnc3dpc2gnOiAnaGFuZGxlcl9hZHllbl9zd2lzaHBheW1lbnRtZXRob2RoYW5kbGVyJyxcbiAgICAgICAgJ2FsaXBheSc6ICdoYW5kbGVyX2FkeWVuX2FsaXBheXBheW1lbnRtZXRob2RoYW5kbGVyJyxcbiAgICAgICAgJ2FsaXBheV9oayc6ICdoYW5kbGVyX2FkeWVuX2FsaXBheWhrcGF5bWVudG1ldGhvZGhhbmRsZXInLFxuICAgICAgICAnYmxpayc6ICdoYW5kbGVyX2FkeWVuX2JsaWtwYXltZW50bWV0aG9kaGFuZGxlcicsXG4gICAgICAgICdjbGVhcnBheSc6ICdoYW5kbGVyX2FkeWVuX2NsZWFycGF5cGF5bWVudG1ldGhvZGhhbmRsZXInLFxuICAgICAgICAnZmFjaWx5cGF5XzN4JzogJ2hhbmRsZXJfYWR5ZW5fZmFjaWx5cGF5M3hwYXltZW50bWV0aG9kaGFuZGxlcicsXG4gICAgICAgICdmYWNpbHlwYXlfNHgnOiAnaGFuZGxlcl9hZHllbl9mYWNpbHlwYXk0eHBheW1lbnRtZXRob2RoYW5kbGVyJyxcbiAgICAgICAgJ2ZhY2lseXBheV82eCc6ICdoYW5kbGVyX2FkeWVuX2ZhY2lseXBheTZ4cGF5bWVudG1ldGhvZGhhbmRsZXInLFxuICAgICAgICAnZmFjaWx5cGF5XzEweCc6ICdoYW5kbGVyX2FkeWVuX2ZhY2lseXBheTEweHBheW1lbnRtZXRob2RoYW5kbGVyJyxcbiAgICAgICAgJ2ZhY2lseXBheV8xMngnOiAnaGFuZGxlcl9hZHllbl9mYWNpbHlwYXkxMnhwYXltZW50bWV0aG9kaGFuZGxlcicsXG4gICAgICAgICdhZnRlcnBheV9kZWZhdWx0JzogJ2hhbmRsZXJfYWR5ZW5fYWZ0ZXJwYXlkZWZhdWx0cGF5bWVudG1ldGhvZGhhbmRsZXInLFxuICAgICAgICAndHJ1c3RseSc6ICdoYW5kbGVyX2FkeWVuX3RydXN0bHlwYXltZW50bWV0aG9kaGFuZGxlcicsXG4gICAgICAgICdwYXlzYWZlY2FyZCc6ICdoYW5kbGVyX2FkeWVuX3BheXNhZmVjYXJkcGF5bWVudG1ldGhvZGhhbmRsZXInLFxuICAgICAgICAnZ2l2ZXgnOiAnaGFuZGxlcl9hZHllbl9naXZleGdpZnRjYXJkcGF5bWVudG1ldGhvZGhhbmRsZXInLFxuICAgICAgICAnd2Vic2hvcGdpZnRjYXJkJzogJ2hhbmRsZXJfYWR5ZW5fd2Vic2hvcGdpZnRjYXJkcGF5bWVudG1ldGhvZGhhbmRsZXInLFxuICAgICAgICAna2Fkb3dlcmVsZCc6ICdoYW5kbGVyX2FkeWVuX2thZG93ZXJlbGRnaWZ0Y2FyZHBheW1lbnRtZXRob2RoYW5kbGVyJyxcbiAgICAgICAgJ3Rjc3Rlc3RnaWZ0Y2FyZCc6ICdoYW5kbGVyX2FkeWVuX3Rjc3Rlc3RnaWZ0Y2FyZHBheW1lbnRtZXRob2RoYW5kbGVyJyxcbiAgICAgICAgJ2FsYmVsbGlnaWZ0Y2FyZCc6ICdoYW5kbGVyX2FkeWVuX2FsYmVsbGlnaWZ0Y2FyZHBheW1lbnRtZXRob2RoYW5kbGVyJyxcbiAgICAgICAgJ2JpamNhZGVhdWNhcmQnOiAnaGFuZGxlcl9hZHllbl9iaWplbmtvcmZnaWZ0Y2FyZHBheW1lbnRtZXRob2RoYW5kbGVyJyxcbiAgICAgICAgJ3Z2dmdpZnRjYXJkJzogJ2hhbmRsZXJfYWR5ZW5fdnZ2Z2lmdGNhcmRwYXltZW50bWV0aG9kaGFuZGxlcicsXG4gICAgICAgICdnZW5lcmljZ2lmdGNhcmQnOiAnaGFuZGxlcl9hZHllbl9nZW5lcmljZ2lmdGNhcmRwYXltZW50bWV0aG9kaGFuZGxlcicsXG4gICAgICAgICdnYWxsZ2FsbCc6ICdoYW5kbGVyX2FkeWVuX2dhbGxnYWxsZ2lmdGNhcmRwYXltZW50bWV0aG9kaGFuZGxlcicsXG4gICAgICAgICdobWxpbmdlcmllJzogJ2hhbmRsZXJfYWR5ZW5faHVua2Vtb2xsZXJsaW5nZXJpZWdpZnRjYXJkcGF5bWVudG1ldGhvZGhhbmRsZXInLFxuICAgICAgICAnYmVhdXR5Y2FkZWF1a2FhcnQnOiAnaGFuZGxlcl9hZHllbl9iZWF1dHlnaWZ0Y2FyZHBheW1lbnRtZXRob2RoYW5kbGVyJyxcbiAgICAgICAgJ3N2cyc6ICdoYW5kbGVyX2FkeWVuX3N2c2dpZnRjYXJkcGF5bWVudG1ldGhvZGhhbmRsZXInLFxuICAgICAgICAnZmFzaGlvbmNoZXF1ZSc6ICdoYW5kbGVyX2FkeWVuX2Zhc2hpb25jaGVxdWVnaWZ0Y2FyZHBheW1lbnRtZXRob2RoYW5kbGVyJyxcbiAgICAgICAgJ2RlY2FkZWF1a2FhcnQnOiAnaGFuZGxlcl9hZHllbl9kZWNhZGVhdWthYXJ0Z2lmdGNhcmRwYXltZW50bWV0aG9kaGFuZGxlcicsXG4gICAgICAgICdtYndheSc6ICdoYW5kbGVyX2FkeWVuX21id2F5cGF5bWVudG1ldGhvZGhhbmRsZXInLFxuICAgICAgICAnbXVsdGliYW5jbyc6ICdoYW5kbGVyX2FkeWVuX211bHRpYmFuY29wYXltZW50bWV0aG9kaGFuZGxlcicsXG4gICAgICAgICd3ZWNoYXRwYXlRUic6ICdoYW5kbGVyX2FkeWVuX3dlY2hhdHBheXFycGF5bWVudG1ldGhvZGhhbmRsZXInLFxuICAgICAgICAnd2VjaGF0cGF5V2ViJzogJ2hhbmRsZXJfYWR5ZW5fd2VjaGF0cGF5d2VicGF5bWVudG1ldGhvZGhhbmRsZXInLFxuICAgICAgICAnbW9iaWxlcGF5JzogJ2hhbmRsZXJfYWR5ZW5fbW9iaWxlcGF5cGF5bWVudG1ldGhvZGhhbmRsZXInLFxuICAgICAgICAndmlwcHMnOiAnaGFuZGxlcl9hZHllbl92aXBwc3BheW1lbnRtZXRob2RoYW5kbGVyJyxcbiAgICAgICAgJ2FmZmlybSc6ICdoYW5kbGVyX2FkeWVuX2FmZmlybXBheW1lbnRtZXRob2RoYW5kbGVyJyxcbiAgICAgICAgJ3BheWJyaWdodCc6ICdoYW5kbGVyX2FkeWVuX3BheWJyaWdodHBheW1lbnRtZXRob2RoYW5kbGVyJ1xuICAgIH1cbn1cbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBVkE7QUFZQTtBQUNBO0FBQ0E7QUFEQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQXJCQTtBQXVCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUF4QkE7QUEwQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBcEJBO0FBOURBO0FBcUZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUF2REE7QUE1RkEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///HNRU\n");

/***/ }),

/***/ "TVZM":
/*!*******************************************************************************************!*\
  !*** /var/www/html/vendor/adyen/adyen-shopware6/src/Resources/app/storefront/src/main.js ***!
  \*******************************************************************************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _cart_cart_plugin__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./cart/cart.plugin */ \"n9eb\");\n/* harmony import */ var _checkout_confirm_order_plugin__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./checkout/confirm-order.plugin */ \"h8V8\");\n/* harmony import */ var _finish_adyen_giving_plugin__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./finish/adyen-giving.plugin */ \"CQEO\");\n/* harmony import */ var _finish_adyen_success_action_plugin__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./finish/adyen-success-action.plugin */ \"CbCH\");\n// Import all necessary Storefront plugins and scss files\n\n\n\n // Register them via the existing PluginManager\n\nvar PluginManager = window.PluginManager;\nPluginManager.register('CartPlugin', _cart_cart_plugin__WEBPACK_IMPORTED_MODULE_0__[\"default\"], '#adyen-giftcards-container');\nPluginManager.register('ConfirmOrderPlugin', _checkout_confirm_order_plugin__WEBPACK_IMPORTED_MODULE_1__[\"default\"], '#adyen-payment-checkout-mask');\nPluginManager.register('AdyenGivingPlugin', _finish_adyen_giving_plugin__WEBPACK_IMPORTED_MODULE_2__[\"default\"], '#adyen-giving-container');\nPluginManager.register('AdyenSuccessAction', _finish_adyen_success_action_plugin__WEBPACK_IMPORTED_MODULE_3__[\"default\"], '#adyen-success-action-container');//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiVFZaTS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8vdmFyL3d3dy9odG1sL3ZlbmRvci9hZHllbi9hZHllbi1zaG9wd2FyZTYvc3JjL1Jlc291cmNlcy9hcHAvc3RvcmVmcm9udC9zcmMvbWFpbi5qcz9kMGE5Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIEltcG9ydCBhbGwgbmVjZXNzYXJ5IFN0b3JlZnJvbnQgcGx1Z2lucyBhbmQgc2NzcyBmaWxlc1xuaW1wb3J0IENhcnRQbHVnaW4gZnJvbSAnLi9jYXJ0L2NhcnQucGx1Z2luJztcbmltcG9ydCBDb25maXJtT3JkZXJQbHVnaW4gZnJvbSAnLi9jaGVja291dC9jb25maXJtLW9yZGVyLnBsdWdpbic7XG5pbXBvcnQgQWR5ZW5HaXZpbmdQbHVnaW4gZnJvbSAnLi9maW5pc2gvYWR5ZW4tZ2l2aW5nLnBsdWdpbic7XG5pbXBvcnQgQWR5ZW5TdWNjZXNzQWN0aW9uIGZyb20gJy4vZmluaXNoL2FkeWVuLXN1Y2Nlc3MtYWN0aW9uLnBsdWdpbic7XG5cbi8vIFJlZ2lzdGVyIHRoZW0gdmlhIHRoZSBleGlzdGluZyBQbHVnaW5NYW5hZ2VyXG5jb25zdCBQbHVnaW5NYW5hZ2VyID0gd2luZG93LlBsdWdpbk1hbmFnZXI7XG5QbHVnaW5NYW5hZ2VyLnJlZ2lzdGVyKCdDYXJ0UGx1Z2luJywgQ2FydFBsdWdpbiwgJyNhZHllbi1naWZ0Y2FyZHMtY29udGFpbmVyJyk7XG5QbHVnaW5NYW5hZ2VyLnJlZ2lzdGVyKCdDb25maXJtT3JkZXJQbHVnaW4nLCBDb25maXJtT3JkZXJQbHVnaW4sICcjYWR5ZW4tcGF5bWVudC1jaGVja291dC1tYXNrJyk7XG5QbHVnaW5NYW5hZ2VyLnJlZ2lzdGVyKCdBZHllbkdpdmluZ1BsdWdpbicsIEFkeWVuR2l2aW5nUGx1Z2luLCAnI2FkeWVuLWdpdmluZy1jb250YWluZXInKTtcblBsdWdpbk1hbmFnZXIucmVnaXN0ZXIoJ0FkeWVuU3VjY2Vzc0FjdGlvbicsIEFkeWVuU3VjY2Vzc0FjdGlvbiwgJyNhZHllbi1zdWNjZXNzLWFjdGlvbi1jb250YWluZXInKTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///TVZM\n");

/***/ }),

/***/ "h8V8":
/*!********************************************************************************************************************!*\
  !*** /var/www/html/vendor/adyen/adyen-shopware6/src/Resources/app/storefront/src/checkout/confirm-order.plugin.js ***!
  \********************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function($) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return ConfirmOrderPlugin; });\n/* harmony import */ var src_plugin_system_plugin_class__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! src/plugin-system/plugin.class */ \"FGIj\");\n/* harmony import */ var src_helper_dom_access_helper__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! src/helper/dom-access.helper */ \"gHbT\");\n/* harmony import */ var src_service_store_api_client_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/service/store-api-client.service */ \"p4AR\");\n/* harmony import */ var src_utility_form_form_serialize_util__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/utility/form/form-serialize.util */ \"2Y4b\");\n/* harmony import */ var src_utility_loading_indicator_element_loading_indicator_util__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/utility/loading-indicator/element-loading-indicator.util */ \"u0Tz\");\n/* harmony import */ var _configuration_adyen__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../configuration/adyen */ \"HNRU\");\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\n/*\n *                       ######\n *                       ######\n * ############    ####( ######  #####. ######  ############   ############\n * #############  #####( ######  #####. ######  #############  #############\n *        ######  #####( ######  #####. ######  #####  ######  #####  ######\n * ###### ######  #####( ######  #####. ######  #####  #####   #####  ######\n * ###### ######  #####( ######  #####. ######  #####          #####  ######\n * #############  #############  #############  #############  #####  ######\n *  ############   ############  #############   ############  #####  ######\n *                                      ######\n *                               #############\n *                               ############\n *\n * Adyen Payment Module\n *\n * Copyright (c) 2020 Adyen B.V.\n * This file is open source and available under the MIT license.\n * See the LICENSE file for more info.\n *\n */\n\n\n\n\n\n\n/* global adyenCheckoutOptions, adyenCheckoutConfiguration, AdyenCheckout */\n\n/* eslint-disable no-unused-vars */\n\nvar ConfirmOrderPlugin = /*#__PURE__*/function (_Plugin) {\n  _inherits(ConfirmOrderPlugin, _Plugin);\n\n  function ConfirmOrderPlugin() {\n    _classCallCheck(this, ConfirmOrderPlugin);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(ConfirmOrderPlugin).apply(this, arguments));\n  }\n\n  _createClass(ConfirmOrderPlugin, [{\n    key: \"init\",\n    value: function init() {\n      this._client = new src_service_store_api_client_service__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\n      this.selectedAdyenPaymentMethod = this.getSelectedPaymentMethodKey();\n      this.confirmOrderForm = src_helper_dom_access_helper__WEBPACK_IMPORTED_MODULE_1__[\"default\"].querySelector(document, '#confirmOrderForm');\n      this.confirmFormSubmit = src_helper_dom_access_helper__WEBPACK_IMPORTED_MODULE_1__[\"default\"].querySelector(document, '#confirmOrderForm button[type=\"submit\"]');\n      this.shoppingCartSummaryBlock = $('.checkout-aside-summary-list');\n      this.shoppingCartSummaryDetails = null;\n      this.minorUnitsQuotient = adyenCheckoutOptions.amount / adyenCheckoutOptions.totalPrice;\n      this.giftcardDiscount = (adyenCheckoutOptions.giftcardDiscount / this.minorUnitsQuotient).toFixed(2);\n      this.remainingAmount = (adyenCheckoutOptions.totalPrice - this.giftcardDiscount).toFixed(2);\n      this.responseHandler = this.handlePaymentAction;\n      this.adyenCheckout = Promise;\n      this.initializeCheckoutComponent().then(function () {\n        // Non adyen payment method selected\n        // this can not happen, because this js plugin is registered only if adyen methods selected\n        // PluginManager.register('ConfirmOrderPlugin', ConfirmOrderPlugin, '#adyen-payment-checkout-mask');\n        if (adyenCheckoutOptions.selectedPaymentMethodPluginId !== adyenCheckoutOptions.adyenPluginId) {\n          return;\n        }\n\n        if (!adyenCheckoutOptions || !adyenCheckoutOptions.paymentStatusUrl || !adyenCheckoutOptions.checkoutOrderUrl || !adyenCheckoutOptions.paymentHandleUrl) {\n          console.error('Adyen payment configuration missing.');\n          return;\n        }\n\n        if (this.selectedAdyenPaymentMethod in _configuration_adyen__WEBPACK_IMPORTED_MODULE_5__[\"default\"].componentsWithPayButton) {\n          // replaces confirm button with adyen pay button for paywithgoogle, applepay etc.\n          this.initializeCustomPayButton();\n        }\n\n        if (_configuration_adyen__WEBPACK_IMPORTED_MODULE_5__[\"default\"].updatablePaymentMethods.includes(this.selectedAdyenPaymentMethod) && !this.stateData) {\n          // create inline component for cards etc. and set event listener for submit button to confirm payment component\n          this.renderPaymentComponent(this.selectedAdyenPaymentMethod);\n        } else {\n          this.confirmFormSubmit.addEventListener('click', this.onConfirmOrderSubmit.bind(this));\n        }\n      }.bind(this));\n\n      if (parseInt(adyenCheckoutOptions.payInFullWithGiftcard)) {\n        if (parseInt(adyenCheckoutOptions.adyenGiftcardSelected)) {\n          this.appendGiftcardSummary();\n        }\n      } else {\n        this.appendGiftcardSummary();\n      }\n    }\n  }, {\n    key: \"initializeCheckoutComponent\",\n    value: function () {\n      var _initializeCheckoutComponent = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n        var _adyenCheckoutConfigu, locale, clientKey, environment, paymentMethodsResponse, ADYEN_CHECKOUT_CONFIG;\n\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _adyenCheckoutConfigu = adyenCheckoutConfiguration, locale = _adyenCheckoutConfigu.locale, clientKey = _adyenCheckoutConfigu.clientKey, environment = _adyenCheckoutConfigu.environment;\n                paymentMethodsResponse = adyenCheckoutOptions.paymentMethodsResponse;\n                ADYEN_CHECKOUT_CONFIG = {\n                  locale: locale,\n                  clientKey: clientKey,\n                  environment: environment,\n                  showPayButton: this.selectedAdyenPaymentMethod in _configuration_adyen__WEBPACK_IMPORTED_MODULE_5__[\"default\"].componentsWithPayButton,\n                  hasHolderName: true,\n                  paymentMethodsResponse: JSON.parse(paymentMethodsResponse),\n                  onAdditionalDetails: this.handleOnAdditionalDetails.bind(this),\n                  countryCode: activeShippingAddress.country,\n                  paymentMethodsConfiguration: {\n                    card: {\n                      hasHolderName: true\n                    }\n                  }\n                };\n                _context.next = 5;\n                return AdyenCheckout(ADYEN_CHECKOUT_CONFIG);\n\n              case 5:\n                this.adyenCheckout = _context.sent;\n\n              case 6:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function initializeCheckoutComponent() {\n        return _initializeCheckoutComponent.apply(this, arguments);\n      }\n\n      return initializeCheckoutComponent;\n    }()\n  }, {\n    key: \"handleOnAdditionalDetails\",\n    value: function handleOnAdditionalDetails(state) {\n      this._client.post(\"\".concat(adyenCheckoutOptions.paymentDetailsUrl), JSON.stringify({\n        orderId: this.orderId,\n        stateData: state.data\n      }), function (paymentResponse) {\n        if (this._client._request.status !== 200) {\n          location.href = this.errorUrl.toString();\n          return;\n        }\n\n        this.responseHandler(paymentResponse);\n      }.bind(this));\n    }\n  }, {\n    key: \"onConfirmOrderSubmit\",\n    value: function onConfirmOrderSubmit(event) {\n      var form = src_helper_dom_access_helper__WEBPACK_IMPORTED_MODULE_1__[\"default\"].querySelector(document, '#confirmOrderForm');\n\n      if (!form.checkValidity()) {\n        return;\n      }\n\n      event.preventDefault();\n      src_utility_loading_indicator_element_loading_indicator_util__WEBPACK_IMPORTED_MODULE_4__[\"default\"].create(document.body);\n      var formData = src_utility_form_form_serialize_util__WEBPACK_IMPORTED_MODULE_3__[\"default\"].serialize(form);\n      this.confirmOrder(formData);\n    }\n  }, {\n    key: \"renderPaymentComponent\",\n    value: function renderPaymentComponent(type) {\n      if (type === 'oneclick') {\n        this.renderStoredPaymentMethodComponents();\n        return;\n      } // Get the payment method object from paymentMethodsResponse\n\n\n      var paymentMethodConfigs = $.grep(this.adyenCheckout.paymentMethodsResponse.paymentMethods, function (paymentMethod) {\n        return paymentMethod['type'] === type;\n      });\n\n      if (paymentMethodConfigs.length === 0) {\n        if (this.adyenCheckout.options.environment === 'test') {\n          console.error('Payment method configuration not found. ', type);\n        }\n\n        return;\n      }\n\n      var paymentMethod = paymentMethodConfigs[0]; // Mount payment method instance\n\n      this.mountPaymentComponent(paymentMethod, false);\n    }\n  }, {\n    key: \"renderStoredPaymentMethodComponents\",\n    value: function renderStoredPaymentMethodComponents() {\n      var _this = this;\n\n      // Iterate through and render the stored payment methods\n      var storedPaymentMethods = this.adyenCheckout.paymentMethodsResponse.storedPaymentMethods; // Mount payment method instance\n\n      storedPaymentMethods.forEach(function (paymentMethod) {\n        var selector = \"[data-adyen-stored-payment-method-id=\\\"\".concat(paymentMethod.id, \"\\\"]\");\n\n        _this.mountPaymentComponent(paymentMethod, selector, true);\n      });\n      this.showSelectedStoredPaymentMethod();\n      $('[name=adyenStoredPaymentMethodId]').change(this.showSelectedStoredPaymentMethod);\n    }\n  }, {\n    key: \"showSelectedStoredPaymentMethod\",\n    value: function showSelectedStoredPaymentMethod() {\n      // Only show the component for the selected stored payment method\n      $('.stored-payment-component').hide();\n      var selected = $('[name=adyenStoredPaymentMethodId]:checked').val();\n      $(\"[data-adyen-stored-payment-method-id=\\\"\".concat(selected, \"\\\"]\")).show();\n    }\n  }, {\n    key: \"confirmOrder\",\n    value: function confirmOrder(formData) {\n      var extraParams = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var orderId = adyenCheckoutOptions.orderId;\n\n      if (!!orderId) {\n        //Only used if the order is being edited\n        this.updatePayment(formData, orderId, extraParams);\n      } else {\n        this.createOrder(formData, extraParams);\n      }\n    }\n  }, {\n    key: \"updatePayment\",\n    value: function updatePayment(formData, orderId, extraParams) {\n      formData.set('orderId', orderId);\n\n      this._client.post(adyenCheckoutOptions.updatePaymentUrl, formData, this.afterSetPayment.bind(this, extraParams));\n    }\n  }, {\n    key: \"createOrder\",\n    value: function createOrder(formData, extraParams) {\n      if (parseInt(adyenCheckoutOptions.giftcardDiscount) && !adyenCheckoutOptions.payInFullWithGiftcard) {\n        // create Adyen order for partial payments\n        this._client.post(adyenCheckoutOptions.createOrderUrl, JSON.stringify({\n          orderAmount: adyenCheckoutOptions.amount,\n          currency: adyenCheckoutOptions.currency\n        }), function (response) {\n          var adyenOrder = JSON.parse(response);\n\n          if (adyenOrder.resultCode === 'Success') {\n            extraParams = _extends(extraParams, {\n              order: adyenOrder\n            });\n          } // create shopware order\n\n\n          this._client.post(adyenCheckoutOptions.checkoutOrderUrl, formData, this.afterCreateOrder.bind(this, extraParams));\n        }.bind(this));\n      } else {\n        this._client.post(adyenCheckoutOptions.checkoutOrderUrl, formData, this.afterCreateOrder.bind(this, extraParams));\n      }\n    }\n  }, {\n    key: \"afterCreateOrder\",\n    value: function afterCreateOrder() {\n      var extraParams = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var response = arguments.length > 1 ? arguments[1] : undefined;\n      var order;\n\n      try {\n        order = JSON.parse(response);\n      } catch (error) {\n        src_utility_loading_indicator_element_loading_indicator_util__WEBPACK_IMPORTED_MODULE_4__[\"default\"].remove(document.body);\n        console.log('Error: invalid response from Shopware API', response);\n        return;\n      }\n\n      this.orderId = order.id;\n      this.finishUrl = new URL(location.origin + adyenCheckoutOptions.paymentFinishUrl);\n      this.finishUrl.searchParams.set('orderId', order.id);\n      this.errorUrl = new URL(location.origin + adyenCheckoutOptions.paymentErrorUrl);\n      this.errorUrl.searchParams.set('orderId', order.id);\n      var params = {\n        'orderId': this.orderId,\n        'finishUrl': this.finishUrl.toString(),\n        'errorUrl': this.errorUrl.toString()\n      }; // Append any extra parameters passed, e.g. stateData\n\n      for (var property in extraParams) {\n        params[property] = extraParams[property];\n      }\n\n      this._client.post(adyenCheckoutOptions.paymentHandleUrl, JSON.stringify(params), this.afterPayOrder.bind(this, this.orderId));\n    }\n  }, {\n    key: \"afterSetPayment\",\n    value: function afterSetPayment() {\n      var extraParams = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var response = arguments.length > 1 ? arguments[1] : undefined;\n\n      try {\n        var responseObject = JSON.parse(response);\n\n        if (responseObject.success) {\n          this.afterCreateOrder(extraParams, JSON.stringify({\n            id: adyenCheckoutOptions.orderId\n          }));\n        }\n      } catch (e) {\n        src_utility_loading_indicator_element_loading_indicator_util__WEBPACK_IMPORTED_MODULE_4__[\"default\"].remove(document.body);\n        console.log('Error: invalid response from Shopware API', response);\n        return;\n      }\n    }\n  }, {\n    key: \"afterPayOrder\",\n    value: function afterPayOrder(orderId, response) {\n      try {\n        response = JSON.parse(response);\n        this.returnUrl = response.redirectUrl;\n      } catch (e) {\n        src_utility_loading_indicator_element_loading_indicator_util__WEBPACK_IMPORTED_MODULE_4__[\"default\"].remove(document.body);\n        console.log('Error: invalid response from Shopware API', response);\n        return;\n      } // If payment call returns the errorUrl, then no need to proceed further.\n      // Redirect to error page.\n\n\n      if (this.returnUrl === this.errorUrl.toString()) {\n        location.href = this.returnUrl;\n      }\n\n      try {\n        this._client.post(\"\".concat(adyenCheckoutOptions.paymentStatusUrl), JSON.stringify({\n          'orderId': orderId\n        }), this.responseHandler.bind(this));\n      } catch (e) {\n        console.log(e);\n      }\n    }\n  }, {\n    key: \"handlePaymentAction\",\n    value: function handlePaymentAction(response) {\n      try {\n        var paymentResponse = JSON.parse(response);\n\n        if (paymentResponse.isFinal || paymentResponse.action.type === 'voucher') {\n          location.href = this.returnUrl;\n        }\n\n        if (!!paymentResponse.action) {\n          this.adyenCheckout.createFromAction(paymentResponse.action).mount('[data-adyen-payment-action-container]');\n          var modalActionTypes = ['threeDS2', 'qrCode'];\n\n          if (modalActionTypes.includes(paymentResponse.action.type)) {\n            $('[data-adyen-payment-action-modal]').modal({\n              show: true\n            });\n          }\n        }\n      } catch (e) {\n        console.log(e);\n      }\n    }\n  }, {\n    key: \"initializeCustomPayButton\",\n    value: function initializeCustomPayButton() {\n      var _this2 = this;\n\n      var componentConfig = _configuration_adyen__WEBPACK_IMPORTED_MODULE_5__[\"default\"].componentsWithPayButton[this.selectedAdyenPaymentMethod];\n      this.completePendingPayment(this.selectedAdyenPaymentMethod, componentConfig); // get selected payment method object\n\n      var selectedPaymentMethod = this.adyenCheckout.paymentMethodsResponse.paymentMethods.filter(function (item) {\n        return item.type === _this2.selectedAdyenPaymentMethod;\n      });\n\n      if (selectedPaymentMethod.length < 1) {\n        return;\n      }\n\n      var selectedPaymentMethodObject = selectedPaymentMethod[0];\n\n      if (!adyenCheckoutOptions.amount) {\n        console.error('Failed to fetch Cart/Order total amount.');\n        return;\n      }\n\n      if (!!componentConfig.prePayRedirect) {\n        this.renderPrePaymentButton(componentConfig, selectedPaymentMethodObject);\n        return;\n      }\n\n      var PAY_BUTTON_CONFIG = _extends(componentConfig.extra, selectedPaymentMethodObject, {\n        amount: {\n          value: adyenCheckoutOptions.amount,\n          currency: adyenCheckoutOptions.currency\n        },\n        data: {\n          personalDetails: shopperDetails,\n          billingAddress: activeBillingAddress,\n          deliveryAddress: activeShippingAddress\n        },\n        onClick: function onClick(resolve, reject) {\n          if (!componentConfig.onClick(resolve, reject, _this2)) {\n            return false;\n          }\n\n          src_utility_loading_indicator_element_loading_indicator_util__WEBPACK_IMPORTED_MODULE_4__[\"default\"].create(document.body);\n        },\n        onSubmit: function (state, component) {\n          if (state.isValid) {\n            var extraParams = {\n              stateData: JSON.stringify(state.data)\n            };\n            var formData = src_utility_form_form_serialize_util__WEBPACK_IMPORTED_MODULE_3__[\"default\"].serialize(this.confirmOrderForm); // Set a custom response action handler if available.\n\n            if ('responseHandler' in componentConfig) {\n              this.responseHandler = componentConfig.responseHandler.bind(component, this);\n            }\n\n            this.confirmOrder(formData, extraParams);\n          } else {\n            component.showValidation();\n\n            if (this.adyenCheckout.options.environment === 'test') {\n              console.log('Payment failed: ', state);\n            }\n          }\n        }.bind(this),\n        onCancel: function onCancel(data, component) {\n          src_utility_loading_indicator_element_loading_indicator_util__WEBPACK_IMPORTED_MODULE_4__[\"default\"].remove(document.body);\n          componentConfig.onCancel(data, component, _this2);\n        },\n        onError: function onError(error, component) {\n          if (component.props.name === 'PayPal' && error.name === 'CANCEL') {\n            _this2._client.post(\"\".concat(adyenCheckoutOptions.cancelOrderTransactionUrl), JSON.stringify({\n              orderId: _this2.orderId\n            }));\n          }\n\n          src_utility_loading_indicator_element_loading_indicator_util__WEBPACK_IMPORTED_MODULE_4__[\"default\"].remove(document.body);\n          componentConfig.onError(error, component, _this2);\n          console.log(error);\n        }\n      });\n\n      var paymentMethodInstance = this.adyenCheckout.create(selectedPaymentMethodObject.type, PAY_BUTTON_CONFIG);\n\n      try {\n        if ('isAvailable' in paymentMethodInstance) {\n          paymentMethodInstance.isAvailable().then(function () {\n            this.mountCustomPayButton(paymentMethodInstance);\n          }.bind(this)).catch(function (e) {\n            console.log(selectedPaymentMethodObject.type + ' is not available', e);\n          });\n        } else {\n          this.mountCustomPayButton(paymentMethodInstance);\n        }\n      } catch (e) {\n        console.log(e);\n      }\n    }\n  }, {\n    key: \"renderPrePaymentButton\",\n    value: function renderPrePaymentButton(componentConfig, selectedPaymentMethodObject) {\n      var _this3 = this;\n\n      if (selectedPaymentMethodObject.type === 'amazonpay') {\n        componentConfig.extra = this.setAddressDetails(componentConfig.extra);\n      }\n\n      var PRE_PAY_BUTTON = _extends(componentConfig.extra, selectedPaymentMethodObject, {\n        configuration: selectedPaymentMethodObject.configuration,\n        amount: {\n          value: adyenCheckoutOptions.amount,\n          currency: adyenCheckoutOptions.currency\n        },\n        onClick: function onClick(resolve, reject) {\n          if (!componentConfig.onClick(resolve, reject, _this3)) {\n            return false;\n          }\n\n          src_utility_loading_indicator_element_loading_indicator_util__WEBPACK_IMPORTED_MODULE_4__[\"default\"].create(document.body);\n        },\n        onError: function onError(error, component) {\n          src_utility_loading_indicator_element_loading_indicator_util__WEBPACK_IMPORTED_MODULE_4__[\"default\"].remove(document.body);\n          componentConfig.onError(error, component, _this3);\n          console.log(error);\n        }\n      });\n\n      var paymentMethodInstance = this.adyenCheckout.create(selectedPaymentMethodObject.type, PRE_PAY_BUTTON);\n      this.mountCustomPayButton(paymentMethodInstance);\n    }\n  }, {\n    key: \"completePendingPayment\",\n    value: function completePendingPayment(paymentMethodType, config) {\n      var url = new URL(location.href); // Check for pending payment session\n\n      if (url.searchParams.has(config.sessionKey)) {\n        var _this$adyenCheckout$c;\n\n        src_utility_loading_indicator_element_loading_indicator_util__WEBPACK_IMPORTED_MODULE_4__[\"default\"].create(document.body);\n        var paymentMethodInstance = this.adyenCheckout.create(paymentMethodType, (_this$adyenCheckout$c = {}, _defineProperty(_this$adyenCheckout$c, config.sessionKey, url.searchParams.get(config.sessionKey)), _defineProperty(_this$adyenCheckout$c, \"showOrderButton\", false), _defineProperty(_this$adyenCheckout$c, \"onSubmit\", function (state, component) {\n          if (state.isValid) {\n            var extraParams = {\n              stateData: JSON.stringify(state.data)\n            };\n            var formData = src_utility_form_form_serialize_util__WEBPACK_IMPORTED_MODULE_3__[\"default\"].serialize(this.confirmOrderForm);\n            this.confirmOrder(formData, extraParams);\n          }\n        }.bind(this)), _this$adyenCheckout$c));\n        this.mountCustomPayButton(paymentMethodInstance);\n        paymentMethodInstance.submit();\n      }\n    }\n  }, {\n    key: \"getSelectedPaymentMethodKey\",\n    value: function getSelectedPaymentMethodKey() {\n      return Object.keys(_configuration_adyen__WEBPACK_IMPORTED_MODULE_5__[\"default\"].paymentMethodTypeHandlers).find(function (key) {\n        return _configuration_adyen__WEBPACK_IMPORTED_MODULE_5__[\"default\"].paymentMethodTypeHandlers[key] === adyenCheckoutOptions.selectedPaymentMethodHandler;\n      });\n    }\n  }, {\n    key: \"mountCustomPayButton\",\n    value: function mountCustomPayButton(paymentMethodInstance) {\n      var form = document.querySelector('#confirmOrderForm');\n\n      if (form) {\n        var submitButton = form.querySelector('button[type=submit]');\n\n        if (submitButton && !submitButton.disabled) {\n          var confirmButtonContainer = document.createElement('div');\n          confirmButtonContainer.id = 'adyen-confirm-button';\n          confirmButtonContainer.setAttribute('data-adyen-confirm-button', '');\n          form.appendChild(confirmButtonContainer);\n          paymentMethodInstance.mount(confirmButtonContainer);\n          submitButton.remove();\n        }\n      }\n    }\n  }, {\n    key: \"mountPaymentComponent\",\n    value: function mountPaymentComponent(paymentMethod) {\n      var isOneClick = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n      var configuration = _extends({}, paymentMethod, {\n        data: {\n          personalDetails: shopperDetails,\n          billingAddress: activeBillingAddress,\n          deliveryAddress: activeShippingAddress\n        },\n        onSubmit: function (state, component) {\n          if (state.isValid) {\n            var extraParams = {\n              stateData: JSON.stringify(state.data)\n            };\n            var formData = src_utility_form_form_serialize_util__WEBPACK_IMPORTED_MODULE_3__[\"default\"].serialize(this.confirmOrderForm);\n            src_utility_loading_indicator_element_loading_indicator_util__WEBPACK_IMPORTED_MODULE_4__[\"default\"].create(document.body);\n            this.confirmOrder(formData, extraParams);\n          } else {\n            component.showValidation();\n\n            if (this.adyenCheckout.options.environment === 'test') {\n              console.log('Payment failed: ', state);\n            }\n          }\n        }.bind(this)\n      });\n\n      if (!isOneClick && paymentMethod.type === 'scheme' && adyenCheckoutOptions.displaySaveCreditCardOption) {\n        configuration.enableStoreDetails = true;\n      }\n\n      try {\n        var paymentMethodInstance = this.adyenCheckout.create(paymentMethod.type, configuration);\n        paymentMethodInstance.mount('#' + this.el.id);\n        this.confirmFormSubmit.addEventListener('click', function (event) {\n          var form = src_helper_dom_access_helper__WEBPACK_IMPORTED_MODULE_1__[\"default\"].querySelector(document, '#confirmOrderForm');\n\n          if (!form.checkValidity()) {\n            return;\n          }\n\n          event.preventDefault();\n          this.el.parentNode.scrollIntoView({\n            behavior: \"smooth\",\n            block: \"start\"\n          });\n          paymentMethodInstance.submit();\n        }.bind(this));\n      } catch (err) {\n        console.error(paymentMethod.type, err);\n        return false;\n      }\n    }\n  }, {\n    key: \"appendGiftcardSummary\",\n    value: function appendGiftcardSummary() {\n      if (parseInt(adyenCheckoutOptions.giftcardDiscount) && this.shoppingCartSummaryBlock.length) {\n        this.shoppingCartSummaryDetails = $('<dt class=\"col-7 checkout-aside-summary-label checkout-aside-summary-total adyen-giftcard-summary\">Giftcard discount</dt>' + '<dd class=\"col-5 checkout-aside-summary-value checkout-aside-summary-total adyen-giftcard-summary\">' + adyenCheckoutOptions.currencySymbol + this.giftcardDiscount + '</dd>' + '<dt class=\"col-7 checkout-aside-summary-label checkout-aside-summary-total adyen-giftcard-summary\">Remaining amount</dt>' + '<dd class=\"col-5 checkout-aside-summary-value checkout-aside-summary-total adyen-giftcard-summary\">' + adyenCheckoutOptions.currencySymbol + this.remainingAmount + '</dd>');\n        this.shoppingCartSummaryDetails.appendTo(this.shoppingCartSummaryBlock[0]);\n      }\n    }\n    /**\n     * Set the address details based on the passed data in confirm-payment twig file\n     * If no phone number is linked to customer, do not set addressDetails and update Product Type\n     *\n     * @param extra\n     */\n\n  }, {\n    key: \"setAddressDetails\",\n    value: function setAddressDetails(extra) {\n      if (activeShippingAddress.phoneNumber !== '') {\n        extra.addressDetails = {\n          name: shopperDetails.firstName + ' ' + shopperDetails.lastName,\n          addressLine1: activeShippingAddress.street,\n          city: activeShippingAddress.city,\n          postalCode: activeShippingAddress.postalCode,\n          countryCode: activeShippingAddress.country,\n          phoneNumber: activeShippingAddress.phoneNumber\n        };\n      } else {\n        extra.productType = 'PayOnly';\n      }\n\n      return extra;\n    }\n  }]);\n\n  return ConfirmOrderPlugin;\n}(src_plugin_system_plugin_class__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ../node_modules/jquery/dist/jquery.slim.js */ \"UoTJ\")))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaDhWOC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8vdmFyL3d3dy9odG1sL3ZlbmRvci9hZHllbi9hZHllbi1zaG9wd2FyZTYvc3JjL1Jlc291cmNlcy9hcHAvc3RvcmVmcm9udC9zcmMvY2hlY2tvdXQvY29uZmlybS1vcmRlci5wbHVnaW4uanM/MTEyMyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuICogICAgICAgICAgICAgICAgICAgICAgICMjIyMjI1xuICogICAgICAgICAgICAgICAgICAgICAgICMjIyMjI1xuICogIyMjIyMjIyMjIyMjICAgICMjIyMoICMjIyMjIyAgIyMjIyMuICMjIyMjIyAgIyMjIyMjIyMjIyMjICAgIyMjIyMjIyMjIyMjXG4gKiAjIyMjIyMjIyMjIyMjICAjIyMjIyggIyMjIyMjICAjIyMjIy4gIyMjIyMjICAjIyMjIyMjIyMjIyMjICAjIyMjIyMjIyMjIyMjXG4gKiAgICAgICAgIyMjIyMjICAjIyMjIyggIyMjIyMjICAjIyMjIy4gIyMjIyMjICAjIyMjIyAgIyMjIyMjICAjIyMjIyAgIyMjIyMjXG4gKiAjIyMjIyMgIyMjIyMjICAjIyMjIyggIyMjIyMjICAjIyMjIy4gIyMjIyMjICAjIyMjIyAgIyMjIyMgICAjIyMjIyAgIyMjIyMjXG4gKiAjIyMjIyMgIyMjIyMjICAjIyMjIyggIyMjIyMjICAjIyMjIy4gIyMjIyMjICAjIyMjIyAgICAgICAgICAjIyMjIyAgIyMjIyMjXG4gKiAjIyMjIyMjIyMjIyMjICAjIyMjIyMjIyMjIyMjICAjIyMjIyMjIyMjIyMjICAjIyMjIyMjIyMjIyMjICAjIyMjIyAgIyMjIyMjXG4gKiAgIyMjIyMjIyMjIyMjICAgIyMjIyMjIyMjIyMjICAjIyMjIyMjIyMjIyMjICAgIyMjIyMjIyMjIyMjICAjIyMjIyAgIyMjIyMjXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIyMjIyMjXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAjIyMjIyMjIyMjIyMjXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAjIyMjIyMjIyMjIyNcbiAqXG4gKiBBZHllbiBQYXltZW50IE1vZHVsZVxuICpcbiAqIENvcHlyaWdodCAoYykgMjAyMCBBZHllbiBCLlYuXG4gKiBUaGlzIGZpbGUgaXMgb3BlbiBzb3VyY2UgYW5kIGF2YWlsYWJsZSB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXG4gKiBTZWUgdGhlIExJQ0VOU0UgZmlsZSBmb3IgbW9yZSBpbmZvLlxuICpcbiAqL1xuXG5pbXBvcnQgUGx1Z2luIGZyb20gJ3NyYy9wbHVnaW4tc3lzdGVtL3BsdWdpbi5jbGFzcyc7XG5pbXBvcnQgRG9tQWNjZXNzIGZyb20gJ3NyYy9oZWxwZXIvZG9tLWFjY2Vzcy5oZWxwZXInO1xuaW1wb3J0IFN0b3JlQXBpQ2xpZW50IGZyb20gJ3NyYy9zZXJ2aWNlL3N0b3JlLWFwaS1jbGllbnQuc2VydmljZSc7XG5pbXBvcnQgRm9ybVNlcmlhbGl6ZVV0aWwgZnJvbSAnc3JjL3V0aWxpdHkvZm9ybS9mb3JtLXNlcmlhbGl6ZS51dGlsJztcbmltcG9ydCBFbGVtZW50TG9hZGluZ0luZGljYXRvclV0aWwgZnJvbSAnc3JjL3V0aWxpdHkvbG9hZGluZy1pbmRpY2F0b3IvZWxlbWVudC1sb2FkaW5nLWluZGljYXRvci51dGlsJztcbmltcG9ydCBhZHllbkNvbmZpZ3VyYXRpb24gZnJvbSAnLi4vY29uZmlndXJhdGlvbi9hZHllbic7XG5cbi8qIGdsb2JhbCBhZHllbkNoZWNrb3V0T3B0aW9ucywgYWR5ZW5DaGVja291dENvbmZpZ3VyYXRpb24sIEFkeWVuQ2hlY2tvdXQgKi9cbi8qIGVzbGludC1kaXNhYmxlIG5vLXVudXNlZC12YXJzICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDb25maXJtT3JkZXJQbHVnaW4gZXh0ZW5kcyBQbHVnaW4ge1xuXG4gICAgaW5pdCgpIHtcbiAgICAgICAgdGhpcy5fY2xpZW50ID0gbmV3IFN0b3JlQXBpQ2xpZW50KCk7XG4gICAgICAgIHRoaXMuc2VsZWN0ZWRBZHllblBheW1lbnRNZXRob2QgPSB0aGlzLmdldFNlbGVjdGVkUGF5bWVudE1ldGhvZEtleSgpO1xuICAgICAgICB0aGlzLmNvbmZpcm1PcmRlckZvcm0gPSBEb21BY2Nlc3MucXVlcnlTZWxlY3Rvcihkb2N1bWVudCwgJyNjb25maXJtT3JkZXJGb3JtJyk7XG4gICAgICAgIHRoaXMuY29uZmlybUZvcm1TdWJtaXQgPSBEb21BY2Nlc3MucXVlcnlTZWxlY3Rvcihkb2N1bWVudCwgJyNjb25maXJtT3JkZXJGb3JtIGJ1dHRvblt0eXBlPVwic3VibWl0XCJdJyk7XG4gICAgICAgIHRoaXMuc2hvcHBpbmdDYXJ0U3VtbWFyeUJsb2NrID0gJCgnLmNoZWNrb3V0LWFzaWRlLXN1bW1hcnktbGlzdCcpO1xuICAgICAgICB0aGlzLnNob3BwaW5nQ2FydFN1bW1hcnlEZXRhaWxzID0gbnVsbDtcbiAgICAgICAgdGhpcy5taW5vclVuaXRzUXVvdGllbnQgPSBhZHllbkNoZWNrb3V0T3B0aW9ucy5hbW91bnQvYWR5ZW5DaGVja291dE9wdGlvbnMudG90YWxQcmljZTtcbiAgICAgICAgdGhpcy5naWZ0Y2FyZERpc2NvdW50ID0gKGFkeWVuQ2hlY2tvdXRPcHRpb25zLmdpZnRjYXJkRGlzY291bnQgLyB0aGlzLm1pbm9yVW5pdHNRdW90aWVudCkudG9GaXhlZCgyKTtcbiAgICAgICAgdGhpcy5yZW1haW5pbmdBbW91bnQgPSAoYWR5ZW5DaGVja291dE9wdGlvbnMudG90YWxQcmljZSAtIHRoaXMuZ2lmdGNhcmREaXNjb3VudCkudG9GaXhlZCgyKTtcbiAgICAgICAgdGhpcy5yZXNwb25zZUhhbmRsZXIgPSB0aGlzLmhhbmRsZVBheW1lbnRBY3Rpb247XG4gICAgICAgIHRoaXMuYWR5ZW5DaGVja291dCA9IFByb21pc2U7XG4gICAgICAgIHRoaXMuaW5pdGlhbGl6ZUNoZWNrb3V0Q29tcG9uZW50KCkudGhlbihmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIC8vIE5vbiBhZHllbiBwYXltZW50IG1ldGhvZCBzZWxlY3RlZFxuICAgICAgICAgICAgLy8gdGhpcyBjYW4gbm90IGhhcHBlbiwgYmVjYXVzZSB0aGlzIGpzIHBsdWdpbiBpcyByZWdpc3RlcmVkIG9ubHkgaWYgYWR5ZW4gbWV0aG9kcyBzZWxlY3RlZFxuICAgICAgICAgICAgLy8gUGx1Z2luTWFuYWdlci5yZWdpc3RlcignQ29uZmlybU9yZGVyUGx1Z2luJywgQ29uZmlybU9yZGVyUGx1Z2luLCAnI2FkeWVuLXBheW1lbnQtY2hlY2tvdXQtbWFzaycpO1xuICAgICAgICAgICAgaWYgKGFkeWVuQ2hlY2tvdXRPcHRpb25zLnNlbGVjdGVkUGF5bWVudE1ldGhvZFBsdWdpbklkICE9PVxuICAgICAgICAgICAgICAgIGFkeWVuQ2hlY2tvdXRPcHRpb25zLmFkeWVuUGx1Z2luSWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICghYWR5ZW5DaGVja291dE9wdGlvbnMgfHwgIWFkeWVuQ2hlY2tvdXRPcHRpb25zLnBheW1lbnRTdGF0dXNVcmwgfHxcbiAgICAgICAgICAgICAgICAhYWR5ZW5DaGVja291dE9wdGlvbnMuY2hlY2tvdXRPcmRlclVybCB8fCAhYWR5ZW5DaGVja291dE9wdGlvbnMucGF5bWVudEhhbmRsZVVybCkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0FkeWVuIHBheW1lbnQgY29uZmlndXJhdGlvbiBtaXNzaW5nLicpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRBZHllblBheW1lbnRNZXRob2QgaW4gYWR5ZW5Db25maWd1cmF0aW9uLmNvbXBvbmVudHNXaXRoUGF5QnV0dG9uKSB7XG4gICAgICAgICAgICAgICAgLy8gcmVwbGFjZXMgY29uZmlybSBidXR0b24gd2l0aCBhZHllbiBwYXkgYnV0dG9uIGZvciBwYXl3aXRoZ29vZ2xlLCBhcHBsZXBheSBldGMuXG4gICAgICAgICAgICAgICAgdGhpcy5pbml0aWFsaXplQ3VzdG9tUGF5QnV0dG9uKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChhZHllbkNvbmZpZ3VyYXRpb24udXBkYXRhYmxlUGF5bWVudE1ldGhvZHMuaW5jbHVkZXModGhpcy5zZWxlY3RlZEFkeWVuUGF5bWVudE1ldGhvZCkgJiYgIXRoaXMuc3RhdGVEYXRhKSB7XG4gICAgICAgICAgICAgICAgLy8gY3JlYXRlIGlubGluZSBjb21wb25lbnQgZm9yIGNhcmRzIGV0Yy4gYW5kIHNldCBldmVudCBsaXN0ZW5lciBmb3Igc3VibWl0IGJ1dHRvbiB0byBjb25maXJtIHBheW1lbnQgY29tcG9uZW50XG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJQYXltZW50Q29tcG9uZW50KHRoaXMuc2VsZWN0ZWRBZHllblBheW1lbnRNZXRob2QpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbmZpcm1Gb3JtU3VibWl0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5vbkNvbmZpcm1PcmRlclN1Ym1pdC5iaW5kKHRoaXMpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfS5iaW5kKHRoaXMpKTtcblxuICAgICAgICBpZiAocGFyc2VJbnQoYWR5ZW5DaGVja291dE9wdGlvbnMucGF5SW5GdWxsV2l0aEdpZnRjYXJkKSkge1xuICAgICAgICAgICAgaWYgKHBhcnNlSW50KGFkeWVuQ2hlY2tvdXRPcHRpb25zLmFkeWVuR2lmdGNhcmRTZWxlY3RlZCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFwcGVuZEdpZnRjYXJkU3VtbWFyeSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5hcHBlbmRHaWZ0Y2FyZFN1bW1hcnkoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFzeW5jIGluaXRpYWxpemVDaGVja291dENvbXBvbmVudCAoKSB7XG4gICAgICAgIGNvbnN0IHsgbG9jYWxlLCBjbGllbnRLZXksIGVudmlyb25tZW50IH0gPSBhZHllbkNoZWNrb3V0Q29uZmlndXJhdGlvbjtcbiAgICAgICAgY29uc3QgcGF5bWVudE1ldGhvZHNSZXNwb25zZSA9IGFkeWVuQ2hlY2tvdXRPcHRpb25zLnBheW1lbnRNZXRob2RzUmVzcG9uc2U7XG4gICAgICAgIGNvbnN0IEFEWUVOX0NIRUNLT1VUX0NPTkZJRyA9IHtcbiAgICAgICAgICAgIGxvY2FsZSxcbiAgICAgICAgICAgIGNsaWVudEtleSxcbiAgICAgICAgICAgIGVudmlyb25tZW50LFxuICAgICAgICAgICAgc2hvd1BheUJ1dHRvbjogdGhpcy5zZWxlY3RlZEFkeWVuUGF5bWVudE1ldGhvZCBpbiBhZHllbkNvbmZpZ3VyYXRpb24uY29tcG9uZW50c1dpdGhQYXlCdXR0b24sXG4gICAgICAgICAgICBoYXNIb2xkZXJOYW1lOiB0cnVlLFxuICAgICAgICAgICAgcGF5bWVudE1ldGhvZHNSZXNwb25zZTogSlNPTi5wYXJzZShwYXltZW50TWV0aG9kc1Jlc3BvbnNlKSxcbiAgICAgICAgICAgIG9uQWRkaXRpb25hbERldGFpbHM6IHRoaXMuaGFuZGxlT25BZGRpdGlvbmFsRGV0YWlscy5iaW5kKHRoaXMpLFxuICAgICAgICAgICAgY291bnRyeUNvZGU6IGFjdGl2ZVNoaXBwaW5nQWRkcmVzcy5jb3VudHJ5LFxuICAgICAgICAgICAgcGF5bWVudE1ldGhvZHNDb25maWd1cmF0aW9uOiB7XG4gICAgICAgICAgICAgICAgY2FyZDoge1xuICAgICAgICAgICAgICAgICAgICBoYXNIb2xkZXJOYW1lOiB0cnVlLFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuYWR5ZW5DaGVja291dCA9IGF3YWl0IEFkeWVuQ2hlY2tvdXQoQURZRU5fQ0hFQ0tPVVRfQ09ORklHKTtcbiAgICB9XG5cbiAgICBoYW5kbGVPbkFkZGl0aW9uYWxEZXRhaWxzIChzdGF0ZSkge1xuICAgICAgICB0aGlzLl9jbGllbnQucG9zdChcbiAgICAgICAgICAgIGAke2FkeWVuQ2hlY2tvdXRPcHRpb25zLnBheW1lbnREZXRhaWxzVXJsfWAsXG4gICAgICAgICAgICBKU09OLnN0cmluZ2lmeSh7b3JkZXJJZDogdGhpcy5vcmRlcklkLCBzdGF0ZURhdGE6IHN0YXRlLmRhdGF9KSxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChwYXltZW50UmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fY2xpZW50Ll9yZXF1ZXN0LnN0YXR1cyAhPT0gMjAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uLmhyZWYgPSB0aGlzLmVycm9yVXJsLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLnJlc3BvbnNlSGFuZGxlcihwYXltZW50UmVzcG9uc2UpO1xuICAgICAgICAgICAgfS5iaW5kKHRoaXMpXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgb25Db25maXJtT3JkZXJTdWJtaXQoZXZlbnQpIHtcbiAgICAgICAgY29uc3QgZm9ybSA9ICBEb21BY2Nlc3MucXVlcnlTZWxlY3Rvcihkb2N1bWVudCwgJyNjb25maXJtT3JkZXJGb3JtJyk7XG4gICAgICAgIGlmICghZm9ybS5jaGVja1ZhbGlkaXR5KCkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBFbGVtZW50TG9hZGluZ0luZGljYXRvclV0aWwuY3JlYXRlKGRvY3VtZW50LmJvZHkpO1xuICAgICAgICBjb25zdCBmb3JtRGF0YSA9IEZvcm1TZXJpYWxpemVVdGlsLnNlcmlhbGl6ZShmb3JtKTtcbiAgICAgICAgdGhpcy5jb25maXJtT3JkZXIoZm9ybURhdGEpO1xuICAgIH1cblxuICAgIHJlbmRlclBheW1lbnRDb21wb25lbnQodHlwZSkge1xuICAgICAgICBpZiAodHlwZSA9PT0gJ29uZWNsaWNrJykge1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJTdG9yZWRQYXltZW50TWV0aG9kQ29tcG9uZW50cygpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gR2V0IHRoZSBwYXltZW50IG1ldGhvZCBvYmplY3QgZnJvbSBwYXltZW50TWV0aG9kc1Jlc3BvbnNlXG4gICAgICAgIGxldCBwYXltZW50TWV0aG9kQ29uZmlncyA9ICQuZ3JlcCh0aGlzLmFkeWVuQ2hlY2tvdXQucGF5bWVudE1ldGhvZHNSZXNwb25zZS5wYXltZW50TWV0aG9kcywgZnVuY3Rpb24ocGF5bWVudE1ldGhvZCkge1xuICAgICAgICAgICAgcmV0dXJuIHBheW1lbnRNZXRob2RbJ3R5cGUnXSA9PT0gdHlwZTtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChwYXltZW50TWV0aG9kQ29uZmlncy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmFkeWVuQ2hlY2tvdXQub3B0aW9ucy5lbnZpcm9ubWVudCA9PT0gJ3Rlc3QnKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignUGF5bWVudCBtZXRob2QgY29uZmlndXJhdGlvbiBub3QgZm91bmQuICcsIHR5cGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGxldCBwYXltZW50TWV0aG9kID0gcGF5bWVudE1ldGhvZENvbmZpZ3NbMF07XG5cbiAgICAgICAgLy8gTW91bnQgcGF5bWVudCBtZXRob2QgaW5zdGFuY2VcbiAgICAgICAgdGhpcy5tb3VudFBheW1lbnRDb21wb25lbnQocGF5bWVudE1ldGhvZCwgZmFsc2UpO1xuICAgIH1cblxuICAgIHJlbmRlclN0b3JlZFBheW1lbnRNZXRob2RDb21wb25lbnRzKCkge1xuICAgICAgICAvLyBJdGVyYXRlIHRocm91Z2ggYW5kIHJlbmRlciB0aGUgc3RvcmVkIHBheW1lbnQgbWV0aG9kc1xuICAgICAgICBjb25zdCBzdG9yZWRQYXltZW50TWV0aG9kcyA9IHRoaXMuYWR5ZW5DaGVja291dC5wYXltZW50TWV0aG9kc1Jlc3BvbnNlLnN0b3JlZFBheW1lbnRNZXRob2RzO1xuICAgICAgICAvLyBNb3VudCBwYXltZW50IG1ldGhvZCBpbnN0YW5jZVxuICAgICAgICBzdG9yZWRQYXltZW50TWV0aG9kcy5mb3JFYWNoKChwYXltZW50TWV0aG9kKSA9PiB7XG4gICAgICAgICAgICBsZXQgc2VsZWN0b3IgPSBgW2RhdGEtYWR5ZW4tc3RvcmVkLXBheW1lbnQtbWV0aG9kLWlkPVwiJHtwYXltZW50TWV0aG9kLmlkfVwiXWA7XG4gICAgICAgICAgICB0aGlzLm1vdW50UGF5bWVudENvbXBvbmVudChwYXltZW50TWV0aG9kLCBzZWxlY3RvciwgdHJ1ZSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuc2hvd1NlbGVjdGVkU3RvcmVkUGF5bWVudE1ldGhvZCgpO1xuICAgICAgICAkKCdbbmFtZT1hZHllblN0b3JlZFBheW1lbnRNZXRob2RJZF0nKS5jaGFuZ2UodGhpcy5zaG93U2VsZWN0ZWRTdG9yZWRQYXltZW50TWV0aG9kKTtcbiAgICB9XG5cbiAgICBzaG93U2VsZWN0ZWRTdG9yZWRQYXltZW50TWV0aG9kKCkge1xuICAgICAgICAvLyBPbmx5IHNob3cgdGhlIGNvbXBvbmVudCBmb3IgdGhlIHNlbGVjdGVkIHN0b3JlZCBwYXltZW50IG1ldGhvZFxuICAgICAgICAkKCcuc3RvcmVkLXBheW1lbnQtY29tcG9uZW50JykuaGlkZSgpO1xuICAgICAgICBsZXQgc2VsZWN0ZWQgPSAkKCdbbmFtZT1hZHllblN0b3JlZFBheW1lbnRNZXRob2RJZF06Y2hlY2tlZCcpLnZhbCgpO1xuICAgICAgICAkKGBbZGF0YS1hZHllbi1zdG9yZWQtcGF5bWVudC1tZXRob2QtaWQ9XCIke3NlbGVjdGVkfVwiXWApLnNob3coKTtcbiAgICB9XG5cbiAgICBjb25maXJtT3JkZXIoZm9ybURhdGEsIGV4dHJhUGFyYW1zPSB7fSkge1xuICAgICAgICBjb25zdCBvcmRlcklkID0gYWR5ZW5DaGVja291dE9wdGlvbnMub3JkZXJJZDtcbiAgICAgICAgaWYgKCEhb3JkZXJJZCkgeyAvL09ubHkgdXNlZCBpZiB0aGUgb3JkZXIgaXMgYmVpbmcgZWRpdGVkXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVBheW1lbnQoZm9ybURhdGEsIG9yZGVySWQsIGV4dHJhUGFyYW1zKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5jcmVhdGVPcmRlcihmb3JtRGF0YSwgZXh0cmFQYXJhbXMpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdXBkYXRlUGF5bWVudChmb3JtRGF0YSwgb3JkZXJJZCwgZXh0cmFQYXJhbXMpIHtcbiAgICAgICAgZm9ybURhdGEuc2V0KCdvcmRlcklkJywgb3JkZXJJZCk7XG5cbiAgICAgICAgdGhpcy5fY2xpZW50LnBvc3QoXG4gICAgICAgICAgICBhZHllbkNoZWNrb3V0T3B0aW9ucy51cGRhdGVQYXltZW50VXJsLFxuICAgICAgICAgICAgZm9ybURhdGEsXG4gICAgICAgICAgICB0aGlzLmFmdGVyU2V0UGF5bWVudC5iaW5kKHRoaXMsIGV4dHJhUGFyYW1zKVxuICAgICAgICApO1xuICAgIH1cblxuICAgIGNyZWF0ZU9yZGVyKGZvcm1EYXRhLCBleHRyYVBhcmFtcykge1xuICAgICAgICBpZiAocGFyc2VJbnQoYWR5ZW5DaGVja291dE9wdGlvbnMuZ2lmdGNhcmREaXNjb3VudCkgJiYgIWFkeWVuQ2hlY2tvdXRPcHRpb25zLnBheUluRnVsbFdpdGhHaWZ0Y2FyZCkge1xuICAgICAgICAgICAgLy8gY3JlYXRlIEFkeWVuIG9yZGVyIGZvciBwYXJ0aWFsIHBheW1lbnRzXG4gICAgICAgICAgICB0aGlzLl9jbGllbnQucG9zdChcbiAgICAgICAgICAgICAgICBhZHllbkNoZWNrb3V0T3B0aW9ucy5jcmVhdGVPcmRlclVybCxcbiAgICAgICAgICAgICAgICBKU09OLnN0cmluZ2lmeSh7b3JkZXJBbW91bnQ6IGFkeWVuQ2hlY2tvdXRPcHRpb25zLmFtb3VudCwgY3VycmVuY3k6IGFkeWVuQ2hlY2tvdXRPcHRpb25zLmN1cnJlbmN5fSksXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFkeWVuT3JkZXIgPSBKU09OLnBhcnNlKHJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFkeWVuT3JkZXIucmVzdWx0Q29kZSA9PT0gJ1N1Y2Nlc3MnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBleHRyYVBhcmFtcyA9IE9iamVjdC5hc3NpZ24oZXh0cmFQYXJhbXMsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcmRlcjogYWR5ZW5PcmRlclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAvLyBjcmVhdGUgc2hvcHdhcmUgb3JkZXJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fY2xpZW50LnBvc3QoXG4gICAgICAgICAgICAgICAgICAgICAgICBhZHllbkNoZWNrb3V0T3B0aW9ucy5jaGVja291dE9yZGVyVXJsLFxuICAgICAgICAgICAgICAgICAgICAgICAgZm9ybURhdGEsXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFmdGVyQ3JlYXRlT3JkZXIuYmluZCh0aGlzLCBleHRyYVBhcmFtcylcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9LmJpbmQodGhpcylcbiAgICAgICAgICAgIClcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2NsaWVudC5wb3N0KFxuICAgICAgICAgICAgICAgIGFkeWVuQ2hlY2tvdXRPcHRpb25zLmNoZWNrb3V0T3JkZXJVcmwsXG4gICAgICAgICAgICAgICAgZm9ybURhdGEsXG4gICAgICAgICAgICAgICAgdGhpcy5hZnRlckNyZWF0ZU9yZGVyLmJpbmQodGhpcywgZXh0cmFQYXJhbXMpXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYWZ0ZXJDcmVhdGVPcmRlcihleHRyYVBhcmFtcz17fSwgcmVzcG9uc2UpIHtcbiAgICAgICAgbGV0IG9yZGVyO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgb3JkZXIgPSBKU09OLnBhcnNlKHJlc3BvbnNlKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIEVsZW1lbnRMb2FkaW5nSW5kaWNhdG9yVXRpbC5yZW1vdmUoZG9jdW1lbnQuYm9keSk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnRXJyb3I6IGludmFsaWQgcmVzcG9uc2UgZnJvbSBTaG9wd2FyZSBBUEknLCByZXNwb25zZSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLm9yZGVySWQgPSBvcmRlci5pZDtcbiAgICAgICAgdGhpcy5maW5pc2hVcmwgPSBuZXcgVVJMKFxuICAgICAgICAgICAgbG9jYXRpb24ub3JpZ2luICsgYWR5ZW5DaGVja291dE9wdGlvbnMucGF5bWVudEZpbmlzaFVybCk7XG4gICAgICAgIHRoaXMuZmluaXNoVXJsLnNlYXJjaFBhcmFtcy5zZXQoJ29yZGVySWQnLCBvcmRlci5pZCk7XG4gICAgICAgIHRoaXMuZXJyb3JVcmwgPSBuZXcgVVJMKFxuICAgICAgICAgICAgbG9jYXRpb24ub3JpZ2luICsgYWR5ZW5DaGVja291dE9wdGlvbnMucGF5bWVudEVycm9yVXJsKTtcbiAgICAgICAgdGhpcy5lcnJvclVybC5zZWFyY2hQYXJhbXMuc2V0KCdvcmRlcklkJywgb3JkZXIuaWQpO1xuICAgICAgICBsZXQgcGFyYW1zID0ge1xuICAgICAgICAgICAgJ29yZGVySWQnOiB0aGlzLm9yZGVySWQsXG4gICAgICAgICAgICAnZmluaXNoVXJsJzogdGhpcy5maW5pc2hVcmwudG9TdHJpbmcoKSxcbiAgICAgICAgICAgICdlcnJvclVybCc6IHRoaXMuZXJyb3JVcmwudG9TdHJpbmcoKSxcbiAgICAgICAgfTtcbiAgICAgICAgLy8gQXBwZW5kIGFueSBleHRyYSBwYXJhbWV0ZXJzIHBhc3NlZCwgZS5nLiBzdGF0ZURhdGFcbiAgICAgICAgZm9yIChjb25zdCBwcm9wZXJ0eSBpbiBleHRyYVBhcmFtcykge1xuICAgICAgICAgICAgcGFyYW1zW3Byb3BlcnR5XSA9IGV4dHJhUGFyYW1zW3Byb3BlcnR5XTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2NsaWVudC5wb3N0KFxuICAgICAgICAgICAgYWR5ZW5DaGVja291dE9wdGlvbnMucGF5bWVudEhhbmRsZVVybCxcbiAgICAgICAgICAgIEpTT04uc3RyaW5naWZ5KHBhcmFtcyksXG4gICAgICAgICAgICB0aGlzLmFmdGVyUGF5T3JkZXIuYmluZCh0aGlzLCB0aGlzLm9yZGVySWQpLFxuICAgICAgICApO1xuICAgIH1cblxuICAgIGFmdGVyU2V0UGF5bWVudChleHRyYVBhcmFtcz17fSwgcmVzcG9uc2UpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlT2JqZWN0ID0gSlNPTi5wYXJzZShyZXNwb25zZSk7XG4gICAgICAgICAgICBpZiAocmVzcG9uc2VPYmplY3Quc3VjY2Vzcykge1xuICAgICAgICAgICAgICAgIHRoaXMuYWZ0ZXJDcmVhdGVPcmRlcihleHRyYVBhcmFtcyxcbiAgICAgICAgICAgICAgICAgICAgSlNPTi5zdHJpbmdpZnkoe2lkOiBhZHllbkNoZWNrb3V0T3B0aW9ucy5vcmRlcklkfSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICBFbGVtZW50TG9hZGluZ0luZGljYXRvclV0aWwucmVtb3ZlKGRvY3VtZW50LmJvZHkpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ0Vycm9yOiBpbnZhbGlkIHJlc3BvbnNlIGZyb20gU2hvcHdhcmUgQVBJJywgcmVzcG9uc2UpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYWZ0ZXJQYXlPcmRlcihvcmRlcklkLCByZXNwb25zZSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmVzcG9uc2UgPSBKU09OLnBhcnNlKHJlc3BvbnNlKTtcbiAgICAgICAgICAgIHRoaXMucmV0dXJuVXJsID0gcmVzcG9uc2UucmVkaXJlY3RVcmw7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIEVsZW1lbnRMb2FkaW5nSW5kaWNhdG9yVXRpbC5yZW1vdmUoZG9jdW1lbnQuYm9keSk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnRXJyb3I6IGludmFsaWQgcmVzcG9uc2UgZnJvbSBTaG9wd2FyZSBBUEknLCByZXNwb25zZSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBJZiBwYXltZW50IGNhbGwgcmV0dXJucyB0aGUgZXJyb3JVcmwsIHRoZW4gbm8gbmVlZCB0byBwcm9jZWVkIGZ1cnRoZXIuXG4gICAgICAgIC8vIFJlZGlyZWN0IHRvIGVycm9yIHBhZ2UuXG4gICAgICAgIGlmICh0aGlzLnJldHVyblVybCA9PT0gdGhpcy5lcnJvclVybC50b1N0cmluZygpKSB7XG4gICAgICAgICAgICBsb2NhdGlvbi5ocmVmID0gdGhpcy5yZXR1cm5Vcmw7XG4gICAgICAgIH1cblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdGhpcy5fY2xpZW50LnBvc3QoXG4gICAgICAgICAgICAgICAgYCR7YWR5ZW5DaGVja291dE9wdGlvbnMucGF5bWVudFN0YXR1c1VybH1gLFxuICAgICAgICAgICAgICAgIEpTT04uc3RyaW5naWZ5KHsnb3JkZXJJZCc6IG9yZGVySWR9KSxcbiAgICAgICAgICAgICAgICB0aGlzLnJlc3BvbnNlSGFuZGxlci5iaW5kKHRoaXMpLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBoYW5kbGVQYXltZW50QWN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBwYXltZW50UmVzcG9uc2UgPSBKU09OLnBhcnNlKHJlc3BvbnNlKTtcbiAgICAgICAgICAgIGlmIChwYXltZW50UmVzcG9uc2UuaXNGaW5hbCB8fCBwYXltZW50UmVzcG9uc2UuYWN0aW9uLnR5cGUgPT09ICd2b3VjaGVyJykge1xuICAgICAgICAgICAgICAgIGxvY2F0aW9uLmhyZWYgPSB0aGlzLnJldHVyblVybDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghIXBheW1lbnRSZXNwb25zZS5hY3Rpb24pIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFkeWVuQ2hlY2tvdXRcbiAgICAgICAgICAgICAgICAgICAgLmNyZWF0ZUZyb21BY3Rpb24ocGF5bWVudFJlc3BvbnNlLmFjdGlvbilcbiAgICAgICAgICAgICAgICAgICAgLm1vdW50KCdbZGF0YS1hZHllbi1wYXltZW50LWFjdGlvbi1jb250YWluZXJdJyk7XG4gICAgICAgICAgICAgICAgY29uc3QgbW9kYWxBY3Rpb25UeXBlcyA9IFsndGhyZWVEUzInLCAncXJDb2RlJ11cbiAgICAgICAgICAgICAgICBpZiAobW9kYWxBY3Rpb25UeXBlcy5pbmNsdWRlcyhwYXltZW50UmVzcG9uc2UuYWN0aW9uLnR5cGUpKSB7XG4gICAgICAgICAgICAgICAgICAgICQoJ1tkYXRhLWFkeWVuLXBheW1lbnQtYWN0aW9uLW1vZGFsXScpLm1vZGFsKHtzaG93OiB0cnVlfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGluaXRpYWxpemVDdXN0b21QYXlCdXR0b24oKSB7XG5cbiAgICAgICAgY29uc3QgY29tcG9uZW50Q29uZmlnID0gYWR5ZW5Db25maWd1cmF0aW9uLmNvbXBvbmVudHNXaXRoUGF5QnV0dG9uW3RoaXMuc2VsZWN0ZWRBZHllblBheW1lbnRNZXRob2RdO1xuXG4gICAgICAgIHRoaXMuY29tcGxldGVQZW5kaW5nUGF5bWVudCh0aGlzLnNlbGVjdGVkQWR5ZW5QYXltZW50TWV0aG9kLCBjb21wb25lbnRDb25maWcpO1xuXG4gICAgICAgIC8vIGdldCBzZWxlY3RlZCBwYXltZW50IG1ldGhvZCBvYmplY3RcbiAgICAgICAgbGV0IHNlbGVjdGVkUGF5bWVudE1ldGhvZCA9IHRoaXMuYWR5ZW5DaGVja291dC5wYXltZW50TWV0aG9kc1Jlc3BvbnNlLnBheW1lbnRNZXRob2RzXG4gICAgICAgICAgICAuZmlsdGVyKGl0ZW0gPT4gaXRlbS50eXBlID09PSB0aGlzLnNlbGVjdGVkQWR5ZW5QYXltZW50TWV0aG9kKTtcblxuICAgICAgICBpZiAoc2VsZWN0ZWRQYXltZW50TWV0aG9kLmxlbmd0aCA8IDEpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBsZXQgc2VsZWN0ZWRQYXltZW50TWV0aG9kT2JqZWN0ID0gc2VsZWN0ZWRQYXltZW50TWV0aG9kWzBdO1xuXG4gICAgICAgIGlmICghYWR5ZW5DaGVja291dE9wdGlvbnMuYW1vdW50KSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gZmV0Y2ggQ2FydC9PcmRlciB0b3RhbCBhbW91bnQuJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoISFjb21wb25lbnRDb25maWcucHJlUGF5UmVkaXJlY3QpIHtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyUHJlUGF5bWVudEJ1dHRvbihjb21wb25lbnRDb25maWcsIHNlbGVjdGVkUGF5bWVudE1ldGhvZE9iamVjdCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBQQVlfQlVUVE9OX0NPTkZJRyA9IE9iamVjdC5hc3NpZ24oY29tcG9uZW50Q29uZmlnLmV4dHJhLCBzZWxlY3RlZFBheW1lbnRNZXRob2RPYmplY3QsIHtcbiAgICAgICAgICAgIGFtb3VudDoge1xuICAgICAgICAgICAgICAgIHZhbHVlOiBhZHllbkNoZWNrb3V0T3B0aW9ucy5hbW91bnQsXG4gICAgICAgICAgICAgICAgY3VycmVuY3k6IGFkeWVuQ2hlY2tvdXRPcHRpb25zLmN1cnJlbmN5LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICBwZXJzb25hbERldGFpbHM6IHNob3BwZXJEZXRhaWxzLFxuICAgICAgICAgICAgICAgIGJpbGxpbmdBZGRyZXNzOiBhY3RpdmVCaWxsaW5nQWRkcmVzcyxcbiAgICAgICAgICAgICAgICBkZWxpdmVyeUFkZHJlc3M6IGFjdGl2ZVNoaXBwaW5nQWRkcmVzc1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uQ2xpY2s6IChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIWNvbXBvbmVudENvbmZpZy5vbkNsaWNrKHJlc29sdmUsIHJlamVjdCwgdGhpcykpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBFbGVtZW50TG9hZGluZ0luZGljYXRvclV0aWwuY3JlYXRlKGRvY3VtZW50LmJvZHkpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uU3VibWl0OiBmdW5jdGlvbiAoc3RhdGUsIGNvbXBvbmVudCkge1xuICAgICAgICAgICAgICAgIGlmIChzdGF0ZS5pc1ZhbGlkKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBleHRyYVBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlRGF0YTogSlNPTi5zdHJpbmdpZnkoc3RhdGUuZGF0YSlcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGZvcm1EYXRhID0gRm9ybVNlcmlhbGl6ZVV0aWwuc2VyaWFsaXplKHRoaXMuY29uZmlybU9yZGVyRm9ybSk7XG4gICAgICAgICAgICAgICAgICAgIC8vIFNldCBhIGN1c3RvbSByZXNwb25zZSBhY3Rpb24gaGFuZGxlciBpZiBhdmFpbGFibGUuXG4gICAgICAgICAgICAgICAgICAgIGlmICgncmVzcG9uc2VIYW5kbGVyJyBpbiBjb21wb25lbnRDb25maWcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVzcG9uc2VIYW5kbGVyID0gY29tcG9uZW50Q29uZmlnLnJlc3BvbnNlSGFuZGxlci5iaW5kKGNvbXBvbmVudCwgdGhpcyk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbmZpcm1PcmRlcihmb3JtRGF0YSwgZXh0cmFQYXJhbXMpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudC5zaG93VmFsaWRhdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5hZHllbkNoZWNrb3V0Lm9wdGlvbnMuZW52aXJvbm1lbnQgPT09ICd0ZXN0Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1BheW1lbnQgZmFpbGVkOiAnLCBzdGF0ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LmJpbmQodGhpcyksXG4gICAgICAgICAgICBvbkNhbmNlbDogKGRhdGEsIGNvbXBvbmVudCkgPT4ge1xuICAgICAgICAgICAgICAgIEVsZW1lbnRMb2FkaW5nSW5kaWNhdG9yVXRpbC5yZW1vdmUoZG9jdW1lbnQuYm9keSk7XG4gICAgICAgICAgICAgICAgY29tcG9uZW50Q29uZmlnLm9uQ2FuY2VsKGRhdGEsIGNvbXBvbmVudCwgdGhpcyk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25FcnJvcjogKGVycm9yLCBjb21wb25lbnQpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoY29tcG9uZW50LnByb3BzLm5hbWUgPT09ICdQYXlQYWwnICYmIGVycm9yLm5hbWUgPT09ICdDQU5DRUwnKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2NsaWVudC5wb3N0KFxuICAgICAgICAgICAgICAgICAgICAgICAgYCR7YWR5ZW5DaGVja291dE9wdGlvbnMuY2FuY2VsT3JkZXJUcmFuc2FjdGlvblVybH1gLFxuICAgICAgICAgICAgICAgICAgICAgICAgSlNPTi5zdHJpbmdpZnkoe29yZGVySWQ6IHRoaXMub3JkZXJJZH0pXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgRWxlbWVudExvYWRpbmdJbmRpY2F0b3JVdGlsLnJlbW92ZShkb2N1bWVudC5ib2R5KTtcbiAgICAgICAgICAgICAgICBjb21wb25lbnRDb25maWcub25FcnJvcihlcnJvciwgY29tcG9uZW50LCB0aGlzKTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IHBheW1lbnRNZXRob2RJbnN0YW5jZSA9IHRoaXMuYWR5ZW5DaGVja291dC5jcmVhdGUoXG4gICAgICAgICAgICBzZWxlY3RlZFBheW1lbnRNZXRob2RPYmplY3QudHlwZSxcbiAgICAgICAgICAgIFBBWV9CVVRUT05fQ09ORklHXG4gICAgICAgICk7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmICgnaXNBdmFpbGFibGUnIGluIHBheW1lbnRNZXRob2RJbnN0YW5jZSkge1xuICAgICAgICAgICAgICAgIHBheW1lbnRNZXRob2RJbnN0YW5jZS5pc0F2YWlsYWJsZSgpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1vdW50Q3VzdG9tUGF5QnV0dG9uKHBheW1lbnRNZXRob2RJbnN0YW5jZSk7XG4gICAgICAgICAgICAgICAgfS5iaW5kKHRoaXMpKS5jYXRjaChlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coc2VsZWN0ZWRQYXltZW50TWV0aG9kT2JqZWN0LnR5cGUgKyAnIGlzIG5vdCBhdmFpbGFibGUnLCBlKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5tb3VudEN1c3RvbVBheUJ1dHRvbihwYXltZW50TWV0aG9kSW5zdGFuY2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJlbmRlclByZVBheW1lbnRCdXR0b24oY29tcG9uZW50Q29uZmlnLCBzZWxlY3RlZFBheW1lbnRNZXRob2RPYmplY3QpIHtcbiAgICAgICAgaWYgKHNlbGVjdGVkUGF5bWVudE1ldGhvZE9iamVjdC50eXBlID09PSAnYW1hem9ucGF5Jykge1xuICAgICAgICAgICAgY29tcG9uZW50Q29uZmlnLmV4dHJhID0gdGhpcy5zZXRBZGRyZXNzRGV0YWlscyhjb21wb25lbnRDb25maWcuZXh0cmEpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IFBSRV9QQVlfQlVUVE9OID0gT2JqZWN0LmFzc2lnbihjb21wb25lbnRDb25maWcuZXh0cmEsIHNlbGVjdGVkUGF5bWVudE1ldGhvZE9iamVjdCwge1xuICAgICAgICAgICAgY29uZmlndXJhdGlvbjogc2VsZWN0ZWRQYXltZW50TWV0aG9kT2JqZWN0LmNvbmZpZ3VyYXRpb24sXG4gICAgICAgICAgICBhbW91bnQ6IHtcbiAgICAgICAgICAgICAgICB2YWx1ZTogYWR5ZW5DaGVja291dE9wdGlvbnMuYW1vdW50LFxuICAgICAgICAgICAgICAgIGN1cnJlbmN5OiBhZHllbkNoZWNrb3V0T3B0aW9ucy5jdXJyZW5jeSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvbkNsaWNrOiAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCFjb21wb25lbnRDb25maWcub25DbGljayhyZXNvbHZlLCByZWplY3QsIHRoaXMpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgRWxlbWVudExvYWRpbmdJbmRpY2F0b3JVdGlsLmNyZWF0ZShkb2N1bWVudC5ib2R5KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvbkVycm9yOiAoZXJyb3IsIGNvbXBvbmVudCkgPT4ge1xuICAgICAgICAgICAgICAgIEVsZW1lbnRMb2FkaW5nSW5kaWNhdG9yVXRpbC5yZW1vdmUoZG9jdW1lbnQuYm9keSk7XG4gICAgICAgICAgICAgICAgY29tcG9uZW50Q29uZmlnLm9uRXJyb3IoZXJyb3IsIGNvbXBvbmVudCwgdGhpcyk7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgbGV0IHBheW1lbnRNZXRob2RJbnN0YW5jZSA9IHRoaXMuYWR5ZW5DaGVja291dC5jcmVhdGUoXG4gICAgICAgICAgICBzZWxlY3RlZFBheW1lbnRNZXRob2RPYmplY3QudHlwZSxcbiAgICAgICAgICAgIFBSRV9QQVlfQlVUVE9OXG4gICAgICAgICk7XG4gICAgICAgIHRoaXMubW91bnRDdXN0b21QYXlCdXR0b24ocGF5bWVudE1ldGhvZEluc3RhbmNlKTtcbiAgICB9XG5cbiAgICBjb21wbGV0ZVBlbmRpbmdQYXltZW50KHBheW1lbnRNZXRob2RUeXBlLCBjb25maWcpIHtcbiAgICAgICAgY29uc3QgdXJsID0gbmV3IFVSTChsb2NhdGlvbi5ocmVmKTtcbiAgICAgICAgLy8gQ2hlY2sgZm9yIHBlbmRpbmcgcGF5bWVudCBzZXNzaW9uXG4gICAgICAgIGlmICh1cmwuc2VhcmNoUGFyYW1zLmhhcyhjb25maWcuc2Vzc2lvbktleSkpIHtcbiAgICAgICAgICAgIEVsZW1lbnRMb2FkaW5nSW5kaWNhdG9yVXRpbC5jcmVhdGUoZG9jdW1lbnQuYm9keSk7XG4gICAgICAgICAgICBjb25zdCBwYXltZW50TWV0aG9kSW5zdGFuY2UgPSB0aGlzLmFkeWVuQ2hlY2tvdXQuY3JlYXRlKHBheW1lbnRNZXRob2RUeXBlLCB7XG4gICAgICAgICAgICAgICAgW2NvbmZpZy5zZXNzaW9uS2V5XTogdXJsLnNlYXJjaFBhcmFtcy5nZXQoY29uZmlnLnNlc3Npb25LZXkpLFxuICAgICAgICAgICAgICAgIHNob3dPcmRlckJ1dHRvbjogZmFsc2UsXG4gICAgICAgICAgICAgICAgb25TdWJtaXQ6IGZ1bmN0aW9uIChzdGF0ZSwgY29tcG9uZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzdGF0ZS5pc1ZhbGlkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgZXh0cmFQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGVEYXRhOiBKU09OLnN0cmluZ2lmeShzdGF0ZS5kYXRhKVxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBmb3JtRGF0YSA9IEZvcm1TZXJpYWxpemVVdGlsLnNlcmlhbGl6ZSh0aGlzLmNvbmZpcm1PcmRlckZvcm0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb25maXJtT3JkZXIoZm9ybURhdGEsIGV4dHJhUGFyYW1zKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0uYmluZCh0aGlzKSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5tb3VudEN1c3RvbVBheUJ1dHRvbihwYXltZW50TWV0aG9kSW5zdGFuY2UpO1xuICAgICAgICAgICAgcGF5bWVudE1ldGhvZEluc3RhbmNlLnN1Ym1pdCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0U2VsZWN0ZWRQYXltZW50TWV0aG9kS2V5KCkge1xuICAgICAgICByZXR1cm4gT2JqZWN0LmtleXMoXG4gICAgICAgICAgICBhZHllbkNvbmZpZ3VyYXRpb24ucGF5bWVudE1ldGhvZFR5cGVIYW5kbGVycykuZmluZChcbiAgICAgICAgICAgICAgICBrZXkgPT4gYWR5ZW5Db25maWd1cmF0aW9uLnBheW1lbnRNZXRob2RUeXBlSGFuZGxlcnNba2V5XSA9PT1cbiAgICAgICAgICAgICAgICAgICAgYWR5ZW5DaGVja291dE9wdGlvbnMuc2VsZWN0ZWRQYXltZW50TWV0aG9kSGFuZGxlcik7XG4gICAgfVxuXG4gICAgbW91bnRDdXN0b21QYXlCdXR0b24ocGF5bWVudE1ldGhvZEluc3RhbmNlKSB7XG4gICAgICAgIGxldCBmb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2NvbmZpcm1PcmRlckZvcm0nKTtcbiAgICAgICAgaWYgKGZvcm0pIHtcbiAgICAgICAgICAgIGxldCBzdWJtaXRCdXR0b24gPSBmb3JtLnF1ZXJ5U2VsZWN0b3IoJ2J1dHRvblt0eXBlPXN1Ym1pdF0nKTtcbiAgICAgICAgICAgIGlmIChzdWJtaXRCdXR0b24gJiYgIXN1Ym1pdEJ1dHRvbi5kaXNhYmxlZCkge1xuICAgICAgICAgICAgICAgIGxldCBjb25maXJtQnV0dG9uQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICAgICAgY29uZmlybUJ1dHRvbkNvbnRhaW5lci5pZCA9ICdhZHllbi1jb25maXJtLWJ1dHRvbic7XG4gICAgICAgICAgICAgICAgY29uZmlybUJ1dHRvbkNvbnRhaW5lci5zZXRBdHRyaWJ1dGUoJ2RhdGEtYWR5ZW4tY29uZmlybS1idXR0b24nLCAnJylcbiAgICAgICAgICAgICAgICBmb3JtLmFwcGVuZENoaWxkKGNvbmZpcm1CdXR0b25Db250YWluZXIpO1xuICAgICAgICAgICAgICAgIHBheW1lbnRNZXRob2RJbnN0YW5jZS5tb3VudChjb25maXJtQnV0dG9uQ29udGFpbmVyKTtcbiAgICAgICAgICAgICAgICBzdWJtaXRCdXR0b24ucmVtb3ZlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBtb3VudFBheW1lbnRDb21wb25lbnQocGF5bWVudE1ldGhvZCwgaXNPbmVDbGljayA9IGZhbHNlKSB7XG4gICAgICAgIGNvbnN0IGNvbmZpZ3VyYXRpb24gPSBPYmplY3QuYXNzaWduKHt9LCBwYXltZW50TWV0aG9kLCB7XG4gICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgcGVyc29uYWxEZXRhaWxzOiBzaG9wcGVyRGV0YWlscyxcbiAgICAgICAgICAgICAgICBiaWxsaW5nQWRkcmVzczogYWN0aXZlQmlsbGluZ0FkZHJlc3MsXG4gICAgICAgICAgICAgICAgZGVsaXZlcnlBZGRyZXNzOiBhY3RpdmVTaGlwcGluZ0FkZHJlc3NcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvblN1Ym1pdDogZnVuY3Rpb24oc3RhdGUsIGNvbXBvbmVudCkge1xuICAgICAgICAgICAgICAgIGlmIChzdGF0ZS5pc1ZhbGlkKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBleHRyYVBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlRGF0YTogSlNPTi5zdHJpbmdpZnkoc3RhdGUuZGF0YSlcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGZvcm1EYXRhID0gRm9ybVNlcmlhbGl6ZVV0aWwuc2VyaWFsaXplKHRoaXMuY29uZmlybU9yZGVyRm9ybSk7XG4gICAgICAgICAgICAgICAgICAgIEVsZW1lbnRMb2FkaW5nSW5kaWNhdG9yVXRpbC5jcmVhdGUoZG9jdW1lbnQuYm9keSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29uZmlybU9yZGVyKGZvcm1EYXRhLCBleHRyYVBhcmFtcyk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50LnNob3dWYWxpZGF0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmFkeWVuQ2hlY2tvdXQub3B0aW9ucy5lbnZpcm9ubWVudCA9PT0gJ3Rlc3QnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnUGF5bWVudCBmYWlsZWQ6ICcsIHN0YXRlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0uYmluZCh0aGlzKVxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCFpc09uZUNsaWNrICYmIHBheW1lbnRNZXRob2QudHlwZSA9PT0gJ3NjaGVtZScgJiYgYWR5ZW5DaGVja291dE9wdGlvbnMuZGlzcGxheVNhdmVDcmVkaXRDYXJkT3B0aW9uKSB7XG4gICAgICAgICAgICBjb25maWd1cmF0aW9uLmVuYWJsZVN0b3JlRGV0YWlscyA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHBheW1lbnRNZXRob2RJbnN0YW5jZSA9IHRoaXMuYWR5ZW5DaGVja291dC5jcmVhdGUocGF5bWVudE1ldGhvZC50eXBlLCBjb25maWd1cmF0aW9uKTtcbiAgICAgICAgICAgIHBheW1lbnRNZXRob2RJbnN0YW5jZS5tb3VudCgnIycgKyB0aGlzLmVsLmlkKTtcbiAgICAgICAgICAgIHRoaXMuY29uZmlybUZvcm1TdWJtaXQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGZvcm0gPSAgRG9tQWNjZXNzLnF1ZXJ5U2VsZWN0b3IoZG9jdW1lbnQsICcjY29uZmlybU9yZGVyRm9ybScpO1xuICAgICAgICAgICAgICAgIGlmICghZm9ybS5jaGVja1ZhbGlkaXR5KCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIHRoaXMuZWwucGFyZW50Tm9kZS5zY3JvbGxJbnRvVmlldyh7XG4gICAgICAgICAgICAgICAgICAgIGJlaGF2aW9yOiBcInNtb290aFwiLFxuICAgICAgICAgICAgICAgICAgICBibG9jazogICAgXCJzdGFydFwiLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHBheW1lbnRNZXRob2RJbnN0YW5jZS5zdWJtaXQoKTtcbiAgICAgICAgICAgIH0uYmluZCh0aGlzKSk7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihwYXltZW50TWV0aG9kLnR5cGUsIGVycik7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhcHBlbmRHaWZ0Y2FyZFN1bW1hcnkoKSB7XG4gICAgICAgIGlmKHBhcnNlSW50KGFkeWVuQ2hlY2tvdXRPcHRpb25zLmdpZnRjYXJkRGlzY291bnQpICYmIHRoaXMuc2hvcHBpbmdDYXJ0U3VtbWFyeUJsb2NrLmxlbmd0aCkge1xuICAgICAgICAgICAgdGhpcy5zaG9wcGluZ0NhcnRTdW1tYXJ5RGV0YWlscyA9ICQoJzxkdCBjbGFzcz1cImNvbC03IGNoZWNrb3V0LWFzaWRlLXN1bW1hcnktbGFiZWwgY2hlY2tvdXQtYXNpZGUtc3VtbWFyeS10b3RhbCBhZHllbi1naWZ0Y2FyZC1zdW1tYXJ5XCI+R2lmdGNhcmQgZGlzY291bnQ8L2R0PicgK1xuICAgICAgICAgICAgICAgICc8ZGQgY2xhc3M9XCJjb2wtNSBjaGVja291dC1hc2lkZS1zdW1tYXJ5LXZhbHVlIGNoZWNrb3V0LWFzaWRlLXN1bW1hcnktdG90YWwgYWR5ZW4tZ2lmdGNhcmQtc3VtbWFyeVwiPicgKyBhZHllbkNoZWNrb3V0T3B0aW9ucy5jdXJyZW5jeVN5bWJvbCArIHRoaXMuZ2lmdGNhcmREaXNjb3VudCArICc8L2RkPicgK1xuICAgICAgICAgICAgICAgICc8ZHQgY2xhc3M9XCJjb2wtNyBjaGVja291dC1hc2lkZS1zdW1tYXJ5LWxhYmVsIGNoZWNrb3V0LWFzaWRlLXN1bW1hcnktdG90YWwgYWR5ZW4tZ2lmdGNhcmQtc3VtbWFyeVwiPlJlbWFpbmluZyBhbW91bnQ8L2R0PicgK1xuICAgICAgICAgICAgICAgICc8ZGQgY2xhc3M9XCJjb2wtNSBjaGVja291dC1hc2lkZS1zdW1tYXJ5LXZhbHVlIGNoZWNrb3V0LWFzaWRlLXN1bW1hcnktdG90YWwgYWR5ZW4tZ2lmdGNhcmQtc3VtbWFyeVwiPicgKyBhZHllbkNoZWNrb3V0T3B0aW9ucy5jdXJyZW5jeVN5bWJvbCArIHRoaXMucmVtYWluaW5nQW1vdW50ICsgJzwvZGQ+Jyk7XG4gICAgICAgICAgICB0aGlzLnNob3BwaW5nQ2FydFN1bW1hcnlEZXRhaWxzLmFwcGVuZFRvKHRoaXMuc2hvcHBpbmdDYXJ0U3VtbWFyeUJsb2NrWzBdKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgYWRkcmVzcyBkZXRhaWxzIGJhc2VkIG9uIHRoZSBwYXNzZWQgZGF0YSBpbiBjb25maXJtLXBheW1lbnQgdHdpZyBmaWxlXG4gICAgICogSWYgbm8gcGhvbmUgbnVtYmVyIGlzIGxpbmtlZCB0byBjdXN0b21lciwgZG8gbm90IHNldCBhZGRyZXNzRGV0YWlscyBhbmQgdXBkYXRlIFByb2R1Y3QgVHlwZVxuICAgICAqXG4gICAgICogQHBhcmFtIGV4dHJhXG4gICAgICovXG4gICAgc2V0QWRkcmVzc0RldGFpbHMoZXh0cmEpIHtcbiAgICAgICAgaWYgKGFjdGl2ZVNoaXBwaW5nQWRkcmVzcy5waG9uZU51bWJlciAhPT0gJycpIHtcbiAgICAgICAgICAgIGV4dHJhLmFkZHJlc3NEZXRhaWxzID0ge1xuICAgICAgICAgICAgICAgIG5hbWU6IHNob3BwZXJEZXRhaWxzLmZpcnN0TmFtZSArICcgJyArIHNob3BwZXJEZXRhaWxzLmxhc3ROYW1lLFxuICAgICAgICAgICAgICAgIGFkZHJlc3NMaW5lMTogYWN0aXZlU2hpcHBpbmdBZGRyZXNzLnN0cmVldCxcbiAgICAgICAgICAgICAgICBjaXR5OiBhY3RpdmVTaGlwcGluZ0FkZHJlc3MuY2l0eSxcbiAgICAgICAgICAgICAgICBwb3N0YWxDb2RlOiBhY3RpdmVTaGlwcGluZ0FkZHJlc3MucG9zdGFsQ29kZSxcbiAgICAgICAgICAgICAgICBjb3VudHJ5Q29kZTogYWN0aXZlU2hpcHBpbmdBZGRyZXNzLmNvdW50cnksXG4gICAgICAgICAgICAgICAgcGhvbmVOdW1iZXI6IGFjdGl2ZVNoaXBwaW5nQWRkcmVzcy5waG9uZU51bWJlclxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGV4dHJhLnByb2R1Y3RUeXBlID0gJ1BheU9ubHknO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGV4dHJhO1xuICAgIH1cbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7Ozs7Ozs7Ozs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBREE7QUFUQTs7QUFlQTtBQUNBOztBQURBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRUE7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7OztBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBRUE7QUFDQTs7O0FBRUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUtBOzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFEQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFFQTtBQUNBO0FBS0E7QUFDQTs7O0FBRUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBOzs7QUFFQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQURBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFHQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUVBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWxEQTtBQUNBO0FBb0RBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFFQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWhCQTtBQUNBO0FBaUJBO0FBSUE7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQURBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUVBO0FBQUE7QUFFQTs7O0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUVBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBcEJBO0FBQ0E7QUFxQkE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU5BO0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0FBeGhCQTtBQUNBOztBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///h8V8\n");

/***/ }),

/***/ "n9eb":
/*!*******************************************************************************************************!*\
  !*** /var/www/html/vendor/adyen/adyen-shopware6/src/Resources/app/storefront/src/cart/cart.plugin.js ***!
  \*******************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function($) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return CartPlugin; });\n/* harmony import */ var src_plugin_system_plugin_class__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! src/plugin-system/plugin.class */ \"FGIj\");\n/* harmony import */ var src_helper_dom_access_helper__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! src/helper/dom-access.helper */ \"gHbT\");\n/* harmony import */ var src_service_store_api_client_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/service/store-api-client.service */ \"p4AR\");\n/* harmony import */ var src_utility_loading_indicator_element_loading_indicator_util__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/utility/loading-indicator/element-loading-indicator.util */ \"u0Tz\");\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\n/*\n *                       ######\n *                       ######\n * ############    ####( ######  #####. ######  ############   ############\n * #############  #####( ######  #####. ######  #############  #############\n *        ######  #####( ######  #####. ######  #####  ######  #####  ######\n * ###### ######  #####( ######  #####. ######  #####  #####   #####  ######\n * ###### ######  #####( ######  #####. ######  #####          #####  ######\n * #############  #############  #############  #############  #####  ######\n *  ############   ############  #############   ############  #####  ######\n *                                      ######\n *                               #############\n *                               ############\n *\n * Adyen Payment Module\n *\n * Copyright (c) 2022 Adyen N.V.\n * This file is open source and available under the MIT license.\n * See the LICENSE file for more info.\n *\n */\n\n\n\n\n\nvar CartPlugin = /*#__PURE__*/function (_Plugin) {\n  _inherits(CartPlugin, _Plugin);\n\n  function CartPlugin() {\n    _classCallCheck(this, CartPlugin);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(CartPlugin).apply(this, arguments));\n  }\n\n  _createClass(CartPlugin, [{\n    key: \"init\",\n    value: function init() {\n      this._client = new src_service_store_api_client_service__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\n      this.adyenCheckout = Promise;\n      this.paymentMethodInstance = null;\n      this.selectedGiftcard = adyenGiftcardsConfiguration.selectedPaymentMethodId;\n      this.initializeCheckoutComponent().then(function () {\n        this.observeGiftcardSelection();\n      }.bind(this));\n      this.giftcardHeader = $('.adyen-giftcard-header');\n      this.giftcardComponentClose = $('.adyen-close-giftcard-component');\n      this.removeGiftcardButton = $('.adyen-remove-giftcard');\n      this.minorUnitsQuotient = adyenGiftcardsConfiguration.totalInMinorUnits / adyenGiftcardsConfiguration.totalPrice;\n      this.giftcardDiscount = (adyenGiftcardsConfiguration.giftcardDiscount / this.minorUnitsQuotient).toFixed(2);\n      this.remainingAmount = (adyenGiftcardsConfiguration.totalPrice - this.giftcardDiscount).toFixed(2);\n      this.offCanvasCartSummaryBlock = $('.offcanvas-summary-list');\n      this.shoppingCartSummaryBlock = $('.checkout-aside-summary-list');\n      this.offCanvasSummaryDetails = null;\n      this.shoppingCartSummaryDetails = null;\n      this.giftcardComponentClose.on('click', function (event) {\n        $(event.currentTarget).hide();\n        this.selectedGiftcard = null;\n        this.giftcardHeader.html(' ');\n\n        if (this.paymentMethodInstance) {\n          this.paymentMethodInstance.unmount();\n        }\n      }.bind(this));\n      this.removeGiftcardButton.on('click', function (event) {\n        this.removeGiftcard();\n      }.bind(this));\n\n      if (parseInt(adyenGiftcardsConfiguration.giftcardDiscount)) {\n        this.onGiftcardSelected();\n      }\n    }\n  }, {\n    key: \"initializeCheckoutComponent\",\n    value: function () {\n      var _initializeCheckoutComponent = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n        var _adyenCheckoutConfigu, locale, clientKey, environment, ADYEN_CHECKOUT_CONFIG;\n\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _adyenCheckoutConfigu = adyenCheckoutConfiguration, locale = _adyenCheckoutConfigu.locale, clientKey = _adyenCheckoutConfigu.clientKey, environment = _adyenCheckoutConfigu.environment;\n                ADYEN_CHECKOUT_CONFIG = {\n                  locale: locale,\n                  clientKey: clientKey,\n                  environment: environment,\n                  amount: {\n                    currency: adyenGiftcardsConfiguration.currency,\n                    value: adyenGiftcardsConfiguration.totalInMinorUnits\n                  }\n                };\n                _context.next = 4;\n                return AdyenCheckout(ADYEN_CHECKOUT_CONFIG);\n\n              case 4:\n                this.adyenCheckout = _context.sent;\n\n              case 5:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function initializeCheckoutComponent() {\n        return _initializeCheckoutComponent.apply(this, arguments);\n      }\n\n      return initializeCheckoutComponent;\n    }()\n  }, {\n    key: \"observeGiftcardSelection\",\n    value: function observeGiftcardSelection() {\n      $('.adyen-giftcard').on('click', function (event) {\n        this.selectedGiftcard = JSON.parse(event.currentTarget.dataset.giftcard);\n        this.mountGiftcardComponent(this.selectedGiftcard.extensions.adyenGiftcardData[0]);\n      }.bind(this));\n    }\n  }, {\n    key: \"mountGiftcardComponent\",\n    value: function mountGiftcardComponent(giftcard) {\n      if (this.giftcardDiscount > 0) {\n        return;\n      }\n\n      if (this.paymentMethodInstance) {\n        this.paymentMethodInstance.unmount();\n      }\n\n      src_utility_loading_indicator_element_loading_indicator_util__WEBPACK_IMPORTED_MODULE_3__[\"default\"].create(src_helper_dom_access_helper__WEBPACK_IMPORTED_MODULE_1__[\"default\"].querySelector(document, '#adyen-giftcard-component'));\n      this.giftcardHeader.html(giftcard.name);\n      this.giftcardComponentClose.show();\n\n      var giftcardConfiguration = _extends({}, giftcard, {\n        showPayButton: true,\n        onBalanceCheck: this.handleBalanceCheck.bind(this),\n        onSubmit: this.onGiftcardSubmit.bind(this)\n      });\n\n      try {\n        this.paymentMethodInstance = this.adyenCheckout.create('giftcard', giftcardConfiguration);\n        this.paymentMethodInstance.mount('#adyen-giftcard-component');\n      } catch (e) {\n        console.log('giftcard not available');\n      }\n\n      src_utility_loading_indicator_element_loading_indicator_util__WEBPACK_IMPORTED_MODULE_3__[\"default\"].remove(src_helper_dom_access_helper__WEBPACK_IMPORTED_MODULE_1__[\"default\"].querySelector(document, '#adyen-giftcard-component'));\n    }\n  }, {\n    key: \"handleBalanceCheck\",\n    value: function handleBalanceCheck(resolve, reject, data) {\n      this._client.post(\"\".concat(adyenGiftcardsConfiguration.checkBalanceUrl), JSON.stringify({\n        paymentMethod: data.paymentMethod\n      }), function (response) {\n        response = JSON.parse(response);\n\n        if ('Success' !== response.resultCode) {\n          console.error(response.resultCode);\n          reject(response.resultCode);\n        } else {\n          // 0. compare balance to total amount to be paid\n          var balance = parseFloat(response.balance.value);\n\n          if (balance >= adyenGiftcardsConfiguration.totalInMinorUnits) {\n            // Render pay button for giftcard\n            resolve(response);\n          } else {\n            this.remainingAmount = ((adyenGiftcardsConfiguration.totalInMinorUnits - balance) / this.minorUnitsQuotient).toFixed(2);\n            resolve(response);\n            this.saveGiftcardStateData(data, balance.toString(), this.selectedGiftcard.id);\n          }\n        }\n      }.bind(this));\n    }\n  }, {\n    key: \"onGiftcardSubmit\",\n    value: function onGiftcardSubmit(state) {\n      src_utility_loading_indicator_element_loading_indicator_util__WEBPACK_IMPORTED_MODULE_3__[\"default\"].create(document.body);\n\n      if (state.isValid) {\n        this.setGiftcardAsPaymentMethod(state.data);\n      }\n    }\n  }, {\n    key: \"saveGiftcardStateData\",\n    value: function saveGiftcardStateData(stateData, amountInMinorUnits, paymentMethodId) {\n      // save state data to database, set giftcard as payment method and proceed to checkout\n      this._client.post(adyenGiftcardsConfiguration.setGiftcardUrl, JSON.stringify({\n        stateData: stateData,\n        amount: amountInMinorUnits,\n        paymentMethodId: paymentMethodId\n      }), function (response) {\n        if (JSON.parse(response).length === 0) {\n          this.giftcardDiscount = (amountInMinorUnits / this.minorUnitsQuotient).toFixed(2);\n          this.remainingAmount = (adyenGiftcardsConfiguration.totalPrice - this.giftcardDiscount).toFixed(2);\n          this.onGiftcardSelected();\n          src_utility_loading_indicator_element_loading_indicator_util__WEBPACK_IMPORTED_MODULE_3__[\"default\"].remove(document.body);\n        }\n      }.bind(this));\n    }\n  }, {\n    key: \"setGiftcardAsPaymentMethod\",\n    value: function setGiftcardAsPaymentMethod(stateData) {\n      this._client.patch(adyenGiftcardsConfiguration.switchContextUrl, JSON.stringify({\n        paymentMethodId: this.selectedGiftcard.id\n      }), function (response) {\n        this.saveGiftcardStateData(stateData, adyenGiftcardsConfiguration.totalInMinorUnits, this.selectedGiftcard.id);\n      }.bind(this));\n    }\n  }, {\n    key: \"removeGiftcard\",\n    value: function removeGiftcard() {\n      src_utility_loading_indicator_element_loading_indicator_util__WEBPACK_IMPORTED_MODULE_3__[\"default\"].create(document.body);\n\n      this._client.post(adyenGiftcardsConfiguration.removeGiftcardUrl, new FormData(), function (response) {\n        if (JSON.parse(response).length === 0) {\n          this.giftcardDiscount = 0;\n          this.remainingAmount = (adyenGiftcardsConfiguration.totalPrice - this.giftcardDiscount).toFixed(2);\n\n          if (this.offCanvasCartSummaryBlock.length) {\n            this.offCanvasCartSummaryBlock.children('.adyen-giftcard-summary').remove();\n          }\n\n          if (this.shoppingCartSummaryBlock.length) {\n            this.shoppingCartSummaryBlock.children('.adyen-giftcard-summary').remove();\n          }\n\n          this.removeGiftcardButton.hide(); // Show giftcards\n\n          $('.adyen-giftcard').show();\n          src_utility_loading_indicator_element_loading_indicator_util__WEBPACK_IMPORTED_MODULE_3__[\"default\"].remove(document.body);\n        }\n      }.bind(this));\n    }\n  }, {\n    key: \"appendGiftcardSummary\",\n    value: function appendGiftcardSummary() {\n      if (this.offCanvasCartSummaryBlock.length) {\n        this.offCanvasSummaryDetails = $('<dt class=\"col-7 summary-label summary-total adyen-giftcard-summary\">Giftcard discount</dt>' + '<dd class=\"col-5 summary-value summary-total adyen-giftcard-summary\">' + adyenGiftcardsConfiguration.currencySymbol + this.giftcardDiscount + '</dd>' + '<dt class=\"col-7 summary-label summary-total adyen-giftcard-summary\">Remaining amount</dt>' + '<dd class=\"col-5 summary-value summary-total adyen-giftcard-summary\">' + adyenGiftcardsConfiguration.currencySymbol + this.remainingAmount + '</dd>');\n        this.offCanvasSummaryDetails.appendTo(this.offCanvasCartSummaryBlock[0]);\n      }\n\n      if (this.shoppingCartSummaryBlock.length) {\n        this.shoppingCartSummaryDetails = $('<dt class=\"col-7 checkout-aside-summary-label checkout-aside-summary-total adyen-giftcard-summary\">Giftcard discount</dt>' + '<dd class=\"col-5 checkout-aside-summary-value checkout-aside-summary-total adyen-giftcard-summary\">' + adyenGiftcardsConfiguration.currencySymbol + this.giftcardDiscount + '</dd>' + '<dt class=\"col-7 checkout-aside-summary-label checkout-aside-summary-total adyen-giftcard-summary\">Remaining amount</dt>' + '<dd class=\"col-5 checkout-aside-summary-value checkout-aside-summary-total adyen-giftcard-summary\">' + adyenGiftcardsConfiguration.currencySymbol + this.remainingAmount + '</dd>');\n        this.shoppingCartSummaryDetails.appendTo(this.shoppingCartSummaryBlock[0]);\n      }\n    }\n  }, {\n    key: \"onGiftcardSelected\",\n    value: function onGiftcardSelected() {\n      // Remove component\n      if (this.paymentMethodInstance) {\n        this.paymentMethodInstance.unmount();\n      }\n\n      this.giftcardComponentClose.hide(); // Hide giftcards\n\n      $('.adyen-giftcard').hide();\n      this.giftcardHeader.html(' ');\n      this.appendGiftcardSummary(); // Show Remove button\n\n      this.removeGiftcardButton.show();\n    }\n  }]);\n\n  return CartPlugin;\n}(src_plugin_system_plugin_class__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ../node_modules/jquery/dist/jquery.slim.js */ \"UoTJ\")))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibjllYi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8vdmFyL3d3dy9odG1sL3ZlbmRvci9hZHllbi9hZHllbi1zaG9wd2FyZTYvc3JjL1Jlc291cmNlcy9hcHAvc3RvcmVmcm9udC9zcmMvY2FydC9jYXJ0LnBsdWdpbi5qcz8wOTRmIl0sInNvdXJjZXNDb250ZW50IjpbIi8qXG4gKiAgICAgICAgICAgICAgICAgICAgICAgIyMjIyMjXG4gKiAgICAgICAgICAgICAgICAgICAgICAgIyMjIyMjXG4gKiAjIyMjIyMjIyMjIyMgICAgIyMjIyggIyMjIyMjICAjIyMjIy4gIyMjIyMjICAjIyMjIyMjIyMjIyMgICAjIyMjIyMjIyMjIyNcbiAqICMjIyMjIyMjIyMjIyMgICMjIyMjKCAjIyMjIyMgICMjIyMjLiAjIyMjIyMgICMjIyMjIyMjIyMjIyMgICMjIyMjIyMjIyMjIyNcbiAqICAgICAgICAjIyMjIyMgICMjIyMjKCAjIyMjIyMgICMjIyMjLiAjIyMjIyMgICMjIyMjICAjIyMjIyMgICMjIyMjICAjIyMjIyNcbiAqICMjIyMjIyAjIyMjIyMgICMjIyMjKCAjIyMjIyMgICMjIyMjLiAjIyMjIyMgICMjIyMjICAjIyMjIyAgICMjIyMjICAjIyMjIyNcbiAqICMjIyMjIyAjIyMjIyMgICMjIyMjKCAjIyMjIyMgICMjIyMjLiAjIyMjIyMgICMjIyMjICAgICAgICAgICMjIyMjICAjIyMjIyNcbiAqICMjIyMjIyMjIyMjIyMgICMjIyMjIyMjIyMjIyMgICMjIyMjIyMjIyMjIyMgICMjIyMjIyMjIyMjIyMgICMjIyMjICAjIyMjIyNcbiAqICAjIyMjIyMjIyMjIyMgICAjIyMjIyMjIyMjIyMgICMjIyMjIyMjIyMjIyMgICAjIyMjIyMjIyMjIyMgICMjIyMjICAjIyMjIyNcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAjIyMjIyNcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICMjIyMjIyMjIyMjIyNcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICMjIyMjIyMjIyMjI1xuICpcbiAqIEFkeWVuIFBheW1lbnQgTW9kdWxlXG4gKlxuICogQ29weXJpZ2h0IChjKSAyMDIyIEFkeWVuIE4uVi5cbiAqIFRoaXMgZmlsZSBpcyBvcGVuIHNvdXJjZSBhbmQgYXZhaWxhYmxlIHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cbiAqIFNlZSB0aGUgTElDRU5TRSBmaWxlIGZvciBtb3JlIGluZm8uXG4gKlxuICovXG5cbmltcG9ydCBQbHVnaW4gZnJvbSAnc3JjL3BsdWdpbi1zeXN0ZW0vcGx1Z2luLmNsYXNzJztcbmltcG9ydCBEb21BY2Nlc3MgZnJvbSAnc3JjL2hlbHBlci9kb20tYWNjZXNzLmhlbHBlcic7XG5pbXBvcnQgU3RvcmVBcGlDbGllbnQgZnJvbSAnc3JjL3NlcnZpY2Uvc3RvcmUtYXBpLWNsaWVudC5zZXJ2aWNlJztcbmltcG9ydCBFbGVtZW50TG9hZGluZ0luZGljYXRvclV0aWwgZnJvbSAnc3JjL3V0aWxpdHkvbG9hZGluZy1pbmRpY2F0b3IvZWxlbWVudC1sb2FkaW5nLWluZGljYXRvci51dGlsJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FydFBsdWdpbiBleHRlbmRzIFBsdWdpbiB7XG4gICAgaW5pdCgpIHtcbiAgICAgICAgdGhpcy5fY2xpZW50ID0gbmV3IFN0b3JlQXBpQ2xpZW50KCk7XG4gICAgICAgIHRoaXMuYWR5ZW5DaGVja291dCA9IFByb21pc2U7XG4gICAgICAgIHRoaXMucGF5bWVudE1ldGhvZEluc3RhbmNlID0gbnVsbDtcbiAgICAgICAgdGhpcy5zZWxlY3RlZEdpZnRjYXJkID0gYWR5ZW5HaWZ0Y2FyZHNDb25maWd1cmF0aW9uLnNlbGVjdGVkUGF5bWVudE1ldGhvZElkO1xuICAgICAgICB0aGlzLmluaXRpYWxpemVDaGVja291dENvbXBvbmVudCgpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdGhpcy5vYnNlcnZlR2lmdGNhcmRTZWxlY3Rpb24oKTtcbiAgICAgICAgfS5iaW5kKHRoaXMpKTtcbiAgICAgICAgdGhpcy5naWZ0Y2FyZEhlYWRlciA9ICQoJy5hZHllbi1naWZ0Y2FyZC1oZWFkZXInKTtcbiAgICAgICAgdGhpcy5naWZ0Y2FyZENvbXBvbmVudENsb3NlID0gJCgnLmFkeWVuLWNsb3NlLWdpZnRjYXJkLWNvbXBvbmVudCcpO1xuICAgICAgICB0aGlzLnJlbW92ZUdpZnRjYXJkQnV0dG9uID0gJCgnLmFkeWVuLXJlbW92ZS1naWZ0Y2FyZCcpO1xuICAgICAgICB0aGlzLm1pbm9yVW5pdHNRdW90aWVudCA9IGFkeWVuR2lmdGNhcmRzQ29uZmlndXJhdGlvbi50b3RhbEluTWlub3JVbml0cy9hZHllbkdpZnRjYXJkc0NvbmZpZ3VyYXRpb24udG90YWxQcmljZTtcbiAgICAgICAgdGhpcy5naWZ0Y2FyZERpc2NvdW50ID0gKGFkeWVuR2lmdGNhcmRzQ29uZmlndXJhdGlvbi5naWZ0Y2FyZERpc2NvdW50IC8gdGhpcy5taW5vclVuaXRzUXVvdGllbnQpLnRvRml4ZWQoMik7XG4gICAgICAgIHRoaXMucmVtYWluaW5nQW1vdW50ID0gKGFkeWVuR2lmdGNhcmRzQ29uZmlndXJhdGlvbi50b3RhbFByaWNlIC0gdGhpcy5naWZ0Y2FyZERpc2NvdW50KS50b0ZpeGVkKDIpO1xuICAgICAgICB0aGlzLm9mZkNhbnZhc0NhcnRTdW1tYXJ5QmxvY2sgPSAkKCcub2ZmY2FudmFzLXN1bW1hcnktbGlzdCcpO1xuICAgICAgICB0aGlzLnNob3BwaW5nQ2FydFN1bW1hcnlCbG9jayA9ICQoJy5jaGVja291dC1hc2lkZS1zdW1tYXJ5LWxpc3QnKTtcbiAgICAgICAgdGhpcy5vZmZDYW52YXNTdW1tYXJ5RGV0YWlscyA9IG51bGw7XG4gICAgICAgIHRoaXMuc2hvcHBpbmdDYXJ0U3VtbWFyeURldGFpbHMgPSBudWxsO1xuXG4gICAgICAgIHRoaXMuZ2lmdGNhcmRDb21wb25lbnRDbG9zZS5vbignY2xpY2snLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgICQoZXZlbnQuY3VycmVudFRhcmdldCkuaGlkZSgpO1xuICAgICAgICAgICAgdGhpcy5zZWxlY3RlZEdpZnRjYXJkID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuZ2lmdGNhcmRIZWFkZXIuaHRtbCgnICcpO1xuICAgICAgICAgICAgaWYgKHRoaXMucGF5bWVudE1ldGhvZEluc3RhbmNlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wYXltZW50TWV0aG9kSW5zdGFuY2UudW5tb3VudCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LmJpbmQodGhpcykpO1xuICAgICAgICB0aGlzLnJlbW92ZUdpZnRjYXJkQnV0dG9uLm9uKCdjbGljaycsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgdGhpcy5yZW1vdmVHaWZ0Y2FyZCgpO1xuICAgICAgICB9LmJpbmQodGhpcykpO1xuXG4gICAgICAgIGlmIChwYXJzZUludChhZHllbkdpZnRjYXJkc0NvbmZpZ3VyYXRpb24uZ2lmdGNhcmREaXNjb3VudCkpIHtcbiAgICAgICAgICAgIHRoaXMub25HaWZ0Y2FyZFNlbGVjdGVkKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhc3luYyBpbml0aWFsaXplQ2hlY2tvdXRDb21wb25lbnQoKSB7XG4gICAgICAgIGNvbnN0IHsgbG9jYWxlLCBjbGllbnRLZXksIGVudmlyb25tZW50IH0gPSBhZHllbkNoZWNrb3V0Q29uZmlndXJhdGlvbjtcblxuICAgICAgICBjb25zdCBBRFlFTl9DSEVDS09VVF9DT05GSUcgPSB7XG4gICAgICAgICAgICBsb2NhbGUsXG4gICAgICAgICAgICBjbGllbnRLZXksXG4gICAgICAgICAgICBlbnZpcm9ubWVudCxcbiAgICAgICAgICAgIGFtb3VudDoge1xuICAgICAgICAgICAgICAgIGN1cnJlbmN5OiBhZHllbkdpZnRjYXJkc0NvbmZpZ3VyYXRpb24uY3VycmVuY3ksXG4gICAgICAgICAgICAgICAgdmFsdWU6IGFkeWVuR2lmdGNhcmRzQ29uZmlndXJhdGlvbi50b3RhbEluTWlub3JVbml0cyxcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLmFkeWVuQ2hlY2tvdXQgPSBhd2FpdCBBZHllbkNoZWNrb3V0KEFEWUVOX0NIRUNLT1VUX0NPTkZJRyk7XG4gICAgfVxuXG4gICAgb2JzZXJ2ZUdpZnRjYXJkU2VsZWN0aW9uKCkge1xuICAgICAgICAkKCcuYWR5ZW4tZ2lmdGNhcmQnKS5vbignY2xpY2snLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRHaWZ0Y2FyZCA9IEpTT04ucGFyc2UoZXZlbnQuY3VycmVudFRhcmdldC5kYXRhc2V0LmdpZnRjYXJkKTtcbiAgICAgICAgICAgIHRoaXMubW91bnRHaWZ0Y2FyZENvbXBvbmVudCh0aGlzLnNlbGVjdGVkR2lmdGNhcmQuZXh0ZW5zaW9ucy5hZHllbkdpZnRjYXJkRGF0YVswXSk7XG4gICAgICAgIH0uYmluZCh0aGlzKSk7XG4gICAgfVxuXG4gICAgbW91bnRHaWZ0Y2FyZENvbXBvbmVudChnaWZ0Y2FyZCkge1xuICAgICAgICBpZiAodGhpcy5naWZ0Y2FyZERpc2NvdW50ID4gMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnBheW1lbnRNZXRob2RJbnN0YW5jZSkge1xuICAgICAgICAgICAgdGhpcy5wYXltZW50TWV0aG9kSW5zdGFuY2UudW5tb3VudCgpO1xuICAgICAgICB9XG4gICAgICAgIEVsZW1lbnRMb2FkaW5nSW5kaWNhdG9yVXRpbC5jcmVhdGUoRG9tQWNjZXNzLnF1ZXJ5U2VsZWN0b3IoZG9jdW1lbnQsICcjYWR5ZW4tZ2lmdGNhcmQtY29tcG9uZW50JykpO1xuICAgICAgICB0aGlzLmdpZnRjYXJkSGVhZGVyLmh0bWwoZ2lmdGNhcmQubmFtZSk7XG4gICAgICAgIHRoaXMuZ2lmdGNhcmRDb21wb25lbnRDbG9zZS5zaG93KCk7XG4gICAgICAgIGNvbnN0IGdpZnRjYXJkQ29uZmlndXJhdGlvbiA9IE9iamVjdC5hc3NpZ24oe30sIGdpZnRjYXJkLCB7XG4gICAgICAgICAgICBzaG93UGF5QnV0dG9uOiB0cnVlLFxuICAgICAgICAgICAgb25CYWxhbmNlQ2hlY2s6IHRoaXMuaGFuZGxlQmFsYW5jZUNoZWNrLmJpbmQodGhpcyksXG4gICAgICAgICAgICBvblN1Ym1pdDogdGhpcy5vbkdpZnRjYXJkU3VibWl0LmJpbmQodGhpcylcbiAgICAgICAgfSk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0aGlzLnBheW1lbnRNZXRob2RJbnN0YW5jZSA9IHRoaXMuYWR5ZW5DaGVja291dC5jcmVhdGUoJ2dpZnRjYXJkJywgZ2lmdGNhcmRDb25maWd1cmF0aW9uKTtcbiAgICAgICAgICAgIHRoaXMucGF5bWVudE1ldGhvZEluc3RhbmNlLm1vdW50KCcjYWR5ZW4tZ2lmdGNhcmQtY29tcG9uZW50Jyk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdnaWZ0Y2FyZCBub3QgYXZhaWxhYmxlJyk7XG4gICAgICAgIH1cbiAgICAgICAgRWxlbWVudExvYWRpbmdJbmRpY2F0b3JVdGlsLnJlbW92ZShEb21BY2Nlc3MucXVlcnlTZWxlY3Rvcihkb2N1bWVudCwgJyNhZHllbi1naWZ0Y2FyZC1jb21wb25lbnQnKSk7XG4gICAgfVxuXG4gICAgaGFuZGxlQmFsYW5jZUNoZWNrKHJlc29sdmUsIHJlamVjdCwgZGF0YSkge1xuICAgICAgICB0aGlzLl9jbGllbnQucG9zdChcbiAgICAgICAgICAgIGAke2FkeWVuR2lmdGNhcmRzQ29uZmlndXJhdGlvbi5jaGVja0JhbGFuY2VVcmx9YCxcbiAgICAgICAgICAgIEpTT04uc3RyaW5naWZ5KHtwYXltZW50TWV0aG9kOiBkYXRhLnBheW1lbnRNZXRob2R9KSxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gSlNPTi5wYXJzZShyZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgaWYgKCdTdWNjZXNzJyAhPT0gcmVzcG9uc2UucmVzdWx0Q29kZSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKHJlc3BvbnNlLnJlc3VsdENvZGUpO1xuICAgICAgICAgICAgICAgICAgICByZWplY3QocmVzcG9uc2UucmVzdWx0Q29kZSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gMC4gY29tcGFyZSBiYWxhbmNlIHRvIHRvdGFsIGFtb3VudCB0byBiZSBwYWlkXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGJhbGFuY2UgPSBwYXJzZUZsb2F0KHJlc3BvbnNlLmJhbGFuY2UudmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoYmFsYW5jZSA+PSBhZHllbkdpZnRjYXJkc0NvbmZpZ3VyYXRpb24udG90YWxJbk1pbm9yVW5pdHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJlbmRlciBwYXkgYnV0dG9uIGZvciBnaWZ0Y2FyZFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShyZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbWFpbmluZ0Ftb3VudCA9ICgoYWR5ZW5HaWZ0Y2FyZHNDb25maWd1cmF0aW9uLnRvdGFsSW5NaW5vclVuaXRzIC0gYmFsYW5jZSkgLyB0aGlzLm1pbm9yVW5pdHNRdW90aWVudCkudG9GaXhlZCgyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUocmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zYXZlR2lmdGNhcmRTdGF0ZURhdGEoZGF0YSwgYmFsYW5jZS50b1N0cmluZygpLCB0aGlzLnNlbGVjdGVkR2lmdGNhcmQuaWQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfS5iaW5kKHRoaXMpXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgb25HaWZ0Y2FyZFN1Ym1pdChzdGF0ZSkge1xuICAgICAgICBFbGVtZW50TG9hZGluZ0luZGljYXRvclV0aWwuY3JlYXRlKGRvY3VtZW50LmJvZHkpO1xuICAgICAgICBpZiAoc3RhdGUuaXNWYWxpZCkge1xuICAgICAgICAgICAgdGhpcy5zZXRHaWZ0Y2FyZEFzUGF5bWVudE1ldGhvZChzdGF0ZS5kYXRhKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHNhdmVHaWZ0Y2FyZFN0YXRlRGF0YShzdGF0ZURhdGEsIGFtb3VudEluTWlub3JVbml0cywgcGF5bWVudE1ldGhvZElkKSB7XG4gICAgICAgIC8vIHNhdmUgc3RhdGUgZGF0YSB0byBkYXRhYmFzZSwgc2V0IGdpZnRjYXJkIGFzIHBheW1lbnQgbWV0aG9kIGFuZCBwcm9jZWVkIHRvIGNoZWNrb3V0XG4gICAgICAgIHRoaXMuX2NsaWVudC5wb3N0KGFkeWVuR2lmdGNhcmRzQ29uZmlndXJhdGlvbi5zZXRHaWZ0Y2FyZFVybCwgSlNPTi5zdHJpbmdpZnkoeyBzdGF0ZURhdGEsIGFtb3VudDogYW1vdW50SW5NaW5vclVuaXRzLCBwYXltZW50TWV0aG9kSWQgfSksIGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgaWYgKEpTT04ucGFyc2UocmVzcG9uc2UpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuZ2lmdGNhcmREaXNjb3VudCA9IChhbW91bnRJbk1pbm9yVW5pdHMgLyB0aGlzLm1pbm9yVW5pdHNRdW90aWVudCkudG9GaXhlZCgyKTtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbWFpbmluZ0Ftb3VudCA9IChhZHllbkdpZnRjYXJkc0NvbmZpZ3VyYXRpb24udG90YWxQcmljZSAtIHRoaXMuZ2lmdGNhcmREaXNjb3VudCkudG9GaXhlZCgyKTtcbiAgICAgICAgICAgICAgICB0aGlzLm9uR2lmdGNhcmRTZWxlY3RlZCgpO1xuICAgICAgICAgICAgICAgIEVsZW1lbnRMb2FkaW5nSW5kaWNhdG9yVXRpbC5yZW1vdmUoZG9jdW1lbnQuYm9keSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0uYmluZCh0aGlzKSk7XG4gICAgfVxuXG4gICAgc2V0R2lmdGNhcmRBc1BheW1lbnRNZXRob2Qoc3RhdGVEYXRhKSB7XG4gICAgICAgIHRoaXMuX2NsaWVudC5wYXRjaChhZHllbkdpZnRjYXJkc0NvbmZpZ3VyYXRpb24uc3dpdGNoQ29udGV4dFVybCwgSlNPTi5zdHJpbmdpZnkoe3BheW1lbnRNZXRob2RJZDogdGhpcy5zZWxlY3RlZEdpZnRjYXJkLmlkfSksIGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgdGhpcy5zYXZlR2lmdGNhcmRTdGF0ZURhdGEoc3RhdGVEYXRhLCBhZHllbkdpZnRjYXJkc0NvbmZpZ3VyYXRpb24udG90YWxJbk1pbm9yVW5pdHMsIHRoaXMuc2VsZWN0ZWRHaWZ0Y2FyZC5pZClcbiAgICAgICAgfS5iaW5kKHRoaXMpKTtcbiAgICB9XG5cbiAgICByZW1vdmVHaWZ0Y2FyZCgpIHtcbiAgICAgICAgRWxlbWVudExvYWRpbmdJbmRpY2F0b3JVdGlsLmNyZWF0ZShkb2N1bWVudC5ib2R5KTtcbiAgICAgICAgdGhpcy5fY2xpZW50LnBvc3QoYWR5ZW5HaWZ0Y2FyZHNDb25maWd1cmF0aW9uLnJlbW92ZUdpZnRjYXJkVXJsLCBuZXcgRm9ybURhdGEsIGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICBpZiAoSlNPTi5wYXJzZShyZXNwb25zZSkubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5naWZ0Y2FyZERpc2NvdW50ID0gMDtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbWFpbmluZ0Ftb3VudCA9IChhZHllbkdpZnRjYXJkc0NvbmZpZ3VyYXRpb24udG90YWxQcmljZSAtIHRoaXMuZ2lmdGNhcmREaXNjb3VudCkudG9GaXhlZCgyKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5vZmZDYW52YXNDYXJ0U3VtbWFyeUJsb2NrLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm9mZkNhbnZhc0NhcnRTdW1tYXJ5QmxvY2suY2hpbGRyZW4oJy5hZHllbi1naWZ0Y2FyZC1zdW1tYXJ5JykucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnNob3BwaW5nQ2FydFN1bW1hcnlCbG9jay5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zaG9wcGluZ0NhcnRTdW1tYXJ5QmxvY2suY2hpbGRyZW4oJy5hZHllbi1naWZ0Y2FyZC1zdW1tYXJ5JykucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlR2lmdGNhcmRCdXR0b24uaGlkZSgpO1xuICAgICAgICAgICAgICAgIC8vIFNob3cgZ2lmdGNhcmRzXG4gICAgICAgICAgICAgICAgJCgnLmFkeWVuLWdpZnRjYXJkJykuc2hvdygpO1xuICAgICAgICAgICAgICAgIEVsZW1lbnRMb2FkaW5nSW5kaWNhdG9yVXRpbC5yZW1vdmUoZG9jdW1lbnQuYm9keSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0uYmluZCh0aGlzKSk7XG4gICAgfVxuXG4gICAgYXBwZW5kR2lmdGNhcmRTdW1tYXJ5KCkge1xuICAgICAgICBpZiAodGhpcy5vZmZDYW52YXNDYXJ0U3VtbWFyeUJsb2NrLmxlbmd0aCkge1xuICAgICAgICAgICAgdGhpcy5vZmZDYW52YXNTdW1tYXJ5RGV0YWlscyA9ICQoJzxkdCBjbGFzcz1cImNvbC03IHN1bW1hcnktbGFiZWwgc3VtbWFyeS10b3RhbCBhZHllbi1naWZ0Y2FyZC1zdW1tYXJ5XCI+R2lmdGNhcmQgZGlzY291bnQ8L2R0PicgK1xuICAgICAgICAgICAgICAgICc8ZGQgY2xhc3M9XCJjb2wtNSBzdW1tYXJ5LXZhbHVlIHN1bW1hcnktdG90YWwgYWR5ZW4tZ2lmdGNhcmQtc3VtbWFyeVwiPicgKyBhZHllbkdpZnRjYXJkc0NvbmZpZ3VyYXRpb24uY3VycmVuY3lTeW1ib2wgKyB0aGlzLmdpZnRjYXJkRGlzY291bnQgKyAnPC9kZD4nICtcbiAgICAgICAgICAgICAgICAnPGR0IGNsYXNzPVwiY29sLTcgc3VtbWFyeS1sYWJlbCBzdW1tYXJ5LXRvdGFsIGFkeWVuLWdpZnRjYXJkLXN1bW1hcnlcIj5SZW1haW5pbmcgYW1vdW50PC9kdD4nICtcbiAgICAgICAgICAgICAgICAnPGRkIGNsYXNzPVwiY29sLTUgc3VtbWFyeS12YWx1ZSBzdW1tYXJ5LXRvdGFsIGFkeWVuLWdpZnRjYXJkLXN1bW1hcnlcIj4nICsgYWR5ZW5HaWZ0Y2FyZHNDb25maWd1cmF0aW9uLmN1cnJlbmN5U3ltYm9sICsgdGhpcy5yZW1haW5pbmdBbW91bnQgKyAnPC9kZD4nKTtcbiAgICAgICAgICAgIHRoaXMub2ZmQ2FudmFzU3VtbWFyeURldGFpbHMuYXBwZW5kVG8odGhpcy5vZmZDYW52YXNDYXJ0U3VtbWFyeUJsb2NrWzBdKTtcbiAgICAgICAgfVxuICAgICAgICBpZih0aGlzLnNob3BwaW5nQ2FydFN1bW1hcnlCbG9jay5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRoaXMuc2hvcHBpbmdDYXJ0U3VtbWFyeURldGFpbHMgPSAkKCc8ZHQgY2xhc3M9XCJjb2wtNyBjaGVja291dC1hc2lkZS1zdW1tYXJ5LWxhYmVsIGNoZWNrb3V0LWFzaWRlLXN1bW1hcnktdG90YWwgYWR5ZW4tZ2lmdGNhcmQtc3VtbWFyeVwiPkdpZnRjYXJkIGRpc2NvdW50PC9kdD4nICtcbiAgICAgICAgICAgICAgICAnPGRkIGNsYXNzPVwiY29sLTUgY2hlY2tvdXQtYXNpZGUtc3VtbWFyeS12YWx1ZSBjaGVja291dC1hc2lkZS1zdW1tYXJ5LXRvdGFsIGFkeWVuLWdpZnRjYXJkLXN1bW1hcnlcIj4nICsgYWR5ZW5HaWZ0Y2FyZHNDb25maWd1cmF0aW9uLmN1cnJlbmN5U3ltYm9sICsgdGhpcy5naWZ0Y2FyZERpc2NvdW50ICsgJzwvZGQ+JyArXG4gICAgICAgICAgICAgICAgJzxkdCBjbGFzcz1cImNvbC03IGNoZWNrb3V0LWFzaWRlLXN1bW1hcnktbGFiZWwgY2hlY2tvdXQtYXNpZGUtc3VtbWFyeS10b3RhbCBhZHllbi1naWZ0Y2FyZC1zdW1tYXJ5XCI+UmVtYWluaW5nIGFtb3VudDwvZHQ+JyArXG4gICAgICAgICAgICAgICAgJzxkZCBjbGFzcz1cImNvbC01IGNoZWNrb3V0LWFzaWRlLXN1bW1hcnktdmFsdWUgY2hlY2tvdXQtYXNpZGUtc3VtbWFyeS10b3RhbCBhZHllbi1naWZ0Y2FyZC1zdW1tYXJ5XCI+JyArIGFkeWVuR2lmdGNhcmRzQ29uZmlndXJhdGlvbi5jdXJyZW5jeVN5bWJvbCArIHRoaXMucmVtYWluaW5nQW1vdW50ICsgJzwvZGQ+Jyk7XG4gICAgICAgICAgICB0aGlzLnNob3BwaW5nQ2FydFN1bW1hcnlEZXRhaWxzLmFwcGVuZFRvKHRoaXMuc2hvcHBpbmdDYXJ0U3VtbWFyeUJsb2NrWzBdKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9uR2lmdGNhcmRTZWxlY3RlZCgpIHtcbiAgICAgICAgLy8gUmVtb3ZlIGNvbXBvbmVudFxuICAgICAgICBpZiAodGhpcy5wYXltZW50TWV0aG9kSW5zdGFuY2UpIHtcbiAgICAgICAgICAgIHRoaXMucGF5bWVudE1ldGhvZEluc3RhbmNlLnVubW91bnQoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmdpZnRjYXJkQ29tcG9uZW50Q2xvc2UuaGlkZSgpO1xuICAgICAgICAvLyBIaWRlIGdpZnRjYXJkc1xuICAgICAgICAkKCcuYWR5ZW4tZ2lmdGNhcmQnKS5oaWRlKCk7XG4gICAgICAgIHRoaXMuZ2lmdGNhcmRIZWFkZXIuaHRtbCgnICcpO1xuXG4gICAgICAgIHRoaXMuYXBwZW5kR2lmdGNhcmRTdW1tYXJ5KCk7XG4gICAgICAgIC8vIFNob3cgUmVtb3ZlIGJ1dHRvblxuICAgICAgICB0aGlzLnJlbW92ZUdpZnRjYXJkQnV0dG9uLnNob3coKTtcbiAgICB9XG59XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7OztBQUdBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUpBOztBQVVBO0FBQ0E7O0FBREE7QUFDQTs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBOzs7QUFFQTtBQUNBO0FBRUE7QUFBQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7OztBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBSUE7QUFDQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBOzs7O0FBeExBO0FBQ0E7O0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///n9eb\n");

/***/ })

},[["TVZM","runtime","vendor-node","vendor-shared"]]]);