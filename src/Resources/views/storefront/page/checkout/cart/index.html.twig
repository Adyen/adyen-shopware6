{% sw_extends '@Storefront/storefront/page/checkout/cart/index.html.twig' %}
{% set adyenFrontendData = page.extensions[constant('Adyen\\Shopware\\Subscriber\\StorefrontSubscriber::ADYEN_DATA_EXTENSION_ID')] %}

{% block page_checkout_cart_add_promotion %}
    {{ parent() }}

    {% sw_include '@AdyenPaymentShopware6/storefront/component/adyencheckout.html.twig' %}
    {% sw_include '@AdyenPaymentShopware6/storefront/component/checkout/cart/giftcards.html.twig' %}
{% endblock %}

{% block page_checkout_container %}
    {% if page.cart.lineItems.count is same as(0) %}
        {{ parent() }}
        {% if  page.extensions['errorCodes'].errorCode == 'UNSUCCESSFUL_ADYEN_TRANSACTION'%}
            {% sw_include '@Storefront/storefront/utilities/alert.html.twig' with {
                type: 'danger',
                content: 'adyen.unsuccessful_adyen_transaction' | trans
            } %}
        {% endif %}
    {% else %}
        {{ parent() }}
    {% endif %}
{% endblock %}

{% block page_checkout_cart_header %}
    {{ parent() }}
    {% if page.extensions['errorCodes'].errorCode == 'UNSUCCESSFUL_ADYEN_TRANSACTION'%}
        {% sw_include '@Storefront/storefront/utilities/alert.html.twig' with {
            type: 'danger',
            content: 'adyen.unsuccessful_adyen_transaction' | trans
        } %}
    {% endif %}
{% endblock %}
